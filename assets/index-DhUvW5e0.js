var Ay=Object.defineProperty;var Oy=(i,n,e)=>n in i?Ay(i,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[n]=e;var My=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var g=(i,n,e)=>Oy(i,typeof n!="symbol"?n+"":n,e);var A4=My((_r,kr)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var i1=typeof global=="object"&&global&&global.Object===Object&&global,Ry=typeof self=="object"&&self&&self.Object===Object&&self,oi=i1||Ry||Function("return this")(),Ti=oi.Symbol,o1=Object.prototype,Iy=o1.hasOwnProperty,Ny=o1.toString,pl=Ti?Ti.toStringTag:void 0;function Dy(i){var n=Iy.call(i,pl),e=i[pl];try{i[pl]=void 0;var t=!0}catch{}var r=Ny.call(i);return t&&(n?i[pl]=e:delete i[pl]),r}var Ly=Object.prototype,By=Ly.toString;function Fy(i){return By.call(i)}var Vy="[object Null]",zy="[object Undefined]",Em=Ti?Ti.toStringTag:void 0;function qo(i){return i==null?i===void 0?zy:Vy:Em&&Em in Object(i)?Dy(i):Fy(i)}function Hr(i){return i!=null&&typeof i=="object"}var jy="[object Symbol]";function Zu(i){return typeof i=="symbol"||Hr(i)&&qo(i)==jy}function $y(i,n){for(var e=-1,t=i==null?0:i.length,r=Array(t);++e<t;)r[e]=n(i[e],e,i);return r}var Er=Array.isArray,Wy=1/0,xm=Ti?Ti.prototype:void 0,Cm=xm?xm.toString:void 0;function s1(i){if(typeof i=="string")return i;if(Er(i))return $y(i,s1)+"";if(Zu(i))return Cm?Cm.call(i):"";var n=i+"";return n=="0"&&1/i==-Wy?"-0":n}var Hy=/\s/;function Uy(i){for(var n=i.length;n--&&Hy.test(i.charAt(n)););return n}var qy=/^\s+/;function Ky(i){return i&&i.slice(0,Uy(i)+1).replace(qy,"")}function qt(i){var n=typeof i;return i!=null&&(n=="object"||n=="function")}var Tm=NaN,Gy=/^[-+]0x[0-9a-f]+$/i,Zy=/^0b[01]+$/i,Yy=/^0o[0-7]+$/i,Jy=parseInt;function Sm(i){if(typeof i=="number")return i;if(Zu(i))return Tm;if(qt(i)){var n=typeof i.valueOf=="function"?i.valueOf():i;i=qt(n)?n+"":n}if(typeof i!="string")return i===0?i:+i;i=Ky(i);var e=Zy.test(i);return e||Yy.test(i)?Jy(i.slice(2),e?2:8):Gy.test(i)?Tm:+i}function pf(i){return i}var Qy="[object AsyncFunction]",Xy="[object Function]",ev="[object GeneratorFunction]",tv="[object Proxy]";function Ps(i){if(!qt(i))return!1;var n=qo(i);return n==Xy||n==ev||n==Qy||n==tv}var lh=oi["__core-js_shared__"],Pm=function(){var i=/[^.]+$/.exec(lh&&lh.keys&&lh.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function nv(i){return!!Pm&&Pm in i}var rv=Function.prototype,iv=rv.toString;function Ns(i){if(i!=null){try{return iv.call(i)}catch{}try{return i+""}catch{}}return""}var ov=/[\\^$.*+?()[\]{}|]/g,sv=/^\[object .+?Constructor\]$/,av=Function.prototype,lv=Object.prototype,cv=av.toString,uv=lv.hasOwnProperty,dv=RegExp("^"+cv.call(uv).replace(ov,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hv(i){if(!qt(i)||nv(i))return!1;var n=Ps(i)?dv:sv;return n.test(Ns(i))}function fv(i,n){return i==null?void 0:i[n]}function Ds(i,n){var e=fv(i,n);return hv(e)?e:void 0}var Nh=Ds(oi,"WeakMap"),Am=Object.create,pv=function(){function i(){}return function(n){if(!qt(n))return{};if(Am)return Am(n);i.prototype=n;var e=new i;return i.prototype=void 0,e}}();function mv(i,n,e){switch(e.length){case 0:return i.call(n);case 1:return i.call(n,e[0]);case 2:return i.call(n,e[0],e[1]);case 3:return i.call(n,e[0],e[1],e[2])}return i.apply(n,e)}function a1(i,n){var e=-1,t=i.length;for(n||(n=Array(t));++e<t;)n[e]=i[e];return n}var gv=800,bv=16,wv=Date.now;function yv(i){var n=0,e=0;return function(){var t=wv(),r=bv-(t-e);if(e=t,r>0){if(++n>=gv)return arguments[0]}else n=0;return i.apply(void 0,arguments)}}function vv(i){return function(){return i}}var Ou=function(){try{var i=Ds(Object,"defineProperty");return i({},"",{}),i}catch{}}(),_v=Ou?function(i,n){return Ou(i,"toString",{configurable:!0,enumerable:!1,value:vv(n),writable:!0})}:pf,kv=yv(_v);function Ev(i,n){for(var e=-1,t=i==null?0:i.length;++e<t&&n(i[e],e,i)!==!1;);return i}var xv=9007199254740991,Cv=/^(?:0|[1-9]\d*)$/;function Yu(i,n){var e=typeof i;return n=n??xv,!!n&&(e=="number"||e!="symbol"&&Cv.test(i))&&i>-1&&i%1==0&&i<n}function Ju(i,n,e){n=="__proto__"&&Ou?Ou(i,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):i[n]=e}function Ql(i,n){return i===n||i!==i&&n!==n}var Tv=Object.prototype,Sv=Tv.hasOwnProperty;function mf(i,n,e){var t=i[n];(!(Sv.call(i,n)&&Ql(t,e))||e===void 0&&!(n in i))&&Ju(i,n,e)}function Da(i,n,e,t){var r=!e;e||(e={});for(var o=-1,s=n.length;++o<s;){var l=n[o],u=void 0;u===void 0&&(u=i[l]),r?Ju(e,l,u):mf(e,l,u)}return e}var Om=Math.max;function Pv(i,n,e){return n=Om(n===void 0?i.length-1:n,0),function(){for(var t=arguments,r=-1,o=Om(t.length-n,0),s=Array(o);++r<o;)s[r]=t[n+r];r=-1;for(var l=Array(n+1);++r<n;)l[r]=t[r];return l[n]=e(s),mv(i,this,l)}}function Av(i,n){return kv(Pv(i,n,pf),i+"")}var Ov=9007199254740991;function gf(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Ov}function Qu(i){return i!=null&&gf(i.length)&&!Ps(i)}function Mv(i,n,e){if(!qt(e))return!1;var t=typeof n;return(t=="number"?Qu(e)&&Yu(n,e.length):t=="string"&&n in e)?Ql(e[n],i):!1}function l1(i){return Av(function(n,e){var t=-1,r=e.length,o=r>1?e[r-1]:void 0,s=r>2?e[2]:void 0;for(o=i.length>3&&typeof o=="function"?(r--,o):void 0,s&&Mv(e[0],e[1],s)&&(o=r<3?void 0:o,r=1),n=Object(n);++t<r;){var l=e[t];l&&i(n,l,t,o)}return n})}var Rv=Object.prototype;function bf(i){var n=i&&i.constructor,e=typeof n=="function"&&n.prototype||Rv;return i===e}function Iv(i,n){for(var e=-1,t=Array(i);++e<i;)t[e]=n(e);return t}var Nv="[object Arguments]";function Mm(i){return Hr(i)&&qo(i)==Nv}var c1=Object.prototype,Dv=c1.hasOwnProperty,Lv=c1.propertyIsEnumerable,Mu=Mm(function(){return arguments}())?Mm:function(i){return Hr(i)&&Dv.call(i,"callee")&&!Lv.call(i,"callee")};function Bv(){return!1}var u1=typeof _r=="object"&&_r&&!_r.nodeType&&_r,Rm=u1&&typeof kr=="object"&&kr&&!kr.nodeType&&kr,Fv=Rm&&Rm.exports===u1,Im=Fv?oi.Buffer:void 0,Vv=Im?Im.isBuffer:void 0,Rl=Vv||Bv,zv="[object Arguments]",jv="[object Array]",$v="[object Boolean]",Wv="[object Date]",Hv="[object Error]",Uv="[object Function]",qv="[object Map]",Kv="[object Number]",Gv="[object Object]",Zv="[object RegExp]",Yv="[object Set]",Jv="[object String]",Qv="[object WeakMap]",Xv="[object ArrayBuffer]",e_="[object DataView]",t_="[object Float32Array]",n_="[object Float64Array]",r_="[object Int8Array]",i_="[object Int16Array]",o_="[object Int32Array]",s_="[object Uint8Array]",a_="[object Uint8ClampedArray]",l_="[object Uint16Array]",c_="[object Uint32Array]",Ft={};Ft[t_]=Ft[n_]=Ft[r_]=Ft[i_]=Ft[o_]=Ft[s_]=Ft[a_]=Ft[l_]=Ft[c_]=!0;Ft[zv]=Ft[jv]=Ft[Xv]=Ft[$v]=Ft[e_]=Ft[Wv]=Ft[Hv]=Ft[Uv]=Ft[qv]=Ft[Kv]=Ft[Gv]=Ft[Zv]=Ft[Yv]=Ft[Jv]=Ft[Qv]=!1;function u_(i){return Hr(i)&&gf(i.length)&&!!Ft[qo(i)]}function wf(i){return function(n){return i(n)}}var d1=typeof _r=="object"&&_r&&!_r.nodeType&&_r,kl=d1&&typeof kr=="object"&&kr&&!kr.nodeType&&kr,d_=kl&&kl.exports===d1,ch=d_&&i1.process,Pa=function(){try{var i=kl&&kl.require&&kl.require("util").types;return i||ch&&ch.binding&&ch.binding("util")}catch{}}(),Nm=Pa&&Pa.isTypedArray,yf=Nm?wf(Nm):u_,h_=Object.prototype,f_=h_.hasOwnProperty;function h1(i,n){var e=Er(i),t=!e&&Mu(i),r=!e&&!t&&Rl(i),o=!e&&!t&&!r&&yf(i),s=e||t||r||o,l=s?Iv(i.length,String):[],u=l.length;for(var d in i)(n||f_.call(i,d))&&!(s&&(d=="length"||r&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Yu(d,u)))&&l.push(d);return l}function f1(i,n){return function(e){return i(n(e))}}var p_=f1(Object.keys,Object),m_=Object.prototype,g_=m_.hasOwnProperty;function b_(i){if(!bf(i))return p_(i);var n=[];for(var e in Object(i))g_.call(i,e)&&e!="constructor"&&n.push(e);return n}function Xl(i){return Qu(i)?h1(i):b_(i)}function w_(i){var n=[];if(i!=null)for(var e in Object(i))n.push(e);return n}var y_=Object.prototype,v_=y_.hasOwnProperty;function __(i){if(!qt(i))return w_(i);var n=bf(i),e=[];for(var t in i)t=="constructor"&&(n||!v_.call(i,t))||e.push(t);return e}function La(i){return Qu(i)?h1(i,!0):__(i)}var p1=l1(function(i,n){Da(n,La(n),i)}),k_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E_=/^\w*$/;function vf(i,n){if(Er(i))return!1;var e=typeof i;return e=="number"||e=="symbol"||e=="boolean"||i==null||Zu(i)?!0:E_.test(i)||!k_.test(i)||n!=null&&i in Object(n)}var Il=Ds(Object,"create");function x_(){this.__data__=Il?Il(null):{},this.size=0}function C_(i){var n=this.has(i)&&delete this.__data__[i];return this.size-=n?1:0,n}var T_="__lodash_hash_undefined__",S_=Object.prototype,P_=S_.hasOwnProperty;function A_(i){var n=this.__data__;if(Il){var e=n[i];return e===T_?void 0:e}return P_.call(n,i)?n[i]:void 0}var O_=Object.prototype,M_=O_.hasOwnProperty;function R_(i){var n=this.__data__;return Il?n[i]!==void 0:M_.call(n,i)}var I_="__lodash_hash_undefined__";function N_(i,n){var e=this.__data__;return this.size+=this.has(i)?0:1,e[i]=Il&&n===void 0?I_:n,this}function As(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}As.prototype.clear=x_;As.prototype.delete=C_;As.prototype.get=A_;As.prototype.has=R_;As.prototype.set=N_;function D_(){this.__data__=[],this.size=0}function Xu(i,n){for(var e=i.length;e--;)if(Ql(i[e][0],n))return e;return-1}var L_=Array.prototype,B_=L_.splice;function F_(i){var n=this.__data__,e=Xu(n,i);if(e<0)return!1;var t=n.length-1;return e==t?n.pop():B_.call(n,e,1),--this.size,!0}function V_(i){var n=this.__data__,e=Xu(n,i);return e<0?void 0:n[e][1]}function z_(i){return Xu(this.__data__,i)>-1}function j_(i,n){var e=this.__data__,t=Xu(e,i);return t<0?(++this.size,e.push([i,n])):e[t][1]=n,this}function ro(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}ro.prototype.clear=D_;ro.prototype.delete=F_;ro.prototype.get=V_;ro.prototype.has=z_;ro.prototype.set=j_;var Nl=Ds(oi,"Map");function $_(){this.size=0,this.__data__={hash:new As,map:new(Nl||ro),string:new As}}function W_(i){var n=typeof i;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?i!=="__proto__":i===null}function ed(i,n){var e=i.__data__;return W_(n)?e[typeof n=="string"?"string":"hash"]:e.map}function H_(i){var n=ed(this,i).delete(i);return this.size-=n?1:0,n}function U_(i){return ed(this,i).get(i)}function q_(i){return ed(this,i).has(i)}function K_(i,n){var e=ed(this,i),t=e.size;return e.set(i,n),this.size+=e.size==t?0:1,this}function io(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}io.prototype.clear=$_;io.prototype.delete=H_;io.prototype.get=U_;io.prototype.has=q_;io.prototype.set=K_;var G_="Expected a function";function _f(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new TypeError(G_);var e=function(){var t=arguments,r=n?n.apply(this,t):t[0],o=e.cache;if(o.has(r))return o.get(r);var s=i.apply(this,t);return e.cache=o.set(r,s)||o,s};return e.cache=new(_f.Cache||io),e}_f.Cache=io;var Z_=500;function Y_(i){var n=_f(i,function(t){return e.size===Z_&&e.clear(),t}),e=n.cache;return n}var J_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q_=/\\(\\)?/g,X_=Y_(function(i){var n=[];return i.charCodeAt(0)===46&&n.push(""),i.replace(J_,function(e,t,r,o){n.push(r?o.replace(Q_,"$1"):t||e)}),n});function ek(i){return i==null?"":s1(i)}function td(i,n){return Er(i)?i:vf(i,n)?[i]:X_(ek(i))}var tk=1/0;function Ba(i){if(typeof i=="string"||Zu(i))return i;var n=i+"";return n=="0"&&1/i==-tk?"-0":n}function kf(i,n){n=td(n,i);for(var e=0,t=n.length;i!=null&&e<t;)i=i[Ba(n[e++])];return e&&e==t?i:void 0}function Dl(i,n,e){var t=i==null?void 0:kf(i,n);return t===void 0?e:t}function m1(i,n){for(var e=-1,t=n.length,r=i.length;++e<t;)i[r+e]=n[e];return i}var Ef=f1(Object.getPrototypeOf,Object),nk="[object Object]",rk=Function.prototype,ik=Object.prototype,g1=rk.toString,ok=ik.hasOwnProperty,sk=g1.call(Object);function $r(i){if(!Hr(i)||qo(i)!=nk)return!1;var n=Ef(i);if(n===null)return!0;var e=ok.call(n,"constructor")&&n.constructor;return typeof e=="function"&&e instanceof e&&g1.call(e)==sk}function ak(i,n,e){var t=-1,r=i.length;n<0&&(n=-n>r?0:r+n),e=e>r?r:e,e<0&&(e+=r),r=n>e?0:e-n>>>0,n>>>=0;for(var o=Array(r);++t<r;)o[t]=i[t+n];return o}function lk(){this.__data__=new ro,this.size=0}function ck(i){var n=this.__data__,e=n.delete(i);return this.size=n.size,e}function uk(i){return this.__data__.get(i)}function dk(i){return this.__data__.has(i)}var hk=200;function fk(i,n){var e=this.__data__;if(e instanceof ro){var t=e.__data__;if(!Nl||t.length<hk-1)return t.push([i,n]),this.size=++e.size,this;e=this.__data__=new io(t)}return e.set(i,n),this.size=e.size,this}function ri(i){var n=this.__data__=new ro(i);this.size=n.size}ri.prototype.clear=lk;ri.prototype.delete=ck;ri.prototype.get=uk;ri.prototype.has=dk;ri.prototype.set=fk;function pk(i,n){return i&&Da(n,Xl(n),i)}function mk(i,n){return i&&Da(n,La(n),i)}var b1=typeof _r=="object"&&_r&&!_r.nodeType&&_r,Dm=b1&&typeof kr=="object"&&kr&&!kr.nodeType&&kr,gk=Dm&&Dm.exports===b1,Lm=gk?oi.Buffer:void 0,Bm=Lm?Lm.allocUnsafe:void 0;function w1(i,n){if(n)return i.slice();var e=i.length,t=Bm?Bm(e):new i.constructor(e);return i.copy(t),t}function bk(i,n){for(var e=-1,t=i==null?0:i.length,r=0,o=[];++e<t;){var s=i[e];n(s,e,i)&&(o[r++]=s)}return o}function y1(){return[]}var wk=Object.prototype,yk=wk.propertyIsEnumerable,Fm=Object.getOwnPropertySymbols,xf=Fm?function(i){return i==null?[]:(i=Object(i),bk(Fm(i),function(n){return yk.call(i,n)}))}:y1;function vk(i,n){return Da(i,xf(i),n)}var _k=Object.getOwnPropertySymbols,v1=_k?function(i){for(var n=[];i;)m1(n,xf(i)),i=Ef(i);return n}:y1;function kk(i,n){return Da(i,v1(i),n)}function _1(i,n,e){var t=n(i);return Er(i)?t:m1(t,e(i))}function Dh(i){return _1(i,Xl,xf)}function Ek(i){return _1(i,La,v1)}var Lh=Ds(oi,"DataView"),Bh=Ds(oi,"Promise"),Fh=Ds(oi,"Set"),Vm="[object Map]",xk="[object Object]",zm="[object Promise]",jm="[object Set]",$m="[object WeakMap]",Wm="[object DataView]",Ck=Ns(Lh),Tk=Ns(Nl),Sk=Ns(Bh),Pk=Ns(Fh),Ak=Ns(Nh),Xr=qo;(Lh&&Xr(new Lh(new ArrayBuffer(1)))!=Wm||Nl&&Xr(new Nl)!=Vm||Bh&&Xr(Bh.resolve())!=zm||Fh&&Xr(new Fh)!=jm||Nh&&Xr(new Nh)!=$m)&&(Xr=function(i){var n=qo(i),e=n==xk?i.constructor:void 0,t=e?Ns(e):"";if(t)switch(t){case Ck:return Wm;case Tk:return Vm;case Sk:return zm;case Pk:return jm;case Ak:return $m}return n});var Ok=Object.prototype,Mk=Ok.hasOwnProperty;function Rk(i){var n=i.length,e=new i.constructor(n);return n&&typeof i[0]=="string"&&Mk.call(i,"index")&&(e.index=i.index,e.input=i.input),e}var Ru=oi.Uint8Array;function Cf(i){var n=new i.constructor(i.byteLength);return new Ru(n).set(new Ru(i)),n}function Ik(i,n){var e=n?Cf(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.byteLength)}var Nk=/\w*$/;function Dk(i){var n=new i.constructor(i.source,Nk.exec(i));return n.lastIndex=i.lastIndex,n}var Hm=Ti?Ti.prototype:void 0,Um=Hm?Hm.valueOf:void 0;function Lk(i){return Um?Object(Um.call(i)):{}}function k1(i,n){var e=n?Cf(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.length)}var Bk="[object Boolean]",Fk="[object Date]",Vk="[object Map]",zk="[object Number]",jk="[object RegExp]",$k="[object Set]",Wk="[object String]",Hk="[object Symbol]",Uk="[object ArrayBuffer]",qk="[object DataView]",Kk="[object Float32Array]",Gk="[object Float64Array]",Zk="[object Int8Array]",Yk="[object Int16Array]",Jk="[object Int32Array]",Qk="[object Uint8Array]",Xk="[object Uint8ClampedArray]",eE="[object Uint16Array]",tE="[object Uint32Array]";function nE(i,n,e){var t=i.constructor;switch(n){case Uk:return Cf(i);case Bk:case Fk:return new t(+i);case qk:return Ik(i,e);case Kk:case Gk:case Zk:case Yk:case Jk:case Qk:case Xk:case eE:case tE:return k1(i,e);case Vk:return new t;case zk:case Wk:return new t(i);case jk:return Dk(i);case $k:return new t;case Hk:return Lk(i)}}function E1(i){return typeof i.constructor=="function"&&!bf(i)?pv(Ef(i)):{}}var rE="[object Map]";function iE(i){return Hr(i)&&Xr(i)==rE}var qm=Pa&&Pa.isMap,oE=qm?wf(qm):iE,sE="[object Set]";function aE(i){return Hr(i)&&Xr(i)==sE}var Km=Pa&&Pa.isSet,lE=Km?wf(Km):aE,cE=1,uE=2,dE=4,x1="[object Arguments]",hE="[object Array]",fE="[object Boolean]",pE="[object Date]",mE="[object Error]",C1="[object Function]",gE="[object GeneratorFunction]",bE="[object Map]",wE="[object Number]",T1="[object Object]",yE="[object RegExp]",vE="[object Set]",_E="[object String]",kE="[object Symbol]",EE="[object WeakMap]",xE="[object ArrayBuffer]",CE="[object DataView]",TE="[object Float32Array]",SE="[object Float64Array]",PE="[object Int8Array]",AE="[object Int16Array]",OE="[object Int32Array]",ME="[object Uint8Array]",RE="[object Uint8ClampedArray]",IE="[object Uint16Array]",NE="[object Uint32Array]",Nt={};Nt[x1]=Nt[hE]=Nt[xE]=Nt[CE]=Nt[fE]=Nt[pE]=Nt[TE]=Nt[SE]=Nt[PE]=Nt[AE]=Nt[OE]=Nt[bE]=Nt[wE]=Nt[T1]=Nt[yE]=Nt[vE]=Nt[_E]=Nt[kE]=Nt[ME]=Nt[RE]=Nt[IE]=Nt[NE]=!0;Nt[mE]=Nt[C1]=Nt[EE]=!1;function Ca(i,n,e,t,r,o){var s,l=n&cE,u=n&uE,d=n&dE;if(e&&(s=r?e(i,t,r,o):e(i)),s!==void 0)return s;if(!qt(i))return i;var f=Er(i);if(f){if(s=Rk(i),!l)return a1(i,s)}else{var p=Xr(i),b=p==C1||p==gE;if(Rl(i))return w1(i,l);if(p==T1||p==x1||b&&!r){if(s=u||b?{}:E1(i),!l)return u?kk(i,mk(s,i)):vk(i,pk(s,i))}else{if(!Nt[p])return r?i:{};s=nE(i,p,l)}}o||(o=new ri);var v=o.get(i);if(v)return v;o.set(i,s),lE(i)?i.forEach(function(j){s.add(Ca(j,n,e,j,i,o))}):oE(i)&&i.forEach(function(j,N){s.set(N,Ca(j,n,e,N,i,o))});var x=d?u?Ek:Dh:u?La:Xl,L=f?void 0:x(i);return Ev(L||i,function(j,N){L&&(N=j,j=i[N]),mf(s,N,Ca(j,n,e,N,i,o))}),s}var DE=4;function S1(i){return Ca(i,DE)}var LE=1,BE=4;function si(i){return Ca(i,LE|BE)}var FE=1,VE=4;function Tf(i,n){return n=typeof n=="function"?n:void 0,Ca(i,FE|VE,n)}var zE="__lodash_hash_undefined__";function jE(i){return this.__data__.set(i,zE),this}function $E(i){return this.__data__.has(i)}function Iu(i){var n=-1,e=i==null?0:i.length;for(this.__data__=new io;++n<e;)this.add(i[n])}Iu.prototype.add=Iu.prototype.push=jE;Iu.prototype.has=$E;function WE(i,n){for(var e=-1,t=i==null?0:i.length;++e<t;)if(n(i[e],e,i))return!0;return!1}function HE(i,n){return i.has(n)}var UE=1,qE=2;function P1(i,n,e,t,r,o){var s=e&UE,l=i.length,u=n.length;if(l!=u&&!(s&&u>l))return!1;var d=o.get(i),f=o.get(n);if(d&&f)return d==n&&f==i;var p=-1,b=!0,v=e&qE?new Iu:void 0;for(o.set(i,n),o.set(n,i);++p<l;){var x=i[p],L=n[p];if(t)var j=s?t(L,x,p,n,i,o):t(x,L,p,i,n,o);if(j!==void 0){if(j)continue;b=!1;break}if(v){if(!WE(n,function(N,$){if(!HE(v,$)&&(x===N||r(x,N,e,t,o)))return v.push($)})){b=!1;break}}else if(!(x===L||r(x,L,e,t,o))){b=!1;break}}return o.delete(i),o.delete(n),b}function KE(i){var n=-1,e=Array(i.size);return i.forEach(function(t,r){e[++n]=[r,t]}),e}function GE(i){var n=-1,e=Array(i.size);return i.forEach(function(t){e[++n]=t}),e}var ZE=1,YE=2,JE="[object Boolean]",QE="[object Date]",XE="[object Error]",e2="[object Map]",t2="[object Number]",n2="[object RegExp]",r2="[object Set]",i2="[object String]",o2="[object Symbol]",s2="[object ArrayBuffer]",a2="[object DataView]",Gm=Ti?Ti.prototype:void 0,uh=Gm?Gm.valueOf:void 0;function l2(i,n,e,t,r,o,s){switch(e){case a2:if(i.byteLength!=n.byteLength||i.byteOffset!=n.byteOffset)return!1;i=i.buffer,n=n.buffer;case s2:return!(i.byteLength!=n.byteLength||!o(new Ru(i),new Ru(n)));case JE:case QE:case t2:return Ql(+i,+n);case XE:return i.name==n.name&&i.message==n.message;case n2:case i2:return i==n+"";case e2:var l=KE;case r2:var u=t&ZE;if(l||(l=GE),i.size!=n.size&&!u)return!1;var d=s.get(i);if(d)return d==n;t|=YE,s.set(i,n);var f=P1(l(i),l(n),t,r,o,s);return s.delete(i),f;case o2:if(uh)return uh.call(i)==uh.call(n)}return!1}var c2=1,u2=Object.prototype,d2=u2.hasOwnProperty;function h2(i,n,e,t,r,o){var s=e&c2,l=Dh(i),u=l.length,d=Dh(n),f=d.length;if(u!=f&&!s)return!1;for(var p=u;p--;){var b=l[p];if(!(s?b in n:d2.call(n,b)))return!1}var v=o.get(i),x=o.get(n);if(v&&x)return v==n&&x==i;var L=!0;o.set(i,n),o.set(n,i);for(var j=s;++p<u;){b=l[p];var N=i[b],$=n[b];if(t)var R=s?t($,N,b,n,i,o):t(N,$,b,i,n,o);if(!(R===void 0?N===$||r(N,$,e,t,o):R)){L=!1;break}j||(j=b=="constructor")}if(L&&!j){var z=i.constructor,U=n.constructor;z!=U&&"constructor"in i&&"constructor"in n&&!(typeof z=="function"&&z instanceof z&&typeof U=="function"&&U instanceof U)&&(L=!1)}return o.delete(i),o.delete(n),L}var f2=1,Zm="[object Arguments]",Ym="[object Array]",du="[object Object]",p2=Object.prototype,Jm=p2.hasOwnProperty;function m2(i,n,e,t,r,o){var s=Er(i),l=Er(n),u=s?Ym:Xr(i),d=l?Ym:Xr(n);u=u==Zm?du:u,d=d==Zm?du:d;var f=u==du,p=d==du,b=u==d;if(b&&Rl(i)){if(!Rl(n))return!1;s=!0,f=!1}if(b&&!f)return o||(o=new ri),s||yf(i)?P1(i,n,e,t,r,o):l2(i,n,u,e,t,r,o);if(!(e&f2)){var v=f&&Jm.call(i,"__wrapped__"),x=p&&Jm.call(n,"__wrapped__");if(v||x){var L=v?i.value():i,j=x?n.value():n;return o||(o=new ri),r(L,j,e,t,o)}}return b?(o||(o=new ri),h2(i,n,e,t,r,o)):!1}function ec(i,n,e,t,r){return i===n?!0:i==null||n==null||!Hr(i)&&!Hr(n)?i!==i&&n!==n:m2(i,n,e,t,ec,r)}var g2=1,b2=2;function w2(i,n,e,t){var r=e.length,o=r;if(i==null)return!o;for(i=Object(i);r--;){var s=e[r];if(s[2]?s[1]!==i[s[0]]:!(s[0]in i))return!1}for(;++r<o;){s=e[r];var l=s[0],u=i[l],d=s[1];if(s[2]){if(u===void 0&&!(l in i))return!1}else{var f=new ri,p;if(!(p===void 0?ec(d,u,g2|b2,t,f):p))return!1}}return!0}function A1(i){return i===i&&!qt(i)}function y2(i){for(var n=Xl(i),e=n.length;e--;){var t=n[e],r=i[t];n[e]=[t,r,A1(r)]}return n}function O1(i,n){return function(e){return e==null?!1:e[i]===n&&(n!==void 0||i in Object(e))}}function v2(i){var n=y2(i);return n.length==1&&n[0][2]?O1(n[0][0],n[0][1]):function(e){return e===i||w2(e,i,n)}}function _2(i,n){return i!=null&&n in Object(i)}function k2(i,n,e){n=td(n,i);for(var t=-1,r=n.length,o=!1;++t<r;){var s=Ba(n[t]);if(!(o=i!=null&&e(i,s)))break;i=i[s]}return o||++t!=r?o:(r=i==null?0:i.length,!!r&&gf(r)&&Yu(s,r)&&(Er(i)||Mu(i)))}function E2(i,n){return i!=null&&k2(i,n,_2)}var x2=1,C2=2;function T2(i,n){return vf(i)&&A1(n)?O1(Ba(i),n):function(e){var t=Dl(e,i);return t===void 0&&t===n?E2(e,i):ec(n,t,x2|C2)}}function S2(i){return function(n){return n==null?void 0:n[i]}}function P2(i){return function(n){return kf(n,i)}}function A2(i){return vf(i)?S2(Ba(i)):P2(i)}function O2(i){return typeof i=="function"?i:i==null?pf:typeof i=="object"?Er(i)?T2(i[0],i[1]):v2(i):A2(i)}function M2(i){return function(n,e,t){for(var r=-1,o=Object(n),s=t(n),l=s.length;l--;){var u=s[++r];if(e(o[u],u,o)===!1)break}return n}}var M1=M2();function R2(i,n){return i&&M1(i,n,Xl)}var dh=function(){return oi.Date.now()},I2="Expected a function",N2=Math.max,D2=Math.min;function Os(i,n,e){var t,r,o,s,l,u,d=0,f=!1,p=!1,b=!0;if(typeof i!="function")throw new TypeError(I2);n=Sm(n)||0,qt(e)&&(f=!!e.leading,p="maxWait"in e,o=p?N2(Sm(e.maxWait)||0,n):o,b="trailing"in e?!!e.trailing:b);function v(F){var G=t,q=r;return t=r=void 0,d=F,s=i.apply(q,G),s}function x(F){return d=F,l=setTimeout(N,n),f?v(F):s}function L(F){var G=F-u,q=F-d,D=n-G;return p?D2(D,o-q):D}function j(F){var G=F-u,q=F-d;return u===void 0||G>=n||G<0||p&&q>=o}function N(){var F=dh();if(j(F))return $(F);l=setTimeout(N,L(F))}function $(F){return l=void 0,b&&t?v(F):(t=r=void 0,s)}function R(){l!==void 0&&clearTimeout(l),d=0,t=u=r=l=void 0}function z(){return l===void 0?s:$(dh())}function U(){var F=dh(),G=j(F);if(t=arguments,r=this,u=F,G){if(l===void 0)return x(u);if(p)return clearTimeout(l),l=setTimeout(N,n),v(u)}return l===void 0&&(l=setTimeout(N,n)),s}return U.cancel=R,U.flush=z,U}function Vh(i,n,e){(e!==void 0&&!Ql(i[n],e)||e===void 0&&!(n in i))&&Ju(i,n,e)}function L2(i){return Hr(i)&&Qu(i)}function zh(i,n){if(!(n==="constructor"&&typeof i[n]=="function")&&n!="__proto__")return i[n]}function B2(i){return Da(i,La(i))}function F2(i,n,e,t,r,o,s){var l=zh(i,e),u=zh(n,e),d=s.get(u);if(d){Vh(i,e,d);return}var f=o?o(l,u,e+"",i,n,s):void 0,p=f===void 0;if(p){var b=Er(u),v=!b&&Rl(u),x=!b&&!v&&yf(u);f=u,b||v||x?Er(l)?f=l:L2(l)?f=a1(l):v?(p=!1,f=w1(u,!0)):x?(p=!1,f=k1(u,!0)):f=[]:$r(u)||Mu(u)?(f=l,Mu(l)?f=B2(l):(!qt(l)||Ps(l))&&(f=E1(u))):p=!1}p&&(s.set(u,f),r(f,u,t,o,s),s.delete(u)),Vh(i,e,f)}function R1(i,n,e,t,r){i!==n&&M1(n,function(o,s){if(r||(r=new ri),qt(o))F2(i,n,s,e,R1,t,r);else{var l=t?t(zh(i,s),o,s+"",i,n,r):void 0;l===void 0&&(l=o),Vh(i,s,l)}},La)}function V2(i){var n=i==null?0:i.length;return n?i[n-1]:void 0}var z2="[object String]";function Qm(i){return typeof i=="string"||!Er(i)&&Hr(i)&&qo(i)==z2}function j2(i,n){return n.length<2?i:kf(i,ak(n,0,-1))}function Ms(i){return Hr(i)&&i.nodeType===1&&!$r(i)}function Xm(i,n){return ec(i,n)}function $2(i,n,e){e=typeof e=="function"?e:void 0;var t=e?e(i,n):void 0;return t===void 0?ec(i,n,void 0,e):!!t}function W2(i,n){var e={};return n=O2(n),R2(i,function(t,r,o){Ju(e,r,n(t,r,o))}),e}var Sf=l1(function(i,n,e){R1(i,n,e)});function H2(i,n){return n=td(n,i),i=j2(i,n),i==null||delete i[Ba(V2(n))]}function U2(i,n,e,t){if(!qt(i))return i;n=td(n,i);for(var r=-1,o=n.length,s=o-1,l=i;l!=null&&++r<o;){var u=Ba(n[r]),d=e;if(u==="__proto__"||u==="constructor"||u==="prototype")return i;if(r!=s){var f=l[u];d=void 0,d===void 0&&(d=qt(f)?f:Yu(n[r+1])?[]:{})}mf(l,u,d),l=l[u]}return i}function q2(i,n,e){return i==null?i:U2(i,n,e)}var K2="Expected a function";function Nu(i,n,e){var t=!0,r=!0;if(typeof i!="function")throw new TypeError(K2);return qt(e)&&(t="leading"in e?!!e.leading:t,r="trailing"in e?!!e.trailing:r),Os(i,n,{leading:t,maxWait:n,trailing:r})}function G2(i,n){return i==null?!0:H2(i,n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let jh;try{jh={window,document}}catch{/* istanbul ignore next -- @preserve */jh={window:{},document:{}}}var Le=jh;function Z2(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const _s=Z2(),Xe={isMac:I1(_s),isWindows:Y2(_s),isGecko:J2(_s),isSafari:Q2(_s),isiOS:X2(_s),isAndroid:e5(_s),isBlink:t5(_s),get isMediaForcedColors(){return r5()},get isMotionReduced(){return i5()},features:{isRegExpUnicodePropertySupported:n5()}};function I1(i){return i.indexOf("macintosh")>-1}function Y2(i){return i.indexOf("windows")>-1}function J2(i){return!!i.match(/gecko\/\d+/)}function Q2(i){return i.indexOf(" applewebkit/")>-1&&i.indexOf("chrome")===-1}function X2(i){return!!i.match(/iphone|ipad/i)||I1(i)&&navigator.maxTouchPoints>0}function e5(i){return i.indexOf("android")>-1}function t5(i){return i.indexOf("chrome/")>-1&&i.indexOf("edge/")<0}function n5(){let i=!1;try{i="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return i}function r5(){return Le.window.matchMedia?Le.window.matchMedia("(forced-colors: active)").matches:!1}function i5(){return Le.window.matchMedia?Le.window.matchMedia("(prefers-reduced-motion)").matches:!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function N1(i,n,e,t){e=e||function(u,d){return u===d};const r=Array.isArray(i)?i:Array.prototype.slice.call(i),o=Array.isArray(n)?n:Array.prototype.slice.call(n),s=o5(r,o,e);return t?a5(s,o.length):s5(o,s)}function o5(i,n,e){const t=eg(i,n,e);if(t===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const r=tg(i,t),o=tg(n,t),s=eg(r,o,e),l=i.length-s,u=n.length-s;return{firstIndex:t,lastIndexOld:l,lastIndexNew:u}}function eg(i,n,e){for(let t=0;t<Math.max(i.length,n.length);t++)if(i[t]===void 0||n[t]===void 0||!e(i[t],n[t]))return t;return-1}function tg(i,n){return i.slice(n).reverse()}function s5(i,n){const e=[],{firstIndex:t,lastIndexOld:r,lastIndexNew:o}=n;return o-t>0&&e.push({index:t,type:"insert",values:i.slice(t,o)}),r-t>0&&e.push({index:t+(o-t),type:"delete",howMany:r-t}),e}function a5(i,n){const{firstIndex:e,lastIndexOld:t,lastIndexNew:r}=i;if(e===-1)return Array(n).fill("equal");let o=[];return e>0&&(o=o.concat(Array(e).fill("equal"))),r-e>0&&(o=o.concat(Array(r-e).fill("insert"))),t-e>0&&(o=o.concat(Array(t-e).fill("delete"))),r<n&&(o=o.concat(Array(n-r).fill("equal"))),o}function El(i,n,e){e=e||function(L,j){return L===j};const t=i.length,r=n.length;if(t>200||r>200||t+r>300)return El.fastDiff(i,n,e,!0);let o,s;if(r<t){const L=i;i=n,n=L,o="delete",s="insert"}else o="insert",s="delete";const l=i.length,u=n.length,d=u-l,f={},p={};function b(L){const j=(p[L-1]!==void 0?p[L-1]:-1)+1,N=p[L+1]!==void 0?p[L+1]:-1,$=j>N?-1:1;f[L+$]&&(f[L]=f[L+$].slice(0)),f[L]||(f[L]=[]),f[L].push(j>N?o:s);let R=Math.max(j,N),z=R-L;for(;z<l&&R<u&&e(i[z],n[R]);)z++,R++,f[L].push("equal");return R}let v=0,x;do{for(x=-v;x<d;x++)p[x]=b(x);for(x=d+v;x>d;x--)p[x]=b(x);p[d]=b(d),v++}while(p[d]!==u);return f[d].slice(1)}El.fastDiff=N1;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ng(){return function i(){i.called=!0}}class Ji{constructor(n,e){g(this,"source");g(this,"name");g(this,"path");g(this,"stop");g(this,"off");g(this,"return");this.source=n,this.name=e,this.path=[],this.stop=ng(),this.off=ng()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const zn=new Array(256).fill("").map((i,n)=>("0"+n.toString(16)).slice(-2));function oo(){const[i,n,e,t]=crypto.getRandomValues(new Uint32Array(4));return"e"+zn[i>>0&255]+zn[i>>8&255]+zn[i>>16&255]+zn[i>>24&255]+zn[n>>0&255]+zn[n>>8&255]+zn[n>>16&255]+zn[n>>24&255]+zn[e>>0&255]+zn[e>>8&255]+zn[e>>16&255]+zn[e>>24&255]+zn[t>>0&255]+zn[t>>8&255]+zn[t>>16&255]+zn[t>>24&255]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const zo={get(i="normal"){return typeof i!="number"?this[i]||this.normal:i},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function l5(i,n){const e=zo.get(n.priority);for(let t=0;t<i.length;t++)if(zo.get(i[t].priority)<e){i.splice(t,0,n);return}i.push(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const c5="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class Z extends Error{constructor(e,t,r){super(u5(e,r));g(this,"context");g(this,"data");this.name="CKEditorError",this.context=t,this.data=r}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const r=new Z(e.message,t);throw r.stack=e.stack,r}}function Zt(i,n){console.warn(...d5(i,n))}function D1(i){return`
Read more: ${c5}#error-${i}`}function u5(i,n){const e=new WeakSet,r=n?` ${JSON.stringify(n,(s,l)=>{if(typeof l=="object"&&l!==null){if(e.has(l))return`[object ${l.constructor.name}]`;e.add(l)}return l})}`:"",o=D1(i);return i+r+o}function d5(i,n){const e=D1(i);return n?[i,n,e]:[i,e]}const h5="43.2.0",f5=new Date(2024,9,2);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new Z("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=h5;const wa=Symbol("listeningTo"),$h=Symbol("emitterId"),Ui=Symbol("delegations"),L1=At(Object);function At(i){if(!i)return L1;class n extends i{on(t,r,o){this.listenTo(this,t,r,o)}once(t,r,o){let s=!1;const l=(u,...d)=>{s||(s=!0,u.off(),r.call(this,u,...d))};this.listenTo(this,t,l,o)}off(t,r){this.stopListening(this,t,r)}listenTo(t,r,o,s={}){let l,u;this[wa]||(this[wa]={});const d=this[wa];hh(t)||B1(t);const f=hh(t);(l=d[f])||(l=d[f]={emitter:t,callbacks:{}}),(u=l.callbacks[r])||(u=l.callbacks[r]=[]),u.push(o),b5(this,t,r,o,s)}stopListening(t,r,o){const s=this[wa];let l=t&&hh(t);const u=s&&l?s[l]:void 0,d=u&&r?u.callbacks[r]:void 0;if(!(!s||t&&!u||r&&!d))if(o)fh(this,t,r,o),d.indexOf(o)!==-1&&(d.length===1?delete u.callbacks[r]:fh(this,t,r,o));else if(d){for(;o=d.pop();)fh(this,t,r,o);delete u.callbacks[r]}else if(u){for(r in u.callbacks)this.stopListening(t,r);delete s[l]}else{for(l in s)this.stopListening(s[l].emitter);delete this[wa]}}fire(t,...r){try{const o=t instanceof Ji?t:new Ji(this,t),s=o.name;let l=V1(this,s);if(o.path.push(this),l){const d=[o,...r];l=Array.from(l);for(let f=0;f<l.length&&(l[f].callback.apply(this,d),o.off.called&&(delete o.off.called,this._removeEventListener(s,l[f].callback)),!o.stop.called);f++);}const u=this[Ui];if(u){const d=u.get(s),f=u.get("*");d&&rg(d,o,r),f&&rg(f,o,r)}return o.return}catch(o){/* istanbul ignore next -- @preserve */Z.rethrowUnexpectedError(o,this)}}delegate(...t){return{to:(r,o)=>{this[Ui]||(this[Ui]=new Map),t.forEach(s=>{const l=this[Ui].get(s);l?l.set(r,o):this[Ui].set(s,new Map([[r,o]]))})}}}stopDelegating(t,r){if(this[Ui])if(!t)this[Ui].clear();else if(!r)this[Ui].delete(t);else{const o=this[Ui].get(t);o&&o.delete(r)}}_addEventListener(t,r,o){g5(this,t);const s=Wh(this,t),l=zo.get(o.priority),u={callback:r,priority:l};for(const d of s)l5(d,u)}_removeEventListener(t,r){const o=Wh(this,t);for(const s of o)for(let l=0;l<s.length;l++)s[l].callback==r&&(s.splice(l,1),l--)}}return n}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{At[i]=L1.prototype[i]});function p5(i,n){const e=i[wa];return e&&e[n]?e[n].emitter:null}function B1(i,n){i[$h]||(i[$h]=n||oo())}function hh(i){return i[$h]}function F1(i){return i._events||Object.defineProperty(i,"_events",{value:{}}),i._events}function m5(){return{callbacks:[],childEvents:[]}}function g5(i,n){const e=F1(i);if(e[n])return;let t=n,r=null;const o=[];for(;t!==""&&!e[t];)e[t]=m5(),o.push(e[t]),r&&e[t].childEvents.push(r),r=t,t=t.substr(0,t.lastIndexOf(":"));if(t!==""){for(const s of o)s.callbacks=e[t].callbacks.slice();e[t].childEvents.push(r)}}function Wh(i,n){const e=F1(i)[n];if(!e)return[];let t=[e.callbacks];for(let r=0;r<e.childEvents.length;r++){const o=Wh(i,e.childEvents[r]);t=t.concat(o)}return t}function V1(i,n){let e;return!i._events||!(e=i._events[n])||!e.callbacks.length?n.indexOf(":")>-1?V1(i,n.substr(0,n.lastIndexOf(":"))):null:e.callbacks}function rg(i,n,e){for(let[t,r]of i){r?typeof r=="function"&&(r=r(n.name)):r=n.name;const o=new Ji(n.source,r);o.path=[...n.path],t.fire(o,...e)}}function b5(i,n,e,t,r){n._addEventListener?n._addEventListener(e,t,r):i._addEventListener.call(n,e,t,r)}function fh(i,n,e,t){n._removeEventListener?n._removeEventListener(e,t):i._removeEventListener.call(n,e,t)}const xl=Symbol("observableProperties"),Ll=Symbol("boundObservables"),Cl=Symbol("boundProperties"),ks=Symbol("decoratedMethods"),ig=Symbol("decoratedOriginal"),z1=on(At());function on(i){var e,t,r,o,s;if(!i)return z1;class n extends(s=i,o=xl,r=ks,t=Cl,e=Ll,s){constructor(){super(...arguments);g(this,o);g(this,r);g(this,t);g(this,e)}set(d,f){if(qt(d)){Object.keys(d).forEach(b=>{this.set(b,d[b])},this);return}ph(this);const p=this[xl];if(d in this&&!p.has(d))throw new Z("observable-set-cannot-override",this);Object.defineProperty(this,d,{enumerable:!0,configurable:!0,get(){return p.get(d)},set(b){const v=p.get(d);let x=this.fire(`set:${d}`,d,b,v);x===void 0&&(x=b),(v!==x||!p.has(d))&&(p.set(d,x),this.fire(`change:${d}`,d,x,v))}}),this[d]=f}bind(...d){if(!d.length||!og(d))throw new Z("observable-bind-wrong-properties",this);if(new Set(d).size!==d.length)throw new Z("observable-bind-duplicate-properties",this);ph(this);const f=this[Cl];d.forEach(b=>{if(f.has(b))throw new Z("observable-bind-rebind",this)});const p=new Map;return d.forEach(b=>{const v={property:b,to:[]};f.set(b,v),p.set(b,v)}),{to:w5,toMany:y5,_observable:this,_bindProperties:d,_to:[],_bindings:p}}unbind(...d){if(!this[xl])return;const f=this[Cl],p=this[Ll];if(d.length){if(!og(d))throw new Z("observable-unbind-wrong-properties",this);d.forEach(b=>{const v=f.get(b);v&&(v.to.forEach(([x,L])=>{const j=p.get(x),N=j[L];N.delete(v),N.size||delete j[L],Object.keys(j).length||(p.delete(x),this.stopListening(x,"change"))}),f.delete(b))})}else p.forEach((b,v)=>{this.stopListening(v,"change")}),p.clear(),f.clear()}decorate(d){ph(this);const f=this[d];if(!f)throw new Z("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:d});this.on(d,(p,b)=>{p.return=f.apply(this,b)}),this[d]=function(...p){return this.fire(d,p)},this[d][ig]=f,this[ks]||(this[ks]=[]),this[ks].push(d)}stopListening(d,f,p){if(!d&&this[ks]){for(const b of this[ks])this[b]=this[b][ig];delete this[ks]}super.stopListening(d,f,p)}}return n}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{on[i]=z1.prototype[i]});function ph(i){i[xl]||(Object.defineProperty(i,xl,{value:new Map}),Object.defineProperty(i,Ll,{value:new Map}),Object.defineProperty(i,Cl,{value:new Map}))}function w5(...i){const n=_5(...i),e=Array.from(this._bindings.keys()),t=e.length;if(!n.callback&&n.to.length>1)throw new Z("observable-bind-to-no-callback",this);if(t>1&&n.callback)throw new Z("observable-bind-to-extra-callback",this);n.to.forEach(r=>{if(r.properties.length&&r.properties.length!==t)throw new Z("observable-bind-to-properties-length",this);r.properties.length||(r.properties=this._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(e[0]).callback=n.callback),x5(this._observable,this._to),E5(this),this._bindProperties.forEach(r=>{j1(this._observable,r)})}function y5(i,n,e){if(this._bindings.size>1)throw new Z("observable-bind-to-many-not-one-binding",this);this.to(...v5(i,n),e)}function v5(i,n){const e=i.map(t=>[t,n]);return Array.prototype.concat.apply([],e)}function og(i){return i.every(n=>typeof n=="string")}function _5(...i){if(!i.length)throw new Z("observable-bind-to-parse-error",null);const n={to:[]};let e;return typeof i[i.length-1]=="function"&&(n.callback=i.pop()),i.forEach(t=>{if(typeof t=="string")e.properties.push(t);else if(typeof t=="object")e={observable:t,properties:[]},n.to.push(e);else throw new Z("observable-bind-to-parse-error",null)}),n}function k5(i,n,e,t){const r=i[Ll],o=r.get(e),s=o||{};s[t]||(s[t]=new Set),s[t].add(n),o||r.set(e,s)}function E5(i){let n;i._bindings.forEach((e,t)=>{i._to.forEach(r=>{n=r.properties[e.callback?0:i._bindProperties.indexOf(t)],e.to.push([r.observable,n]),k5(i._observable,e,r.observable,n)})})}function j1(i,n){const t=i[Cl].get(n);let r;t.callback?r=t.callback.apply(i,t.to.map(o=>o[0][o[1]])):(r=t.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(i,n)?i[n]=r:i.set(n,r)}function x5(i,n){n.forEach(e=>{const t=i[Ll];let r;t.get(e.observable)||i.listenTo(e.observable,"change",(o,s)=>{r=t.get(e.observable)[s],r&&r.forEach(l=>{j1(i,l.property)})})})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class C5{constructor(){g(this,"_replacedElements");this._replacedElements=[]}replace(n,e){this._replacedElements.push({element:n,newElement:e}),n.style.display="none",e&&n.parentNode.insertBefore(e,n.nextSibling)}restore(){this._replacedElements.forEach(({element:n,newElement:e})=>{n.style.display="",e&&e.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Hh(i){let n=0;for(const e of i)n++;return n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Yn(i,n){const e=Math.min(i.length,n.length);for(let t=0;t<e;t++)if(i[t]!=n[t])return t;return i.length==n.length?"same":i.length<n.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function xr(i){return!!(i&&i[Symbol.iterator])}function Qr(i,n,e={},t=[]){const r=e&&e.xmlns,o=r?i.createElementNS(r,n):i.createElement(n);for(const s in e)o.setAttribute(s,e[s]);(Qm(t)||!xr(t))&&(t=[t]);for(let s of t)Qm(s)&&(s=i.createTextNode(s)),o.appendChild(s);return o}class $1{constructor(n,e){g(this,"_config");this._config=Object.create(null),e&&this.define(sg(e)),n&&this._setObjectToTarget(this._config,n)}set(n,e){this._setToTarget(this._config,n,e)}define(n,e){this._setToTarget(this._config,n,e,!0)}get(n){return this._getFromSource(this._config,n)}*names(){for(const n of Object.keys(this._config))yield n}_setToTarget(n,e,t,r=!1){if($r(e)){this._setObjectToTarget(n,e,r);return}const o=e.split(".");e=o.pop();for(const s of o)$r(n[s])||(n[s]=Object.create(null)),n=n[s];if($r(t)){$r(n[e])||(n[e]=Object.create(null)),n=n[e],this._setObjectToTarget(n,t,r);return}r&&typeof n[e]<"u"||(n[e]=t)}_getFromSource(n,e){const t=e.split(".");e=t.pop();for(const r of t){if(!$r(n[r])){n=null;break}n=n[r]}return n?sg(n[e]):void 0}_setObjectToTarget(n,e,t){Object.keys(e).forEach(r=>{this._setToTarget(n,r,e[r],t)})}}function sg(i){return Tf(i,T5)}function T5(i){return Ms(i)||typeof i=="function"?i:void 0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Wo(i){if(i){if(i.defaultView)return i instanceof i.defaultView.Document;if(i.ownerDocument&&i.ownerDocument.defaultView)return i instanceof i.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Du(i){const n=Object.prototype.toString.apply(i);return n=="[object Window]"||n=="[object global]"}const W1=ai(At());function ai(i){if(!i)return W1;class n extends i{listenTo(t,r,o,s={}){if(Wo(t)||Du(t)){const l={capture:!!s.useCapture,passive:!!s.usePassive},u=this._getProxyEmitter(t,l)||new S5(t,l);this.listenTo(u,r,o,s)}else super.listenTo(t,r,o,s)}stopListening(t,r,o){if(Wo(t)||Du(t)){const s=this._getAllProxyEmitters(t);for(const l of s)this.stopListening(l,r,o)}else super.stopListening(t,r,o)}_getProxyEmitter(t,r){return p5(this,H1(t,r))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(r=>this._getProxyEmitter(t,r)).filter(r=>!!r)}}return n}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{ai[i]=W1.prototype[i]});class S5 extends At(){constructor(e,t){super();g(this,"_domNode");g(this,"_options");g(this,"_domListeners");B1(this,H1(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,r){this.attach(e),At().prototype._addEventListener.call(this,e,t,r)}_removeEventListener(e,t){At().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=r=>{this.fire(e,r)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function P5(i){return i["data-ck-expando"]||(i["data-ck-expando"]=oo())}function H1(i,n){let e=P5(i);for(const t of Object.keys(n).sort())n[t]&&(e+="-"+t);return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function A5(i){const n=[];let e=i;for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)n.unshift(e),e=e.parentNode;return n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function O5(i){return i instanceof HTMLTextAreaElement?i.value:i.innerHTML}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function U1(i){const n=i.ownerDocument.defaultView.getComputedStyle(i);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function q1(i){if(!i.target)return null;const n=i.target.ownerDocument,e=i.clientX,t=i.clientY;let r=null;return n.caretRangeFromPoint&&n.caretRangeFromPoint(e,t)?r=n.caretRangeFromPoint(e,t):i.rangeParent&&(r=n.createRange(),r.setStart(i.rangeParent,i.rangeOffset),r.collapse(!0)),r}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gt(i){return Object.prototype.toString.call(i)=="[object Text]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nd(i){return Object.prototype.toString.apply(i)=="[object Range]"}function K1(i){return!i||!i.parentNode||i.offsetParent===Le.document.body?null:i.offsetParent}const G1=["top","right","bottom","left","width","height"];class ft{constructor(n){g(this,"top");g(this,"right");g(this,"bottom");g(this,"left");g(this,"width");g(this,"height");g(this,"_source");const e=nd(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),Uh(n)||e)if(e){const t=ft.getDomRangeRects(n);hu(this,ft.getBoundingRect(t))}else hu(this,n.getBoundingClientRect());else if(Du(n)){const{innerWidth:t,innerHeight:r}=n;hu(this,{top:0,right:t,bottom:r,left:0,width:t,height:r})}else hu(this,n)}clone(){return new ft(this)}moveTo(n,e){return this.top=e,this.right=n+this.width,this.bottom=e+this.height,this.left=n,this}moveBy(n,e){return this.top+=e,this.right+=n,this.left+=n,this.bottom+=e,this}getIntersection(n){const e={top:Math.max(this.top,n.top),right:Math.min(this.right,n.right),bottom:Math.min(this.bottom,n.bottom),left:Math.max(this.left,n.left),width:0,height:0};if(e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0)return null;{const t=new ft(e);return t._source=this._source,t}}getIntersectionArea(n){const e=this.getIntersection(n);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const n=this._source;let e=this.clone();if(ag(n))return e;let t=n,r=n.parentNode||n.commonAncestorContainer,o;for(;r&&!ag(r);){const s=M5(r)==="visible";t instanceof HTMLElement&&lg(t)==="absolute"&&(o=t);const l=lg(r);if(s||o&&(l==="relative"&&s||l!=="relative")){t=r,r=r.parentNode;continue}const u=new ft(r),d=e.getIntersection(u);if(d)d.getArea()<e.getArea()&&(e=d);else return null;t=r,r=r.parentNode}return e}isEqual(n){for(const e of G1)if(this[e]!==n[e])return!1;return!0}contains(n){const e=this.getIntersection(n);return!!(e&&e.isEqual(n))}toAbsoluteRect(){const{scrollX:n,scrollY:e}=Le.window,t=this.clone().moveBy(n,e);if(Uh(t._source)){const r=K1(t._source);r&&R5(t,r)}return t}excludeScrollbarsAndBorders(){const n=this._source;let e,t,r;if(Du(n))e=n.innerWidth-n.document.documentElement.clientWidth,t=n.innerHeight-n.document.documentElement.clientHeight,r=n.getComputedStyle(n.document.documentElement).direction;else{const o=U1(n);e=n.offsetWidth-n.clientWidth-o.left-o.right,t=n.offsetHeight-n.clientHeight-o.top-o.bottom,r=n.ownerDocument.defaultView.getComputedStyle(n).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,r==="ltr"?this.right-=e:this.left+=e,this.height-=t,this.bottom-=t,this}static getDomRangeRects(n){const e=[],t=Array.from(n.getClientRects());if(t.length)for(const r of t)e.push(new ft(r));else{let r=n.startContainer;Gt(r)&&(r=r.parentNode);const o=new ft(r.getBoundingClientRect());o.right=o.left,o.width=0,e.push(o)}return e}static getBoundingRect(n){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let t=0;for(const r of n)t++,e.left=Math.min(e.left,r.left),e.top=Math.min(e.top,r.top),e.right=Math.max(e.right,r.right),e.bottom=Math.max(e.bottom,r.bottom);return t==0?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new ft(e))}}function hu(i,n){for(const e of G1)i[e]=n[e]}function ag(i){return Uh(i)?i===i.ownerDocument.body:!1}function Uh(i){return i!==null&&typeof i=="object"&&i.nodeType===1&&typeof i.getBoundingClientRect=="function"}function lg(i){return i instanceof HTMLElement?i.ownerDocument.defaultView.getComputedStyle(i).position:"static"}function M5(i){return i instanceof HTMLElement?i.ownerDocument.defaultView.getComputedStyle(i).overflow:"visible"}function R5(i,n){const e=new ft(n),t=U1(n);let r=0,o=0;r-=e.left,o-=e.top,r+=n.scrollLeft,o+=n.scrollTop,r-=t.left,o-=t.top,i.moveBy(r,o)}const $t=class $t{constructor(n,e){g(this,"_element");g(this,"_callback");$t._observerInstance||$t._createObserver(),this._element=n,this._callback=e,$t._addElementCallback(n,e),$t._observerInstance.observe(n)}get element(){return this._element}destroy(){$t._deleteElementCallback(this._element,this._callback)}static _addElementCallback(n,e){$t._elementCallbacks||($t._elementCallbacks=new Map);let t=$t._elementCallbacks.get(n);t||(t=new Set,$t._elementCallbacks.set(n,t)),t.add(e)}static _deleteElementCallback(n,e){const t=$t._getElementCallbacks(n);t&&(t.delete(e),t.size||($t._elementCallbacks.delete(n),$t._observerInstance.unobserve(n))),$t._elementCallbacks&&!$t._elementCallbacks.size&&($t._observerInstance=null,$t._elementCallbacks=null)}static _getElementCallbacks(n){return $t._elementCallbacks?$t._elementCallbacks.get(n):null}static _createObserver(){$t._observerInstance=new Le.window.ResizeObserver(n=>{for(const e of n){const t=$t._getElementCallbacks(e.target);if(t)for(const r of t)r(e)}})}};g($t,"_observerInstance",null),g($t,"_elementCallbacks",null);let Bl=$t;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cg(i,n){i instanceof HTMLTextAreaElement&&(i.value=n),i.innerHTML=n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rd(i){return n=>n+i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vl(i){let n=0;for(;i.previousSibling;)i=i.previousSibling,n++;return n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Z1(i,n,e){i.insertBefore(e,i.childNodes[n]||null)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Tl(i){return i&&i.nodeType===Node.COMMENT_NODE}function I5(i){try{Le.document.createAttribute(i)}catch{return!1}return!0}function Qi(i){return i?Gt(i)?Qi(i.parentElement):i.getClientRects?!!i.getClientRects().length:!1:!1}function Pf({element:i,target:n,positions:e,limiter:t,fitInViewport:r,viewportOffsetConfig:o}){Ps(n)&&(n=n()),Ps(t)&&(t=t());const s=K1(i),l=N5(o),u=new ft(i),d=ug(n,l);let f;if(!d||!l.getIntersection(d))return null;const p={targetRect:d,elementRect:u,positionedElementAncestor:s,viewportRect:l};if(!t&&!r)f=new Y1(e[0],p);else{if(t){const b=ug(t,l);b&&(p.limiterRect=b)}f=D5(e,p)}return f}function ug(i,n){const e=new ft(i).getVisible();return e?e.getIntersection(n):null}function N5(i){i=Object.assign({top:0,bottom:0,left:0,right:0},i);const n=new ft(Le.window);return n.top+=i.top,n.height-=i.top,n.bottom-=i.bottom,n.height-=i.bottom,n}function D5(i,n){const{elementRect:e}=n,t=e.getArea(),r=i.map(l=>new Y1(l,n)).filter(l=>!!l.name);let o=0,s=null;for(const l of r){const{limiterIntersectionArea:u,viewportIntersectionArea:d}=l;if(u===t)return l;const f=d**2+u**2;f>o&&(o=f,s=l)}return s}class Y1{constructor(n,e){g(this,"name");g(this,"config");g(this,"_positioningFunctionCoordinates");g(this,"_options");g(this,"_cachedRect");g(this,"_cachedAbsoluteRect");const t=n(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect);if(!t)return;const{left:r,top:o,name:s,config:l}=t;this.name=s,this.config=l,this._positioningFunctionCoordinates={left:r,top:o},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const n=this._options.limiterRect;return n?n.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function dg(i){const n=i.parentNode;n&&n.removeChild(i)}function L5({target:i,viewportOffset:n=0,ancestorOffset:e=0,alignToTop:t,forceScroll:r}){const o=Af(i);let s=o,l=null;for(n=V5(n);s;){let u;s==o?u=hg(i):u=hg(l),F5({parent:u,getRect:()=>fg(i,s),alignToTop:t,ancestorOffset:e,forceScroll:r});const d=fg(i,s);if(B5({window:s,rect:d,viewportOffset:n,alignToTop:t,forceScroll:r}),s.parent!=s){if(l=s.frameElement,s=s.parent,!l)return}else s=null}}function B5({window:i,rect:n,alignToTop:e,forceScroll:t,viewportOffset:r}){const o=n.clone().moveBy(0,r.bottom),s=n.clone().moveBy(0,-r.top),l=new ft(i).excludeScrollbarsAndBorders(),u=[s,o],d=e&&t,f=u.every(L=>l.contains(L));let{scrollX:p,scrollY:b}=i;const v=p,x=b;d?b-=l.top-n.top+r.top:f||(Q1(s,l)?b-=l.top-n.top+r.top:J1(o,l)&&(e?b+=n.top-l.top-r.top:b+=n.bottom-l.bottom+r.bottom)),f||(X1(n,l)?p-=l.left-n.left+r.left:eb(n,l)&&(p+=n.right-l.right+r.right)),(p!=v||b!==x)&&i.scrollTo(p,b)}function F5({parent:i,getRect:n,alignToTop:e,forceScroll:t,ancestorOffset:r=0,limiterElement:o}){const s=Af(i),l=e&&t;let u,d,f;const p=o||s.document.body;for(;i!=p;)d=n(),u=new ft(i).excludeScrollbarsAndBorders(),f=u.contains(d),l?i.scrollTop-=u.top-d.top+r:f||(Q1(d,u)?i.scrollTop-=u.top-d.top+r:J1(d,u)&&(e?i.scrollTop+=d.top-u.top-r:i.scrollTop+=d.bottom-u.bottom+r)),f||(X1(d,u)?i.scrollLeft-=u.left-d.left+r:eb(d,u)&&(i.scrollLeft+=d.right-u.right+r)),i=i.parentNode}function J1(i,n){return i.bottom>n.bottom}function Q1(i,n){return i.top<n.top}function X1(i,n){return i.left<n.left}function eb(i,n){return i.right>n.right}function Af(i){return nd(i)?i.startContainer.ownerDocument.defaultView:i.ownerDocument.defaultView}function hg(i){if(nd(i)){let n=i.commonAncestorContainer;return Gt(n)&&(n=n.parentNode),n}else return i.parentNode}function fg(i,n){const e=Af(i),t=new ft(i);if(e===n)return t;{let r=e;for(;r!=n;){const o=r.frameElement,s=new ft(o).excludeScrollbarsAndBorders();t.moveBy(s.left,s.top),r=r.parent}}return t}function V5(i){return typeof i=="number"?{top:i,bottom:i,left:i,right:i}:i}const z5={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},j5={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},pg={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},pt=q5(),$5=Object.fromEntries(Object.entries(pt).map(([i,n])=>{let e;return n in pg?e=pg[n]:e=i.charAt(0).toUpperCase()+i.slice(1),[n,e]}));function Aa(i){let n;if(typeof i=="string"){if(n=pt[i.toLowerCase()],!n)throw new Z("keyboard-unknown-key",null,{key:i})}else n=i.keyCode+(i.altKey?pt.alt:0)+(i.ctrlKey?pt.ctrl:0)+(i.shiftKey?pt.shift:0)+(i.metaKey?pt.cmd:0);return n}function Of(i){return typeof i=="string"&&(i=K5(i)),i.map(n=>typeof n=="string"?H5(n):n).reduce((n,e)=>e+n,0)}function Lu(i){let n=Of(i);return Object.entries(Xe.isMac||Xe.isiOS?z5:j5).reduce((r,[o,s])=>(n&pt[o]&&(n&=~pt[o],r+=s),r),"")+(n?$5[n]:"")}function W5(i){return i==pt.arrowright||i==pt.arrowleft||i==pt.arrowup||i==pt.arrowdown}function tb(i,n){const e=n==="ltr";switch(i){case pt.arrowleft:return e?"left":"right";case pt.arrowright:return e?"right":"left";case pt.arrowup:return"up";case pt.arrowdown:return"down"}}function H5(i){if(i.endsWith("!"))return Aa(i.slice(0,-1));const n=Aa(i);return(Xe.isMac||Xe.isiOS)&&n==pt.ctrl?pt.cmd:n}function U5(i,n){const e=tb(i,n);return e==="down"||e==="right"}function q5(){const i={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let n=65;n<=90;n++){const e=String.fromCharCode(n);i[e.toLowerCase()]=n}for(let n=48;n<=57;n++)i[n-48]=n;for(let n=112;n<=123;n++)i["f"+(n-111)]=n;return Object.assign(i,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),i}function K5(i){return i.split("+").map(n=>n.trim())}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const G5=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function mg(i){return G5.includes(i)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ht(i){return Array.isArray(i)?i:[i]}/* istanbul ignore else -- @preserve */Le.window.CKEDITOR_TRANSLATIONS||(Le.window.CKEDITOR_TRANSLATIONS={});function Z5(i,n,e=1,t){if(typeof e!="number")throw new Z("translation-service-quantity-not-a-number",null,{quantity:e});const r=t||Le.window.CKEDITOR_TRANSLATIONS,o=Q5(r);o===1&&(i=Object.keys(r)[0]);const s=n.id||n.string;if(o===0||!J5(i,s,r))return e!==1?n.plural:n.string;const l=r[i].dictionary,u=r[i].getPluralForm||(p=>p===1?0:1),d=l[s];if(typeof d=="string")return d;const f=Number(u(e));return d[f]}function Y5(i){return Array.isArray(i)?i.reduce((n,e)=>Sf(n,e)):i}function J5(i,n,e){return!!e[i]&&!!e[i].dictionary[n]}function Q5(i){return Object.keys(i).length}class X5{constructor({uiLanguage:n="en",contentLanguage:e,translations:t}={}){g(this,"uiLanguage");g(this,"uiLanguageDirection");g(this,"contentLanguage");g(this,"contentLanguageDirection");g(this,"t");g(this,"translations");this.uiLanguage=n,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=mg(this.uiLanguage),this.contentLanguageDirection=mg(this.contentLanguage),this.translations=Y5(t),this.t=(r,o)=>this._t(r,o)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(n,e=[]){e=Ht(e),typeof n=="string"&&(n={string:n});const r=!!n.plural?e[0]:1,o=Z5(this.uiLanguage,n,r,this.translations);return ex(o,e)}}function ex(i,n){return i.replace(/%(\d+)/g,(e,t)=>t<n.length?n[t]:e)}class Ko extends At(){constructor(e={},t={}){super();g(this,"_items");g(this,"_itemMap");g(this,"_idProperty");g(this,"_bindToCollection");g(this,"_bindToExternalToInternalMap");g(this,"_bindToInternalToExternalMap");g(this,"_skippedIndexesFromExternal");const r=xr(e);if(r||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r)for(const o of e)this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new Z("collection-add-item-invalid-index",this);let r=0;for(const o of e){const s=this._getItemIdBeforeAdding(o),l=t+r;this._items.splice(l,0,o),this._itemMap.set(s,o),this.fire("add",o,l),r++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new Z("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,r=e[t];return r&&this._itemMap.has(r)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,r]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:r}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new Z("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(r=>new t(r))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(r=>r[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,r=(o,s,l)=>{const u=t._bindToCollection==this,d=t._bindToInternalToExternalMap.get(s);if(u&&d)this._bindToExternalToInternalMap.set(s,d),this._bindToInternalToExternalMap.set(d,s);else{const f=e(s);if(!f){this._skippedIndexesFromExternal.push(l);return}let p=l;for(const b of this._skippedIndexesFromExternal)l>b&&p--;for(const b of t._skippedIndexesFromExternal)p>=b&&p++;this._bindToExternalToInternalMap.set(s,f),this._bindToInternalToExternalMap.set(f,s),this.add(f,p);for(let b=0;b<t._skippedIndexesFromExternal.length;b++)p<=t._skippedIndexesFromExternal[b]&&t._skippedIndexesFromExternal[b]++}};for(const o of t)r(null,o,t.getIndex(o));this.listenTo(t,"add",r),this.listenTo(t,"remove",(o,s,l)=>{const u=this._bindToExternalToInternalMap.get(s);u&&this.remove(u),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((d,f)=>(l<f&&d.push(f-1),l>f&&d.push(f),d),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let r;if(t in e){if(r=e[t],typeof r!="string")throw new Z("collection-add-invalid-id",this);if(this.get(r))throw new Z("collection-add-item-already-exists",this)}else e[t]=r=oo();return r}_remove(e){let t,r,o,s=!1;const l=this._idProperty;if(typeof e=="string"?(r=e,o=this._itemMap.get(r),s=!o,o&&(t=this._items.indexOf(o))):typeof e=="number"?(t=e,o=this._items[t],s=!o,o&&(r=o[l])):(o=e,r=o[l],t=this._items.indexOf(o),s=t==-1||!this._itemMap.get(r)),s)throw new Z("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(r);const u=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(u),this.fire("remove",o,t),[o,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ls(i){const n=i.next();return n.done?null:n.value}class Go extends ai(on()){constructor(){super();g(this,"_elements",new Set);g(this,"_nextEventLoopTimeout",null);this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}add(e){if(this._elements.has(e))throw new Z("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Zo{constructor(){g(this,"_listener");this._listener=new(ai())}listenTo(n){this._listener.listenTo(n,"keydown",(e,t)=>{this._listener.fire("_keydown:"+Aa(t),t)})}set(n,e,t={}){const r=Of(n),o=t.priority;this._listener.listenTo(this._listener,"_keydown:"+r,(s,l)=>{t.filter&&!t.filter(l)||(e(l,()=>{l.preventDefault(),l.stopPropagation(),s.stop()}),s.return=!0)},{priority:o})}press(n){return!!this._listener.fire("_keydown:"+Aa(n),n)}stopListening(n){this._listener.stopListening(n)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tx(i){const n=new Map;for(const e in i)n.set(e,i[e]);return n}function Rs(i){return xr(i)?new Map(i):tx(i)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const nx=1e4;function rx(i,n,e,t){if(Math.max(n.length,i.length)>nx)return i.slice(0,e).concat(n).concat(i.slice(e+t,i.length));{const r=Array.from(i);return r.splice(e,t,...n),r}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Mf(i,n){let e;function t(...r){t.cancel(),e=setTimeout(()=>i(...r),n)}return t.cancel=()=>{clearTimeout(e)},t}function ix(i){function n(p){return p.length>=40&&p.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let e="";try{e=atob(i)}catch{return"INVALID"}const t=e.split("-"),r=t[0],o=t[1];if(!o)return n(i);try{atob(o)}catch{try{if(atob(r),!atob(r).length)return n(i)}catch{return n(i)}}if(r.length<40||r.length>255)return"INVALID";let s="";try{atob(r),s=atob(o)}catch{return"INVALID"}if(s.length!==8)return"INVALID";const l=Number(s.substring(0,4)),u=Number(s.substring(4,6))-1,d=Number(s.substring(6,8)),f=new Date(l,u,d);return f<f5||isNaN(Number(f))?"INVALID":"VALID"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ox(i){return!!i&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i)}function sx(i){return!!i&&i.length==1&&/[\ud800-\udbff]/.test(i)}function ax(i){return!!i&&i.length==1&&/[\udc00-\udfff]/.test(i)}function Rf(i,n){return sx(i.charAt(n-1))&&ax(i.charAt(n))}function If(i,n){return ox(i.charAt(n))}const lx=cx();function nb(i,n){const e=String(i).matchAll(lx);return Array.from(e).some(t=>t.index<n&&n<t.index+t[0].length)}function cx(){const i=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],n=new RegExp("\\p{Regional_Indicator}{2}","u").source,e="(?:"+i.map(r=>r.source).join("|")+")",t=`${n}|${e}(?:‍${e})*`;return new RegExp(t,"ug")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ku=new WeakMap;let gg=!1;function ux({view:i,element:n,text:e,isDirectHost:t=!0,keepOnFocus:r=!1}){const o=i.document;ku.has(o)||(ku.set(o,new Map),o.registerPostFixer(l=>mh(o,l)),o.on("change:isComposing",()=>{i.change(l=>mh(o,l))},{priority:"high"})),n.is("editableElement")&&n.on("change:placeholder",(l,u,d)=>{s(d)}),n.placeholder?s(n.placeholder):e&&s(e),e&&mx();function s(l){ku.get(o).set(n,{text:l,isDirectHost:t,keepOnFocus:r,hostElement:t?n:null}),i.change(u=>mh(o,u))}}function dx(i,n){return n.hasClass("ck-placeholder")?!1:(i.addClass("ck-placeholder",n),!0)}function hx(i,n){return n.hasClass("ck-placeholder")?(i.removeClass("ck-placeholder",n),!0):!1}function fx(i,n){if(!i.isAttached()||Array.from(i.getChildren()).some(s=>!s.is("uiElement")))return!1;const t=i.document,o=t.selection.anchor;return t.isComposing&&o&&o.parent===i?!1:n||!t.isFocused?!0:!!o&&o.parent!==i}function mh(i,n){const e=ku.get(i),t=[];let r=!1;for(const[o,s]of e)s.isDirectHost&&(t.push(o),bg(n,o,s)&&(r=!0));for(const[o,s]of e){if(s.isDirectHost)continue;const l=px(o);l&&(t.includes(l)||(s.hostElement=l,bg(n,o,s)&&(r=!0)))}return r}function bg(i,n,e){const{text:t,isDirectHost:r,hostElement:o}=e;let s=!1;return o.getAttribute("data-placeholder")!==t&&(i.setAttribute("data-placeholder",t,o),s=!0),(r||n.childCount==1)&&fx(o,e.keepOnFocus)?dx(i,o)&&(s=!0):hx(i,o)&&(s=!0),s}function px(i){if(i.childCount){const n=i.getChild(0);if(n.is("element")&&!n.is("uiElement")&&!n.is("attributeElement"))return n}return null}function mx(){gg||Zt("enableplaceholder-deprecated-text-option"),gg=!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Bs=class{is(){throw new Error("is() method is abstract")}},Fs=class extends At(Bs){constructor(e){super();g(this,"document");g(this,"parent");this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new Z("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}getCommonAncestor(e,t={}){const r=this.getAncestors(t),o=e.getAncestors(t);let s=0;for(;r[s]==o[s]&&r[s];)s++;return s===0?null:r[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),r=e.getPath(),o=Yn(t,r);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<r[o]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=S1(this);return delete e.parent,e}};Fs.prototype.is=function(i){return i==="node"||i==="view:node"};let Ut=class qh extends Fs{constructor(e,t){super(e);g(this,"_textData");this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof qh?this===e||this.data===e.data:!1}_clone(){return new qh(this.document,this.data)}};Ut.prototype.is=function(i){return i==="$text"||i==="view:$text"||i==="text"||i==="view:text"||i==="node"||i==="view:node"};let Ei=class extends Bs{constructor(e,t,r){super();g(this,"textNode");g(this,"data");g(this,"offsetInText");if(this.textNode=e,t<0||t>e.data.length)throw new Z("view-textproxy-wrong-offsetintext",this);if(r<0||t+r>e.data.length)throw new Z("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+r),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let r=e.includeSelf?this.textNode:this.parent;for(;r!==null;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}};Ei.prototype.is=function(i){return i==="$textProxy"||i==="view:$textProxy"||i==="textProxy"||i==="view:textProxy"};class Fl{constructor(...n){g(this,"_patterns",[]);this.add(...n)}add(...n){for(let e of n)(typeof e=="string"||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...n){for(const e of n)for(const t of this._patterns){const r=wg(e,t);if(r)return{element:e,pattern:t,match:r}}return null}matchAll(...n){const e=[];for(const t of n)for(const r of this._patterns){const o=wg(t,r);o&&e.push({element:t,pattern:r,match:o})}return e.length>0?e:null}getElementName(){if(this._patterns.length!==1)return null;const n=this._patterns[0],e=n.name;return typeof n!="function"&&e&&!(e instanceof RegExp)?e:null}}function wg(i,n){if(typeof n=="function")return n(i);const e={};return n.name&&(e.name=gx(n.name,i.name),!e.name)||n.attributes&&(e.attributes=vx(n.attributes,i),!e.attributes)||n.classes&&(e.classes=_x(n.classes,i),!e.classes)||n.styles&&(e.styles=kx(n.styles,i),!e.styles)?null:e}function gx(i,n){return i instanceof RegExp?!!n.match(i):i===n}function Nf(i,n,e){const t=bx(i),r=Array.from(n),o=[];if(t.forEach(([s,l])=>{r.forEach(u=>{wx(s,u)&&yx(l,u,e)&&o.push(u)})}),!(!t.length||o.length<t.length))return o}function bx(i){return Array.isArray(i)?i.map(n=>$r(n)?((n.key===void 0||n.value===void 0)&&Zt("matcher-pattern-missing-key-or-value",n),[n.key,n.value]):[n,!0]):$r(i)?Object.entries(i):[[i,!0]]}function wx(i,n){return i===!0||i===n||i instanceof RegExp&&n.match(i)}function yx(i,n,e){if(i===!0)return!0;const t=e(n);return i===t||i instanceof RegExp&&!!String(t).match(i)}function vx(i,n){const e=new Set(n.getAttributeKeys());return $r(i)?(i.style!==void 0&&Zt("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&Zt("matcher-pattern-deprecated-attributes-class-key",i)):(e.delete("style"),e.delete("class")),Nf(i,e,t=>n.getAttribute(t))}function _x(i,n){return Nf(i,n.getClassNames(),()=>{})}function kx(i,n){return Nf(i,n.getStyleNames(!0),e=>n.getStyle(e))}class Kh{constructor(n){g(this,"_styles");g(this,"_styleProcessor");this._styles={},this._styleProcessor=n}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(n){this.clear();const e=xx(n);for(const[t,r]of e)this._styleProcessor.toNormalizedForm(t,r,this._styles)}has(n){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(n,this._styles).find(([r])=>r===n);return Array.isArray(t)}set(n,e){if(qt(n))for(const[t,r]of Object.entries(n))this._styleProcessor.toNormalizedForm(t,r,this._styles);else this._styleProcessor.toNormalizedForm(n,e,this._styles)}remove(n){const e=Gh(n);G2(this._styles,e),delete this._styles[n],this._cleanEmptyObjectsOnPath(e)}getNormalized(n){return this._styleProcessor.getNormalized(n,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(n=>n.join(":")).sort().join(";")+";"}getAsString(n){if(this.isEmpty)return;if(this._styles[n]&&!qt(this._styles[n]))return this._styles[n];const t=this._styleProcessor.getReducedForm(n,this._styles).find(([r])=>r===n);if(Array.isArray(t))return t[1]}getStyleNames(n=!1){return this.isEmpty?[]:n?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([t])=>t)}clear(){this._styles={}}getStylesEntries(){const n=[],e=Object.keys(this._styles);for(const t of e)n.push(...this._styleProcessor.getReducedForm(t,this._styles));return n}_cleanEmptyObjectsOnPath(n){const e=n.split(".");if(!(e.length>1))return;const r=e.splice(0,e.length-1).join("."),o=Dl(this._styles,r);if(!o)return;!Object.keys(o).length&&this.remove(r)}}class Ex{constructor(){g(this,"_normalizers");g(this,"_extractors");g(this,"_reducers");g(this,"_consumables");this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(n,e,t){if(qt(e)){gh(t,Gh(n),e);return}if(this._normalizers.has(n)){const r=this._normalizers.get(n),{path:o,value:s}=r(e);gh(t,o,s)}else gh(t,n,e)}getNormalized(n,e){if(!n)return Sf({},e);if(e[n]!==void 0)return e[n];if(this._extractors.has(n)){const t=this._extractors.get(n);if(typeof t=="string")return Dl(e,t);const r=t(n,e);if(r)return r}return Dl(e,Gh(n))}getReducedForm(n,e){const t=this.getNormalized(n,e);return t===void 0?[]:this._reducers.has(n)?this._reducers.get(n)(t):[[n,t]]}getStyleNames(n){const e=new Set;for(const t of this._consumables.keys()){const r=this.getNormalized(t,n);r&&(typeof r!="object"||Object.keys(r).length)&&e.add(t)}for(const t of Object.keys(n))e.add(t);return Array.from(e)}getRelatedStyles(n){return this._consumables.get(n)||[]}setNormalizer(n,e){this._normalizers.set(n,e)}setExtractor(n,e){this._extractors.set(n,e)}setReducer(n,e){this._reducers.set(n,e)}setStyleRelation(n,e){this._mapStyleNames(n,e);for(const t of e)this._mapStyleNames(t,[n])}_mapStyleNames(n,e){this._consumables.has(n)||this._consumables.set(n,[]),this._consumables.get(n).push(...e)}}function xx(i){let n=null,e=0,t=0,r=null;const o=new Map;if(i==="")return o;i.charAt(i.length-1)!=";"&&(i=i+";");for(let s=0;s<i.length;s++){const l=i.charAt(s);if(n===null)switch(l){case":":r||(r=i.substr(e,s-e),t=s+1);break;case'"':case"'":n=l;break;case";":{const u=i.substr(t,s-t);r&&o.set(r.trim(),u.trim()),r=null,e=s+1;break}}else l===n&&(n=null)}return o}function Gh(i){return i.replace("-",".")}function gh(i,n,e){let t=e;qt(e)&&(t=Sf({},Dl(i,n),e)),q2(i,n,t)}let Xi=class rb extends Fs{constructor(e,t,r,o){super(e);g(this,"name");g(this,"_unsafeAttributesToRender",[]);g(this,"_attrs");g(this,"_children");g(this,"_classes");g(this,"_styles");g(this,"_customProperties",new Map);if(this.name=t,this._attrs=Cx(r),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has("class")){const s=this._attrs.get("class");yg(this._classes,s),this._attrs.delete("class")}this._styles=new Kh(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof rb))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,r]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==r)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Fl(...e);let r=this.parent;for(;r&&!r.is("documentFragment");){if(t.match(r))return r;r=r.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),r=Array.from(this._attrs).map(o=>`${o[0]}="${o[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(r==""?"":` ${r}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const o of this.getChildren())t.push(o._clone(e));const r=new this.constructor(this.document,this.name,this._attrs,t);return r._classes=new Set(this._classes),r._styles.set(this._styles.getNormalized()),r._customProperties=new Map(this._customProperties),r.getFillerOffset=this.getFillerOffset,r._unsafeAttributesToRender=this._unsafeAttributesToRender,r}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let r=0;const o=Tx(this.document,t);for(const s of o)s.parent!==null&&s._remove(),s.parent=this,s.document=this.document,this._children.splice(e,0,s),e++,r++;return r}_removeChildren(e,t=1){this._fireChange("children",this);for(let r=e;r<e+t;r++)this._children[r].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const r=String(t);this._fireChange("attributes",this),e=="class"?yg(this._classes,r):e=="style"?this._styles.setTo(r):this._attrs.set(e,r)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of Ht(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of Ht(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of Ht(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Xi.prototype.is=function(i,n){return n?n===this.name&&(i==="element"||i==="view:element"):i==="element"||i==="view:element"||i==="node"||i==="view:node"};function Cx(i){const n=Rs(i);for(const[e,t]of n)t===null?n.delete(e):typeof t!="string"&&n.set(e,String(t));return n}function yg(i,n){const e=n.split(/\s+/);i.clear(),e.forEach(t=>i.add(t))}function Tx(i,n){return typeof n=="string"?[new Ut(i,n)]:(xr(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new Ut(i,e):e instanceof Ei?new Ut(i,e.data):e))}class Vl extends Xi{constructor(n,e,t,r){super(n,e,t,r),this.getFillerOffset=Sx}}Vl.prototype.is=function(i,n){return n?n===this.name&&(i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function Sx(){const i=[...this.getChildren()],n=i[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;for(const e of i)if(!e.is("uiElement"))return null;return this.childCount}class id extends on(Vl){constructor(n,e,t,r){super(n,e,t,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(n),this.bind("isFocused").to(n,"isFocused",o=>o&&n.selection.editableElement==this),this.listenTo(n.selection,"change",()=>{this.isFocused=n.isFocused&&n.selection.editableElement==this})}destroy(){this.stopListening()}}id.prototype.is=function(i,n){return n?n===this.name&&(i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};const vg=Symbol("rootName");class ib extends id{constructor(n,e){super(n,e),this.rootName="main"}get rootName(){return this.getCustomProperty(vg)}set rootName(n){this._setCustomProperty(vg,n)}set _name(n){this.name=n}}ib.prototype.is=function(i,n){return n?n===this.name&&(i==="rootElement"||i==="view:rootElement"||i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="rootElement"||i==="view:rootElement"||i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};let Ts=class{constructor(n={}){g(this,"direction");g(this,"boundaries");g(this,"singleCharacters");g(this,"shallow");g(this,"ignoreElementEnd");g(this,"_position");g(this,"_boundaryStartParent");g(this,"_boundaryEndParent");if(!n.boundaries&&!n.startPosition)throw new Z("view-tree-walker-no-start-position",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new Z("view-tree-walker-unknown-direction",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this._position=Pe._createAt(n.startPosition):this._position=Pe._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let e,t;do t=this.position,e=this.next();while(!e.done&&n(e.value));e.done||(this._position=t)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let n=this.position.clone();const e=this.position,t=n.parent;if(t.parent===null&&n.offset===t.childCount)return{done:!0,value:void 0};if(t===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r;if(t instanceof Ut){if(n.isAtEnd)return this._position=Pe._createAfter(t),this._next();r=t.data[n.offset]}else r=t.getChild(n.offset);if(r instanceof Xi){if(!this.shallow)n=new Pe(r,0);else{if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}return this._position=n,this._formatReturnValue("elementStart",r,e,n,1)}if(r instanceof Ut){if(this.singleCharacters)return n=new Pe(r,0),this._position=n,this._next();let o=r.data.length,s;return r==this._boundaryEndParent?(o=this.boundaries.end.offset,s=new Ei(r,0,o),n=Pe._createAfter(s)):(s=new Ei(r,0,r.data.length),n.offset++),this._position=n,this._formatReturnValue("text",s,e,n,o)}if(typeof r=="string"){let o;this.singleCharacters?o=1:o=(t===this._boundaryEndParent?this.boundaries.end.offset:t.data.length)-n.offset;const s=new Ei(t,n.offset,o);return n.offset+=o,this._position=n,this._formatReturnValue("text",s,e,n,o)}return n=Pe._createAfter(t),this._position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",t,e,n)}_previous(){let n=this.position.clone();const e=this.position,t=n.parent;if(t.parent===null&&n.offset===0)return{done:!0,value:void 0};if(t==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r;if(t instanceof Ut){if(n.isAtStart)return this._position=Pe._createBefore(t),this._previous();r=t.data[n.offset-1]}else r=t.getChild(n.offset-1);if(r instanceof Xi)return this.shallow?(n.offset--,this._position=n,this._formatReturnValue("elementStart",r,e,n,1)):(n=new Pe(r,r.childCount),this._position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,e,n));if(r instanceof Ut){if(this.singleCharacters)return n=new Pe(r,r.data.length),this._position=n,this._previous();let o=r.data.length,s;if(r==this._boundaryStartParent){const l=this.boundaries.start.offset;s=new Ei(r,l,r.data.length-l),o=s.data.length,n=Pe._createBefore(s)}else s=new Ei(r,0,r.data.length),n.offset--;return this._position=n,this._formatReturnValue("text",s,e,n,o)}if(typeof r=="string"){let o;if(this.singleCharacters)o=1;else{const l=t===this._boundaryStartParent?this.boundaries.start.offset:0;o=n.offset-l}n.offset-=o;const s=new Ei(t,n.offset,o);return this._position=n,this._formatReturnValue("text",s,e,n,o)}return n=Pe._createBefore(t),this._position=n,this._formatReturnValue("elementStart",t,e,n,1)}_formatReturnValue(n,e,t,r,o){return e instanceof Ei&&(e.offsetInText+e.data.length==e.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(r=Pe._createAfter(e.textNode),this._position=r):t=Pe._createAfter(e.textNode)),e.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(r=Pe._createBefore(e.textNode),this._position=r):t=Pe._createBefore(e.textNode))),{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:r,length:o}}}},Pe=class qi extends Bs{constructor(e,t){super();g(this,"parent");g(this,"offset");this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof id);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=qi._createAt(this),r=t.offset+e;return t.offset=r<0?0:r,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const r=new Ts(t);return r.skip(e),r.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),r=e.getAncestors();let o=0;for(;t[o]==r[o]&&t[o];)o++;return o===0?null:t[o-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],r=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),r.push(e.offset);const o=Yn(t,r);switch(o){case"prefix":return"before";case"extension":return"after";default:return t[o]<r[o]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Ts(e)}clone(){return new qi(this.parent,this.offset)}static _createAt(e,t){if(e instanceof qi)return new this(e.parent,e.offset);{const r=e;if(t=="end")t=r.is("$text")?r.data.length:r.childCount;else{if(t=="before")return this._createBefore(r);if(t=="after")return this._createAfter(r);if(t!==0&&!t)throw new Z("view-createpositionat-offset-required",r)}return new qi(r,t)}}static _createAfter(e){if(e.is("$textProxy"))return new qi(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new Z("view-position-after-root",e,{root:e});return new qi(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new qi(e.textNode,e.offsetInText);if(!e.parent)throw new Z("view-position-before-root",e,{root:e});return new qi(e.parent,e.index)}};Pe.prototype.is=function(i){return i==="position"||i==="view:position"};let ht=class Fo extends Bs{constructor(e,t=null){super();g(this,"start");g(this,"end");this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Ts({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(fu,{direction:"backward"}),t=this.end.getLastMatchingPosition(fu);return e.parent.is("$text")&&e.isAtStart&&(e=Pe._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Pe._createAfter(t.parent)),new Fo(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(fu);if(e.isAfter(this.end)||e.isEqual(this.end))return new Fo(e,e);let t=this.end.getLastMatchingPosition(fu,{direction:"backward"});const r=e.nodeAfter,o=t.nodeBefore;return r&&r.is("$text")&&(e=new Pe(r,0)),o&&o.is("$text")&&(t=new Pe(o,o.data.length)),new Fo(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const r=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return r&&o}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Fo(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Fo(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,r=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(r=e.end),new Fo(t,r)}return null}getWalker(e={}){return e.boundaries=this,new Ts(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Fo(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Ts(e);for(const r of t)yield r.item}*getPositions(e={}){e.boundaries=this;const t=new Ts(e);yield t.position;for(const r of t)yield r.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,r,o){return new this(new Pe(e,t),new Pe(r,o))}static _createFromPositionAndShift(e,t){const r=e,o=e.getShiftedBy(t);return t>0?new this(r,o):new this(o,r)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Pe._createBefore(e),t)}};ht.prototype.is=function(i){return i==="range"||i==="view:range"};function fu(i){return!!(i.item.is("attributeElement")||i.item.is("uiElement"))}let jo=class ob extends At(Bs){constructor(...e){super();g(this,"_ranges");g(this,"_lastRangeBackward");g(this,"_isFake");g(this,"_fakeSelectionLabel");this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let r=!1;for(const o of e._ranges)if(t.isEqual(o)){r=!0;break}if(!r)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Hh(this.getRanges()),r=Hh(e.getRanges());if(t!=r)return!1;if(t==0)return!0;for(let o of this.getRanges()){o=o.getTrimmed();let s=!1;for(let l of e.getRanges())if(l=l.getTrimmed(),o.start.isEqual(l.start)&&o.end.isEqual(l.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,r,o]=e;if(typeof r=="object"&&(o=r,r=void 0),t===null)this._setRanges([]),this._setFakeOptions(o);else if(t instanceof ob||t instanceof Df)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ht)this._setRanges([t],o&&o.backward),this._setFakeOptions(o);else if(t instanceof Pe)this._setRanges([new ht(t)]),this._setFakeOptions(o);else if(t instanceof Fs){const s=!!o&&!!o.backward;let l;if(r===void 0)throw new Z("view-selection-setto-required-second-parameter",this);r=="in"?l=ht._createIn(t):r=="on"?l=ht._createOn(t):l=new ht(Pe._createAt(t,r)),this._setRanges([l],s),this._setFakeOptions(o)}else if(xr(t))this._setRanges(t,o&&o.backward),this._setFakeOptions(o);else throw new Z("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new Z("view-selection-setfocus-no-ranges",this);const r=Pe._createAt(e,t);if(r.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.pop(),r.compareWith(o)=="before"?this._addRange(new ht(r,o),!0):this._addRange(new ht(o,r)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const r of e)this._addRange(r);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof ht))throw new Z("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new Z("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new ht(e.start,e.end))}};jo.prototype.is=function(i){return i==="selection"||i==="view:selection"};let Df=class extends At(Bs){constructor(...e){super();g(this,"_selection");this._selection=new jo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}};Df.prototype.is=function(i){return i==="selection"||i=="documentSelection"||i=="view:selection"||i=="view:documentSelection"};class Fa extends Ji{constructor(e,t,r){super(e,t);g(this,"startRange");g(this,"_eventPhase");g(this,"_currentTarget");this.startRange=r,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const bh=Symbol("bubbling contexts");function Zh(i){class n extends i{fire(t,...r){try{const o=t instanceof Ji?t:new Ji(this,t),s=wh(this);if(!s.size)return;if(ml(o,"capturing",this),ha(s,"$capture",o,...r))return o.return;const l=o.startRange||this.selection.getFirstRange(),u=l?l.getContainedElement():null,d=u?!!sb(s,u):!1;let f=u||Px(l);if(ml(o,"atTarget",f),!d){if(ha(s,"$text",o,...r))return o.return;ml(o,"bubbling",f)}for(;f;){if(f.is("rootElement")){if(ha(s,"$root",o,...r))return o.return}else if(f.is("element")&&ha(s,f.name,o,...r))return o.return;if(ha(s,f,o,...r))return o.return;f=f.parent,ml(o,"bubbling",f)}return ml(o,"bubbling",this),ha(s,"$document",o,...r),o.return}catch(o){/* istanbul ignore next -- @preserve */Z.rethrowUnexpectedError(o,this)}}_addEventListener(t,r,o){const s=Ht(o.context||"$document"),l=wh(this);for(const u of s){let d=l.get(u);d||(d=new(At()),l.set(u,d)),this.listenTo(d,t,r,o)}}_removeEventListener(t,r){const o=wh(this);for(const s of o.values())this.stopListening(s,t,r)}}return n}{const i=Zh(Object);["fire","_addEventListener","_removeEventListener"].forEach(n=>{Zh[n]=i.prototype[n]})}function ml(i,n,e){i instanceof Fa&&(i._eventPhase=n,i._currentTarget=e)}function ha(i,n,e,...t){const r=typeof n=="string"?i.get(n):sb(i,n);return r?(r.fire(e,...t),e.stop.called):!1}function sb(i,n){for(const[e,t]of i)if(typeof e=="function"&&e(n))return t;return null}function wh(i){return i[bh]||(i[bh]=new Map),i[bh]}function Px(i){if(!i)return null;const n=i.start.parent,e=i.end.parent,t=n.getPath(),r=e.getPath();return t.length>r.length?n:e}let ab=class extends Zh(on()){constructor(e){super();g(this,"selection");g(this,"roots");g(this,"stylesProcessor");g(this,"_postFixers",new Set);this.selection=new Df,this.roots=new Ko({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const r of this._postFixers)if(t=r(e),t)break;while(t)}};const _g=10;class Ss extends Xi{constructor(e,t,r,o){super(e,t,r,o);g(this,"_priority",_g);g(this,"_id",null);g(this,"_clonesGroup",null);this.getFillerOffset=Ax}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new Z("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}g(Ss,"DEFAULT_PRIORITY",_g);Ss.prototype.is=function(i,n){return n?n===this.name&&(i==="attributeElement"||i==="view:attributeElement"||i==="element"||i==="view:element"):i==="attributeElement"||i==="view:attributeElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function Ax(){if(yh(this))return null;let i=this.parent;for(;i&&i.is("attributeElement");){if(yh(i)>1)return null;i=i.parent}return!i||yh(i)>1?null:this.childCount}function yh(i){return Array.from(i.getChildren()).filter(n=>!n.is("uiElement")).length}class Lf extends Xi{constructor(n,e,t,r){super(n,e,t,r),this.getFillerOffset=Ox}_insertChild(n,e){if(e&&(e instanceof Fs||Array.from(e).length>0))throw new Z("view-emptyelement-cannot-add",[this,e]);return 0}}Lf.prototype.is=function(i,n){return n?n===this.name&&(i==="emptyElement"||i==="view:emptyElement"||i==="element"||i==="view:element"):i==="emptyElement"||i==="view:emptyElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function Ox(){return null}class od extends Xi{constructor(n,e,t,r){super(n,e,t,r),this.getFillerOffset=Rx}_insertChild(n,e){if(e&&(e instanceof Fs||Array.from(e).length>0))throw new Z("view-uielement-cannot-add",[this,e]);return 0}render(n,e){return this.toDomElement(n)}toDomElement(n){const e=n.createElement(this.name);for(const t of this.getAttributeKeys())e.setAttribute(t,this.getAttribute(t));return e}}od.prototype.is=function(i,n){return n?n===this.name&&(i==="uiElement"||i==="view:uiElement"||i==="element"||i==="view:element"):i==="uiElement"||i==="view:uiElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function Mx(i){i.document.on("arrowKey",(n,e)=>Ix(n,e,i.domConverter),{priority:"low"})}function Rx(){return null}function Ix(i,n,e){if(n.keyCode==pt.arrowright){const t=n.domTarget.ownerDocument.defaultView.getSelection(),r=t.rangeCount==1&&t.getRangeAt(0).collapsed;if(r||n.shiftKey){const o=t.focusNode,s=t.focusOffset,l=e.domPositionToView(o,s);if(l===null)return;let u=!1;const d=l.getLastMatchingPosition(f=>(f.item.is("uiElement")&&(u=!0),!!(f.item.is("uiElement")||f.item.is("attributeElement"))));if(u){const f=e.viewPositionToDom(d);r?t.collapse(f.parent,f.offset):t.extend(f.parent,f.offset)}}}}class Bf extends Xi{constructor(n,e,t,r){super(n,e,t,r),this.getFillerOffset=Nx}_insertChild(n,e){if(e&&(e instanceof Fs||Array.from(e).length>0))throw new Z("view-rawelement-cannot-add",[this,e]);return 0}render(n,e){}}Bf.prototype.is=function(i,n){return n?n===this.name&&(i==="rawElement"||i==="view:rawElement"||i==="element"||i==="view:element"):i==="rawElement"||i==="view:rawElement"||i===this.name||i==="view:"+this.name||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function Nx(){return null}let Ta=class extends At(Bs){constructor(e,t){super();g(this,"document");g(this,"_children",[]);g(this,"_customProperties",new Map);this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let r=0;const o=Dx(this.document,t);for(const s of o)s.parent!==null&&s._remove(),s.parent=this,this._children.splice(e,0,s),e++,r++;return r}_removeChildren(e,t=1){this._fireChange("children",this);for(let r=e;r<e+t;r++)this._children[r].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Ta.prototype.is=function(i){return i==="documentFragment"||i==="view:documentFragment"};function Dx(i,n){return typeof n=="string"?[new Ut(i,n)]:(xr(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new Ut(i,e):e instanceof Ei?new Ut(i,e.data):e))}class lb{constructor(n){g(this,"document");g(this,"_cloneGroups",new Map);g(this,"_slotFactory",null);this.document=n}setSelection(...n){this.document.selection._setTo(...n)}setSelectionFocus(n,e){this.document.selection._setFocus(n,e)}createDocumentFragment(n){return new Ta(this.document,n)}createText(n){return new Ut(this.document,n)}createAttributeElement(n,e,t={}){const r=new Ss(this.document,n,e);return typeof t.priority=="number"&&(r._priority=t.priority),t.id&&(r._id=t.id),t.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...t.renderUnsafeAttributes),r}createContainerElement(n,e,t={},r={}){let o=null;$r(t)?r=t:o=t;const s=new Vl(this.document,n,e,o);return r.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),s}createEditableElement(n,e,t={}){const r=new id(this.document,n,e);return t.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...t.renderUnsafeAttributes),r}createEmptyElement(n,e,t={}){const r=new Lf(this.document,n,e);return t.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...t.renderUnsafeAttributes),r}createUIElement(n,e,t){const r=new od(this.document,n,e);return t&&(r.render=t),r}createRawElement(n,e,t,r={}){const o=new Bf(this.document,n,e);return t&&(o.render=t),r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}setAttribute(n,e,t){t._setAttribute(n,e)}removeAttribute(n,e){e._removeAttribute(n)}addClass(n,e){e._addClass(n)}removeClass(n,e){e._removeClass(n)}setStyle(n,e,t){$r(n)&&t===void 0?e._setStyle(n):t._setStyle(n,e)}removeStyle(n,e){e._removeStyle(n)}setCustomProperty(n,e,t){t._setCustomProperty(n,e)}removeCustomProperty(n,e){return e._removeCustomProperty(n)}breakAttributes(n){return n instanceof Pe?this._breakAttributes(n):this._breakAttributesRange(n)}breakContainer(n){const e=n.parent;if(!e.is("containerElement"))throw new Z("view-writer-break-non-container-element",this.document);if(!e.parent)throw new Z("view-writer-break-root",this.document);if(n.isAtStart)return Pe._createBefore(e);if(!n.isAtEnd){const t=e._clone(!1);this.insert(Pe._createAfter(e),t);const r=new ht(n,Pe._createAt(e,"end")),o=new Pe(t,0);this.move(r,o)}return Pe._createAfter(e)}mergeAttributes(n){const e=n.offset,t=n.parent;if(t.is("$text"))return n;if(t.is("attributeElement")&&t.childCount===0){const s=t.parent,l=t.index;return t._remove(),this._removeFromClonedElementsGroup(t),this.mergeAttributes(new Pe(s,l))}const r=t.getChild(e-1),o=t.getChild(e);if(!r||!o)return n;if(r.is("$text")&&o.is("$text"))return Eg(r,o);if(r.is("attributeElement")&&o.is("attributeElement")&&r.isSimilar(o)){const s=r.childCount;return r._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new Pe(r,s))}return n}mergeContainers(n){const e=n.nodeBefore,t=n.nodeAfter;if(!e||!t||!e.is("containerElement")||!t.is("containerElement"))throw new Z("view-writer-merge-containers-invalid-position",this.document);const r=e.getChild(e.childCount-1),o=r instanceof Ut?Pe._createAt(r,"end"):Pe._createAt(e,"end");return this.move(ht._createIn(t),Pe._createAt(e,"end")),this.remove(ht._createOn(t)),o}insert(n,e){e=xr(e)?[...e]:[e],cb(e,this.document);const t=e.reduce((s,l)=>{const u=s[s.length-1],d=!l.is("uiElement");return!u||u.breakAttributes!=d?s.push({breakAttributes:d,nodes:[l]}):u.nodes.push(l),s},[]);let r=null,o=n;for(const{nodes:s,breakAttributes:l}of t){const u=this._insertNodes(o,s,l);r||(r=u.start),o=u.end}return r?new ht(r,o):new ht(n)}remove(n){const e=n instanceof ht?n:ht._createOn(n);if(gl(e,this.document),e.isCollapsed)return new Ta(this.document);const{start:t,end:r}=this._breakAttributesRange(e,!0),o=t.parent,s=r.offset-t.offset,l=o._removeChildren(t.offset,s);for(const d of l)this._removeFromClonedElementsGroup(d);const u=this.mergeAttributes(t);return e.start=u,e.end=u.clone(),new Ta(this.document,l)}clear(n,e){gl(n,this.document);const t=n.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of t){const o=r.item;let s;if(o.is("element")&&e.isSimilar(o))s=ht._createOn(o);else if(!r.nextPosition.isAfter(n.start)&&o.is("$textProxy")){const l=o.getAncestors().find(u=>u.is("element")&&e.isSimilar(u));l&&(s=ht._createIn(l))}s&&(s.end.isAfter(n.end)&&(s.end=n.end),s.start.isBefore(n.start)&&(s.start=n.start),this.remove(s))}}move(n,e){let t;if(e.isAfter(n.end)){e=this._breakAttributes(e,!0);const r=e.parent,o=r.childCount;n=this._breakAttributesRange(n,!0),t=this.remove(n),e.offset+=r.childCount-o}else t=this.remove(n);return this.insert(e,t)}wrap(n,e){if(!(e instanceof Ss))throw new Z("view-writer-wrap-invalid-attribute",this.document);if(gl(n,this.document),n.isCollapsed){let t=n.start;t.parent.is("element")&&!Lx(t.parent)&&(t=t.getLastMatchingPosition(o=>o.item.is("uiElement"))),t=this._wrapPosition(t,e);const r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(n.start)&&this.setSelection(t),new ht(t)}else return this._wrapRange(n,e)}unwrap(n,e){if(!(e instanceof Ss))throw new Z("view-writer-unwrap-invalid-attribute",this.document);if(gl(n,this.document),n.isCollapsed)return n;const{start:t,end:r}=this._breakAttributesRange(n,!0),o=t.parent,s=this._unwrapChildren(o,t.offset,r.offset,e),l=this.mergeAttributes(s.start);l.isEqual(s.start)||s.end.offset--;const u=this.mergeAttributes(s.end);return new ht(l,u)}rename(n,e){const t=new Vl(this.document,n,e.getAttributes());return this.insert(Pe._createAfter(e),t),this.move(ht._createIn(e),Pe._createAt(t,0)),this.remove(ht._createOn(e)),t}clearClonedElementsGroup(n){this._cloneGroups.delete(n)}createPositionAt(n,e){return Pe._createAt(n,e)}createPositionAfter(n){return Pe._createAfter(n)}createPositionBefore(n){return Pe._createBefore(n)}createRange(n,e){return new ht(n,e)}createRangeOn(n){return ht._createOn(n)}createRangeIn(n){return ht._createIn(n)}createSelection(...n){return new jo(...n)}createSlot(n="children"){if(!this._slotFactory)throw new Z("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,n)}_registerSlotFactory(n){this._slotFactory=n}_clearSlotFactory(){this._slotFactory=null}_insertNodes(n,e,t){let r;if(t?r=Yh(n):r=n.parent.is("$text")?n.parent.parent:n.parent,!r)throw new Z("view-writer-invalid-position-container",this.document);let o;t?o=this._breakAttributes(n,!0):o=n.parent.is("$text")?vh(n):n;const s=r._insertChild(o.offset,e);for(const f of e)this._addToClonedElementsGroup(f);const l=o.getShiftedBy(s),u=this.mergeAttributes(o);u.isEqual(o)||l.offset--;const d=this.mergeAttributes(l);return new ht(u,d)}_wrapChildren(n,e,t,r){let o=e;const s=[];for(;o<t;){const u=n.getChild(o),d=u.is("$text"),f=u.is("attributeElement");if(f&&this._wrapAttributeElement(r,u))s.push(new Pe(n,o));else if(d||!f||Bx(r,u)){const p=r._clone();u._remove(),p._appendChild(u),n._insertChild(o,p),this._addToClonedElementsGroup(p),s.push(new Pe(n,o))}else this._wrapChildren(u,0,u.childCount,r);o++}let l=0;for(const u of s){if(u.offset-=l,u.offset==e)continue;this.mergeAttributes(u).isEqual(u)||(l++,t--)}return ht._createFromParentsAndOffsets(n,e,n,t)}_unwrapChildren(n,e,t,r){let o=e;const s=[];for(;o<t;){const u=n.getChild(o);if(!u.is("attributeElement")){o++;continue}if(u.isSimilar(r)){const d=u.getChildren(),f=u.childCount;u._remove(),n._insertChild(o,d),this._removeFromClonedElementsGroup(u),s.push(new Pe(n,o),new Pe(n,o+f)),o+=f,t+=f-1;continue}if(this._unwrapAttributeElement(r,u)){s.push(new Pe(n,o),new Pe(n,o+1)),o++;continue}this._unwrapChildren(u,0,u.childCount,r),o++}let l=0;for(const u of s){if(u.offset-=l,u.offset==e||u.offset==t)continue;this.mergeAttributes(u).isEqual(u)||(l++,t--)}return ht._createFromParentsAndOffsets(n,e,n,t)}_wrapRange(n,e){const{start:t,end:r}=this._breakAttributesRange(n,!0),o=t.parent,s=this._wrapChildren(o,t.offset,r.offset,e),l=this.mergeAttributes(s.start);l.isEqual(s.start)||s.end.offset--;const u=this.mergeAttributes(s.end);return new ht(l,u)}_wrapPosition(n,e){if(e.isSimilar(n.parent))return kg(n.clone());n.parent.is("$text")&&(n=vh(n));const t=this.createAttributeElement("_wrapPosition-fake-element");t._priority=Number.POSITIVE_INFINITY,t.isSimilar=()=>!1,n.parent._insertChild(n.offset,t);const r=new ht(n,n.getShiftedBy(1));this.wrap(r,e);const o=new Pe(t.parent,t.index);t._remove();const s=o.nodeBefore,l=o.nodeAfter;return s instanceof Ut&&l instanceof Ut?Eg(s,l):kg(o)}_wrapAttributeElement(n,e){if(!xg(n,e)||n.name!==e.name||n.priority!==e.priority)return!1;for(const t of n.getAttributeKeys())if(!(t==="class"||t==="style")&&e.hasAttribute(t)&&e.getAttribute(t)!==n.getAttribute(t))return!1;for(const t of n.getStyleNames())if(e.hasStyle(t)&&e.getStyle(t)!==n.getStyle(t))return!1;for(const t of n.getAttributeKeys())t==="class"||t==="style"||e.hasAttribute(t)||this.setAttribute(t,n.getAttribute(t),e);for(const t of n.getStyleNames())e.hasStyle(t)||this.setStyle(t,n.getStyle(t),e);for(const t of n.getClassNames())e.hasClass(t)||this.addClass(t,e);return!0}_unwrapAttributeElement(n,e){if(!xg(n,e)||n.name!==e.name||n.priority!==e.priority)return!1;for(const t of n.getAttributeKeys())if(!(t==="class"||t==="style")&&(!e.hasAttribute(t)||e.getAttribute(t)!==n.getAttribute(t)))return!1;if(!e.hasClass(...n.getClassNames()))return!1;for(const t of n.getStyleNames())if(!e.hasStyle(t)||e.getStyle(t)!==n.getStyle(t))return!1;for(const t of n.getAttributeKeys())t==="class"||t==="style"||this.removeAttribute(t,e);return this.removeClass(Array.from(n.getClassNames()),e),this.removeStyle(Array.from(n.getStyleNames()),e),!0}_breakAttributesRange(n,e=!1){const t=n.start,r=n.end;if(gl(n,this.document),n.isCollapsed){const u=this._breakAttributes(n.start,e);return new ht(u,u)}const o=this._breakAttributes(r,e),s=o.parent.childCount,l=this._breakAttributes(t,e);return o.offset+=o.parent.childCount-s,new ht(l,o)}_breakAttributes(n,e=!1){const t=n.offset,r=n.parent;if(n.parent.is("emptyElement"))throw new Z("view-writer-cannot-break-empty-element",this.document);if(n.parent.is("uiElement"))throw new Z("view-writer-cannot-break-ui-element",this.document);if(n.parent.is("rawElement"))throw new Z("view-writer-cannot-break-raw-element",this.document);if(!e&&r.is("$text")&&Jh(r.parent)||Jh(r))return n.clone();if(r.is("$text"))return this._breakAttributes(vh(n),e);const o=r.childCount;if(t==o){const s=new Pe(r.parent,r.index+1);return this._breakAttributes(s,e)}else if(t===0){const s=new Pe(r.parent,r.index);return this._breakAttributes(s,e)}else{const s=r.index+1,l=r._clone();r.parent._insertChild(s,l),this._addToClonedElementsGroup(l);const u=r.childCount-t,d=r._removeChildren(t,u);l._appendChild(d);const f=new Pe(r.parent,s);return this._breakAttributes(f,e)}}_addToClonedElementsGroup(n){if(!n.root.is("rootElement"))return;if(n.is("element"))for(const r of n.getChildren())this._addToClonedElementsGroup(r);const e=n.id;if(!e)return;let t=this._cloneGroups.get(e);t||(t=new Set,this._cloneGroups.set(e,t)),t.add(n),n._clonesGroup=t}_removeFromClonedElementsGroup(n){if(n.is("element"))for(const r of n.getChildren())this._removeFromClonedElementsGroup(r);const e=n.id;if(!e)return;const t=this._cloneGroups.get(e);t&&t.delete(n)}}function Lx(i){return Array.from(i.getChildren()).some(n=>!n.is("uiElement"))}function Yh(i){let n=i.parent;for(;!Jh(n);){if(!n)return;n=n.parent}return n}function Bx(i,n){return i.priority<n.priority?!0:i.priority>n.priority?!1:i.getIdentity()<n.getIdentity()}function kg(i){const n=i.nodeBefore;if(n&&n.is("$text"))return new Pe(n,n.data.length);const e=i.nodeAfter;return e&&e.is("$text")?new Pe(e,0):i}function vh(i){if(i.offset==i.parent.data.length)return new Pe(i.parent.parent,i.parent.index+1);if(i.offset===0)return new Pe(i.parent.parent,i.parent.index);const n=i.parent.data.slice(i.offset);return i.parent._data=i.parent.data.slice(0,i.offset),i.parent.parent._insertChild(i.parent.index+1,new Ut(i.root.document,n)),new Pe(i.parent.parent,i.parent.index+1)}function Eg(i,n){const e=i.data.length;return i._data+=n.data,n._remove(),new Pe(i,e)}const Fx=[Ut,Ss,Vl,Lf,Bf,od];function cb(i,n){for(const e of i){if(!Fx.some(t=>e instanceof t))throw new Z("view-writer-insert-invalid-node-type",n);e.is("$text")||cb(e.getChildren(),n)}}function Jh(i){return i&&(i.is("containerElement")||i.is("documentFragment"))}function gl(i,n){const e=Yh(i.start),t=Yh(i.end);if(!e||!t||e!==t)throw new Z("view-writer-invalid-range-container",n)}function xg(i,n){return i.id===null&&n.id===null}const ub=i=>i.createTextNode(" "),db=i=>{const n=i.createElement("span");return n.dataset.ckeFiller="true",n.innerText=" ",n},hb=i=>{const n=i.createElement("br");return n.dataset.ckeFiller="true",n},ti=7,zl="⁠".repeat(ti);function yr(i){return typeof i=="string"?i.substr(0,ti)===zl:Gt(i)&&i.data.substr(0,ti)===zl}function ka(i){return i.data.length==ti&&yr(i)}function Cg(i){const n=typeof i=="string"?i:i.data;return yr(i)?n.slice(ti):n}function Vx(i){i.document.on("arrowKey",zx,{priority:"low"})}function zx(i,n){if(n.keyCode==pt.arrowleft){const e=n.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer,r=e.getRangeAt(0).startOffset;yr(t)&&r<=ti&&e.collapse(t,0)}}}let jx=class extends on(){constructor(e,t){super();g(this,"domDocuments",new Set);g(this,"domConverter");g(this,"markedAttributes",new Set);g(this,"markedChildren",new Set);g(this,"markedTexts",new Set);g(this,"selection");g(this,"_inlineFiller",null);g(this,"_fakeSelectionContainer",null);this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),Xe.isBlink&&!Xe.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new Z("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!Xe.isAndroid)return;let e=null;const t=Xe.isBlink&&!Xe.isAndroid?!this.isSelecting:!0;for(const r of this.markedChildren)this._updateChildrenMappings(r);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Pe._createBefore(e.parent)));for(const r of this.markedAttributes)this._updateAttrs(r);for(const r of this.markedChildren)this._updateChildren(r,{inlineFillerPosition:e});for(const r of this.markedTexts)!this.markedChildren.has(r.parent)&&this.domConverter.mapViewToDom(r.parent)&&this._updateText(r,{inlineFillerPosition:e});if(t)if(e){const r=this.domConverter.viewPositionToDom(e),o=r.parent.ownerDocument;yr(r.parent)?this._inlineFiller=r.parent:this._inlineFiller=Tg(o,r.parent,r.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const r=Array.from(t.childNodes),o=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),s=this._diffNodeLists(r,o),l=this._findUpdateActions(s,r,o,Wx);if(l.indexOf("update")!==-1){const u={equal:0,insert:0,delete:0};for(const d of l)if(d==="update"){const f=u.equal+u.insert,p=u.equal+u.delete,b=e.getChild(f);b&&!b.is("uiElement")&&!b.is("rawElement")&&this._updateElementMappings(b,r[p]),dg(o[f]),u.equal++}else u[d]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Pe._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Gt(t.parent)&&yr(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!yr(e))throw new Z("view-renderer-filler-was-lost",this);ka(e)?e.remove():e.data=e.data.substr(ti),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,r=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!$x(t))return!1;const o=e.nodeBefore,s=e.nodeAfter;return!(o instanceof Ut||s instanceof Ut||r===t.getFillerOffset()&&(!o||!o.is("element","br"))||Xe.isAndroid&&(o||s))}_updateText(e,t){const r=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const l=t.inlineFillerPosition;l&&l.parent==e.parent&&l.offset==e.index&&(s=zl+s),this._updateTextNode(r,s)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(t){for(const r of t.attributes){const o=r.name;e.hasAttribute(o)||this.domConverter.removeDomElementAttribute(t,o)}for(const r of e.getAttributeKeys())this.domConverter.setDomElementAttribute(t,r,e.getAttribute(r),e)}}_updateChildren(e,t){const r=this.domConverter.mapViewToDom(e);if(!r)return;if(Xe.isAndroid){let b=null;for(const v of Array.from(r.childNodes)){if(b&&Gt(b)&&Gt(v)){r.normalize();break}b=v}}const o=t.inlineFillerPosition,s=r.childNodes,l=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));o&&o.parent===e&&Tg(r.ownerDocument,l,o.offset);const u=this._diffNodeLists(s,l),d=this._findUpdateActions(u,s,l,Hx);let f=0;const p=new Set;for(const b of d)b==="delete"?(p.add(s[f]),dg(s[f])):(b==="equal"||b==="update")&&f++;f=0;for(const b of d)b==="insert"?(Z1(r,f,l[f]),f++):b==="update"?(this._updateTextNode(s[f],l[f].data),f++):b==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(l[f])),f++);for(const b of p)b.parentNode||this.domConverter.unbindDomElement(b)}_diffNodeLists(e,t){return e=Kx(e,this._fakeSelectionContainer),El(e,t,Ux.bind(null,this.domConverter))}_findUpdateActions(e,t,r,o){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let s=[],l=[],u=[];const d={equal:0,insert:0,delete:0};for(const f of e)f==="insert"?u.push(r[d.equal+d.insert]):f==="delete"?l.push(t[d.equal+d.delete]):(s=s.concat(El(l,u,o).map(p=>p==="equal"?"update":p)),s.push("equal"),l=[],u=[]),d[f]++;return s.concat(El(l,u,o).map(f=>f==="equal"?"update":f))}_updateTextNode(e,t){const r=e.data;r!=t&&(Xe.isAndroid&&this.isComposing&&r.replace(/\u00A0/g," ")==t.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,t))}_updateTextNodeInternal(e,t){const r=N1(e.data,t);for(const o of r)o.type==="insert"?e.insertData(o.index,o.values.join("")):e.deleteData(o.index,o.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(Xe.isBlink&&!Xe.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&Xe.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=Gx(t));const r=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(r,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!r.parentElement||r.parentElement!=e)&&e.appendChild(r),r.textContent=this.selection.fakeSelectionLabel||" ";const o=t.getSelection(),s=t.createRange();o.removeAllRanges(),s.selectNodeContents(r),o.addRange(s)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const r=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(r.parent,r.offset,o.parent,o.offset),Xe.isGecko&&qx(o,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,r=e.ownerDocument.getSelection();return!t||t.parentElement!==e||r.anchorNode!==t&&!t.contains(r.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const r=e.activeElement,o=this.domConverter.mapDomToView(r);r&&o&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}};function $x(i){if(i.getAttribute("contenteditable")=="false")return!1;const n=i.findAncestor(e=>e.hasAttribute("contenteditable"));return!n||n.getAttribute("contenteditable")=="true"}function Tg(i,n,e){const t=n instanceof Array?n:n.childNodes,r=t[e];if(Gt(r))return r.data=zl+r.data,r;{const o=i.createTextNode(zl);return Array.isArray(n)?t.splice(e,0,o):Z1(n,e,o),o}}function Wx(i,n){return Wo(i)&&Wo(n)&&!Gt(i)&&!Gt(n)&&!Tl(i)&&!Tl(n)&&i.tagName.toLowerCase()===n.tagName.toLowerCase()}function Hx(i,n){return Wo(i)&&Wo(n)&&Gt(i)&&Gt(n)}function Ux(i,n,e){return n===e?!0:Gt(n)&&Gt(e)?n.data===e.data:!!(i.isBlockFiller(n)&&i.isBlockFiller(e))}function qx(i,n){let e=i.parent,t=i.offset;if(Gt(e)&&ka(e)&&(t=vl(e)+1,e=e.parentNode),e.nodeType!=Node.ELEMENT_NODE||t!=e.childNodes.length-1)return;const r=e.childNodes[t];r&&r.tagName=="BR"&&n.addRange(n.getRangeAt(0))}function Kx(i,n){const e=Array.from(i);return e.length==0||!n||e[e.length-1]==n&&e.pop(),e}function Gx(i){const n=i.createElement("div");return n.className="ck-fake-selection-container",Object.assign(n.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),n.textContent=" ",n}const Zx=hb(Le.document),Yx=ub(Le.document),Jx=db(Le.document),pu="data-ck-unsafe-attribute-",Sg="data-ck-unsafe-element";class fb{constructor(n,{blockFillerMode:e,renderingMode:t="editing"}={}){g(this,"document");g(this,"renderingMode");g(this,"blockFillerMode");g(this,"preElements");g(this,"blockElements");g(this,"inlineObjectElements");g(this,"unsafeElements");g(this,"_domDocument");g(this,"_domToViewMapping",new WeakMap);g(this,"_viewToDomMapping",new WeakMap);g(this,"_fakeSelectionMapping",new WeakMap);g(this,"_rawContentElementMatcher",new Fl);g(this,"_inlineObjectElementMatcher",new Fl);g(this,"_elementsWithTemporaryCustomProperties",new Set);this.document=n,this.renderingMode=t,this.blockFillerMode=e||(t==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Le.document:Le.document.implementation.createHTMLDocument("")}bindFakeSelection(n,e){this._fakeSelectionMapping.set(n,new jo(e))}fakeSelectionToView(n){return this._fakeSelectionMapping.get(n)}bindElements(n,e){this._domToViewMapping.set(n,e),this._viewToDomMapping.set(e,n)}unbindDomElement(n){const e=this._domToViewMapping.get(n);if(e){this._domToViewMapping.delete(n),this._viewToDomMapping.delete(e);for(const t of n.children)this.unbindDomElement(t)}}bindDocumentFragments(n,e){this._domToViewMapping.set(n,e),this._viewToDomMapping.set(e,n)}shouldRenderAttribute(n,e,t){return this.renderingMode==="data"?!0:(n=n.toLowerCase(),n.startsWith("on")||n==="srcdoc"&&e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:t==="img"&&(n==="src"||n==="srcset")||t==="source"&&n==="srcset"?!0:!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(n,e){if(this.renderingMode==="data"){n.innerHTML=e;return}const t=new DOMParser().parseFromString(e,"text/html"),r=t.createDocumentFragment(),o=t.body.childNodes;for(;o.length>0;)r.appendChild(o[0]);const s=t.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),l=[];let u;for(;u=s.nextNode();)l.push(u);for(const d of l){for(const p of d.getAttributeNames())this.setDomElementAttribute(d,p,d.getAttribute(p));const f=d.tagName.toLowerCase();this._shouldRenameElement(f)&&(Ag(f),d.replaceWith(this._createReplacementDomElement(f,d)))}for(;n.firstChild;)n.firstChild.remove();n.append(r)}viewToDom(n,e={}){if(n.is("$text")){const t=this._processDataFromViewText(n);return this._domDocument.createTextNode(t)}else{const t=n;if(this.mapViewToDom(t))if(t.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(t);else return this.mapViewToDom(t);let r;if(t.is("documentFragment"))r=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(r,t);else{if(t.is("uiElement"))return t.name==="$comment"?r=this._domDocument.createComment(t.getCustomProperty("$rawContent")):r=t.render(this._domDocument,this),e.bind&&this.bindElements(r,t),r;this._shouldRenameElement(t.name)?(Ag(t.name),r=this._createReplacementDomElement(t.name)):t.hasAttribute("xmlns")?r=this._domDocument.createElementNS(t.getAttribute("xmlns"),t.name):r=this._domDocument.createElement(t.name),t.is("rawElement")&&t.render(r,this),e.bind&&this.bindElements(r,t);for(const o of t.getAttributeKeys())this.setDomElementAttribute(r,o,t.getAttribute(o),t)}if(e.withChildren!==!1)for(const o of this.viewChildrenToDom(t,e))r instanceof HTMLTemplateElement?r.content.appendChild(o):r.appendChild(o);return r}}setDomElementAttribute(n,e,t,r){const o=this.shouldRenderAttribute(e,t,n.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(e);if(o||Zt("domconverter-unsafe-attribute-detected",{domElement:n,key:e,value:t}),!I5(e)){Zt("domconverter-invalid-attribute-detected",{domElement:n,key:e,value:t});return}n.hasAttribute(e)&&!o?n.removeAttribute(e):n.hasAttribute(pu+e)&&o&&n.removeAttribute(pu+e),n.setAttribute(o?e:pu+e,t)}removeDomElementAttribute(n,e){e!=Sg&&(n.removeAttribute(e),n.removeAttribute(pu+e))}*viewChildrenToDom(n,e={}){const t=n.getFillerOffset&&n.getFillerOffset();let r=0;for(const o of n.getChildren()){t===r&&(yield this._getBlockFiller());const s=o.is("element")&&!!o.getCustomProperty("dataPipeline:transparentRendering")&&!Ls(o.getAttributes());if(s&&this.renderingMode=="data")if(o.is("rawElement")){const l=this._domDocument.createElement(o.name);o.render(l,this),yield*[...l.childNodes]}else yield*this.viewChildrenToDom(o,e);else s&&Zt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:o}),yield this.viewToDom(o,e);r++}t===r&&(yield this._getBlockFiller())}viewRangeToDom(n){const e=this.viewPositionToDom(n.start),t=this.viewPositionToDom(n.end),r=this._domDocument.createRange();return r.setStart(e.parent,e.offset),r.setEnd(t.parent,t.offset),r}viewPositionToDom(n){const e=n.parent;if(e.is("$text")){const t=this.findCorrespondingDomText(e);if(!t)return null;let r=n.offset;return yr(t)&&(r+=ti),{parent:t,offset:r}}else{let t,r,o;if(n.offset===0){if(t=this.mapViewToDom(e),!t)return null;o=t.childNodes[0]}else{const l=n.nodeBefore;if(r=l.is("$text")?this.findCorrespondingDomText(l):this.mapViewToDom(l),!r)return null;t=r.parentNode,o=r.nextSibling}if(Gt(o)&&yr(o))return{parent:o,offset:ti};const s=r?vl(r)+1:0;return{parent:t,offset:s}}}domToView(n,e={}){const t=[],r=this._domToView(n,e,t),o=r.next().value;return!o||(r.next(),this._processDomInlineNodes(null,t,e),o.is("$text")&&o.data.length==0)?null:o}*domChildrenToView(n,e={},t=[]){let r=[];n instanceof HTMLTemplateElement?r=[...n.content.childNodes]:r=[...n.childNodes];for(let o=0;o<r.length;o++){const s=r[o],l=this._domToView(s,e,t),u=l.next().value;u!==null&&(this._isBlockViewElement(u)&&this._processDomInlineNodes(n,t,e),yield u,l.next())}this._processDomInlineNodes(n,t,e)}domSelectionToView(n){if(eC(n))return new jo([]);if(n.rangeCount===1){let r=n.getRangeAt(0).startContainer;Gt(r)&&(r=r.parentNode);const o=this.fakeSelectionToView(r);if(o)return o}const e=this.isDomSelectionBackward(n),t=[];for(let r=0;r<n.rangeCount;r++){const o=n.getRangeAt(r),s=this.domRangeToView(o);s&&t.push(s)}return new jo(t,{backward:e})}domRangeToView(n){const e=this.domPositionToView(n.startContainer,n.startOffset),t=this.domPositionToView(n.endContainer,n.endOffset);return e&&t?new ht(e,t):null}domPositionToView(n,e=0){if(this.isBlockFiller(n))return this.domPositionToView(n.parentNode,vl(n));const t=this.mapDomToView(n);if(t&&(t.is("uiElement")||t.is("rawElement")))return Pe._createBefore(t);if(Gt(n)){if(ka(n))return this.domPositionToView(n.parentNode,vl(n));const r=this.findCorrespondingViewText(n);let o=e;return r?(yr(n)&&(o-=ti,o=o<0?0:o),new Pe(r,o)):null}else{if(e===0){const r=this.mapDomToView(n);if(r)return new Pe(r,0)}else{const r=n.childNodes[e-1];if(Gt(r)&&ka(r)||r&&this.isBlockFiller(r))return this.domPositionToView(r.parentNode,vl(r));const o=Gt(r)?this.findCorrespondingViewText(r):this.mapDomToView(r);if(o&&o.parent)return new Pe(o.parent,o.index+1)}return null}}mapDomToView(n){return this.getHostViewElement(n)||this._domToViewMapping.get(n)}findCorrespondingViewText(n){if(ka(n))return null;const e=this.getHostViewElement(n);if(e)return e;const t=n.previousSibling;if(t){if(!this.isElement(t))return null;const r=this.mapDomToView(t);if(r){const o=r.nextSibling;return o instanceof Ut?o:null}}else{const r=this.mapDomToView(n.parentNode);if(r){const o=r.getChild(0);return o instanceof Ut?o:null}}return null}mapViewToDom(n){return this._viewToDomMapping.get(n)}findCorrespondingDomText(n){const e=n.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&n.parent&&this.mapViewToDom(n.parent)?this.mapViewToDom(n.parent).childNodes[0]:null}focus(n){const e=this.mapViewToDom(n);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:r}=Le.window,o=[];Pg(e,s=>{const{scrollLeft:l,scrollTop:u}=s;o.push([l,u])}),e.focus(),Pg(e,s=>{const[l,u]=o.shift();s.scrollLeft=l,s.scrollTop=u}),Le.window.scrollTo(t,r)}}_clearDomSelection(){const n=this.mapViewToDom(this.document.selection.editableElement);if(!n)return;const e=n.ownerDocument.defaultView.getSelection(),t=this.domSelectionToView(e);t&&t.rangeCount>0&&e.removeAllRanges()}isElement(n){return n&&n.nodeType==Node.ELEMENT_NODE}isDocumentFragment(n){return n&&n.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(n){return this.blockFillerMode=="br"?n.isEqualNode(Zx):n.tagName==="BR"&&pb(n,this.blockElements)&&n.parentNode.childNodes.length===1?!0:n.isEqualNode(Jx)||Xx(n,this.blockElements)}isDomSelectionBackward(n){if(n.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(n.anchorNode,n.anchorOffset),e.setEnd(n.focusNode,n.focusOffset)}catch{return!1}const t=e.collapsed;return e.detach(),t}getHostViewElement(n){const e=A5(n);for(e.pop();e.length;){const t=e.pop(),r=this._domToViewMapping.get(t);if(r&&(r.is("uiElement")||r.is("rawElement")))return r}return null}isDomSelectionCorrect(n){return this._isDomSelectionPositionCorrect(n.anchorNode,n.anchorOffset)&&this._isDomSelectionPositionCorrect(n.focusNode,n.focusOffset)}registerRawContentMatcher(n){this._rawContentElementMatcher.add(n)}registerInlineObjectMatcher(n){this._inlineObjectElementMatcher.add(n)}_clearTemporaryCustomProperties(){for(const n of this._elementsWithTemporaryCustomProperties)n._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return ub(this._domDocument);case"markedNbsp":return db(this._domDocument);case"br":return hb(this._domDocument)}}_isDomSelectionPositionCorrect(n,e){if(Gt(n)&&yr(n)&&e<ti||this.isElement(n)&&yr(n.childNodes[e]))return!1;const t=this.mapDomToView(n);return!(t&&(t.is("uiElement")||t.is("rawElement")))}*_domToView(n,e,t){if(this.isBlockFiller(n))return null;const r=this.getHostViewElement(n);if(r)return r;if(Tl(n)&&e.skipComments)return null;if(Gt(n)){if(ka(n))return null;{const o=n.data;if(o==="")return null;const s=new Ut(this.document,o);return t.push(s),s}}else{let o=this.mapDomToView(n);if(o)return this._isInlineObjectElement(o)&&t.push(o),o;if(this.isDocumentFragment(n))o=new Ta(this.document),e.bind&&this.bindDocumentFragments(n,o);else{o=this._createViewElement(n,e),e.bind&&this.bindElements(n,o);const l=n.attributes;if(l)for(let u=l.length,d=0;d<u;d++)o._setAttribute(l[d].name,l[d].value);if(this._isViewElementWithRawContent(o,e))return o._setCustomProperty("$rawContent",n.innerHTML),this._isBlockViewElement(o)||t.push(o),o;if(Tl(n))return o._setCustomProperty("$rawContent",n.data),o}yield o;const s=[];if(e.withChildren!==!1)for(const l of this.domChildrenToView(n,e,s))o._appendChild(l);if(this._isInlineObjectElement(o))t.push(o);else for(const l of s)t.push(l)}}_processDomInlineNodes(n,e,t){if(!e.length||n&&!this.isDocumentFragment(n)&&!this._isBlockDomElement(n))return;let r=!1;for(let o=0;o<e.length;o++){const s=e[o];if(!s.is("$text")){r=!1;continue}let l,u=!1;if(this._isPreFormatted(s))l=Cg(s.data);else{l=s.data.replace(/[ \n\t\r]{1,}/g," "),u=/[^\S\u00A0]/.test(l.charAt(l.length-1));const d=o>0?e[o-1]:null,f=o+1<e.length?e[o+1]:null,p=!d||d.is("element")&&d.name=="br"||r,b=f?!1:!yr(s.data);t.withChildren!==!1&&(p&&(l=l.replace(/^ /,"")),b&&(l=l.replace(/ $/,""))),l=Cg(l),l=l.replace(/ \u00A0/g,"  ");const v=f&&f.is("element")&&f.name!="br",x=f&&f.is("$text")&&f.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(l)||!f||v||x)&&(l=l.replace(/\u00A0$/," ")),(p||d&&d.is("element")&&d.name!="br")&&(l=l.replace(/^\u00A0/," "))}l.length==0&&s.parent?(s._remove(),e.splice(o,1),o--):(s._data=l,r=u)}e.length=0}_processDataFromViewText(n){let e=n.data;if(this._isPreFormatted(n))return e;if(e.charAt(0)==" "){const t=this._getTouchingInlineViewNode(n,!1);(t&&t.is("$textProxy")&&this._nodeEndsWithSpace(t)||!t)&&(e=" "+e.substr(1))}if(e.charAt(e.length-1)==" "){const t=this._getTouchingInlineViewNode(n,!0),r=t&&t.is("$textProxy")&&t.data.charAt(0)==" ";(e.charAt(e.length-2)==" "||!t||r)&&(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(n){if(this._isPreFormatted(n))return!1;const e=this._processDataFromViewText(n);return e.charAt(e.length-1)==" "}_isPreFormatted(n){if(Qx(n,this.preElements))return!0;for(const e of n.getAncestors({parentFirst:!0}))if(!(!e.is("element")||!e.hasStyle("white-space")||e.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(e.getStyle("white-space"));return!1}_getTouchingInlineViewNode(n,e){const t=new Ts({startPosition:e?Pe._createAfter(n):Pe._createBefore(n),direction:e?"forward":"backward"});for(const{item:r}of t){if(r.is("$textProxy"))return r;if(r.is("element")&&r.getCustomProperty("dataPipeline:transparentRendering"))continue;if(r.is("element","br"))return null;if(this._isInlineObjectElement(r))return r;if(r.is("containerElement"))return null}return null}_isBlockDomElement(n){return this.isElement(n)&&this.blockElements.includes(n.tagName.toLowerCase())}_isBlockViewElement(n){return n.is("element")&&this.blockElements.includes(n.name)}_isInlineObjectElement(n){return n.is("element")?n.name=="br"||this.inlineObjectElements.includes(n.name)||!!this._inlineObjectElementMatcher.match(n):!1}_createViewElement(n,e){if(Tl(n))return new od(this.document,"$comment");const t=e.keepOriginalCase?n.tagName:n.tagName.toLowerCase();return new Xi(this.document,t)}_isViewElementWithRawContent(n,e){return e.withChildren!==!1&&n.is("element")&&!!this._rawContentElementMatcher.match(n)}_shouldRenameElement(n){const e=n.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(e)}_createReplacementDomElement(n,e){const t=this._domDocument.createElement("span");if(t.setAttribute(Sg,n),e){for(;e.firstChild;)t.appendChild(e.firstChild);for(const r of e.getAttributeNames())t.setAttribute(r,e.getAttribute(r))}return t}}function Qx(i,n){return i.getAncestors().some(e=>e.is("element")&&n.includes(e.name))}function Pg(i,n){let e=i;for(;e;)n(e),e=e.parentElement}function Xx(i,n){return i.isEqualNode(Yx)&&pb(i,n)&&i.parentNode.childNodes.length===1}function pb(i,n){const e=i.parentNode;return!!e&&!!e.tagName&&n.includes(e.tagName.toLowerCase())}function Ag(i){i==="script"&&Zt("domconverter-unsafe-script-element-detected"),i==="style"&&Zt("domconverter-unsafe-style-element-detected")}function eC(i){if(!Xe.isGecko||!i.rangeCount)return!1;const n=i.getRangeAt(0).startContainer;try{Object.prototype.toString.call(n)}catch{return!0}return!1}class so extends ai(){constructor(e){super();g(this,"view");g(this,"document");g(this,"_isEnabled",!1);this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class Oa{constructor(n,e,t){g(this,"view");g(this,"document");g(this,"domEvent");g(this,"domTarget");this.view=n,this.document=n.document,this.domEvent=e,this.domTarget=e.target,p1(this,t)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Va extends so{constructor(){super(...arguments);g(this,"useCapture",!1);g(this,"usePassive",!1)}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(e,r,(o,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,t,r){this.isEnabled&&this.document.fire(e,new Oa(this.view,t,r))}}class tC extends Va{constructor(){super(...arguments);g(this,"domEventType",["keydown","keyup"])}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Aa(this)}};this.fire(e.type,e,t)}}class nC extends so{constructor(e){super(e);g(this,"_fireSelectionChangeDoneDebounced");this._fireSelectionChangeDoneDebounced=Os(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,r)=>{e.selection.isFake&&this.isEnabled&&r.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,r)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(r.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,r=new jo(t.getRanges(),{backward:t.isBackward,fake:!1});(e==pt.arrowleft||e==pt.arrowup)&&r.setTo(r.getFirstPosition()),(e==pt.arrowright||e==pt.arrowdown)&&r.setTo(r.getLastPosition());const o={oldSelection:t,newSelection:r,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}let mb=class extends so{constructor(e){super(e);g(this,"domConverter");g(this,"_config");g(this,"_domElements");g(this,"_mutationObserver");this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,r=new Set,o=new Set;for(const l of e){const u=t.mapDomToView(l.target);u&&(u.is("uiElement")||u.is("rawElement")||l.type==="childList"&&!this._isBogusBrMutation(l)&&o.add(u))}for(const l of e){const u=t.mapDomToView(l.target);if(!(u&&(u.is("uiElement")||u.is("rawElement")))&&l.type==="characterData"){const d=t.findCorrespondingViewText(l.target);d&&!o.has(d.parent)?r.add(d):!d&&yr(l.target)&&o.add(t.mapDomToView(l.target.parentNode))}}const s=[];for(const l of r)s.push({type:"text",node:l});for(const l of o){const u=t.mapViewToDom(l),d=Array.from(l.getChildren()),f=Array.from(t.domChildrenToView(u,{withChildren:!1}));$2(d,f,rC)||s.push({type:"children",node:l})}s.length&&this.document.fire("mutations",{mutations:s})}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function rC(i,n){if(!Array.isArray(i))return i===n?!0:i.is("$text")&&n.is("$text")?i.data===n.data:!1}class Bu extends Va{constructor(e){super(e);g(this,"_renderTimeoutId",null);g(this,"_isFocusChanging",!1);g(this,"domEventType",["focus","blur"]);this.useCapture=!0;const t=this.document;t.on("focus",()=>this._handleFocus()),t.on("blur",(r,o)=>this._handleBlur(o)),t.on("beforeinput",()=>{t.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const t=this.document.selection.editableElement;(t===null||t===e.target)&&(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class iC extends so{constructor(e){super(e);g(this,"mutationObserver");g(this,"focusObserver");g(this,"selection");g(this,"domConverter");g(this,"_documents");g(this,"_fireSelectionChangeDoneDebounced");g(this,"_clearInfiniteLoopInterval");g(this,"_documentIsSelectingInactivityTimeoutDebounced");g(this,"_loopbackCounter");this.mutationObserver=e.getObserver(mb),this.focusObserver=e.getObserver(Bu),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Os(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Os(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,r=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},o=()=>{this.document.isSelecting&&(this._handleSelectionChange(t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",r,{priority:"highest"}),this.listenTo(e,"keydown",o,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",o,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",o,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",()=>{this.document.isComposing&&!Xe.isAndroid||(this._handleSelectionChange(t),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(t)},{priority:"lowest"}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const t=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(t.anchorNode))return;this.mutationObserver.flush();const r=this.domConverter.domSelectionToView(t);if(r.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(r)&&this.domConverter.isDomSelectionCorrect(t))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(r))this.view.forceRender();else{const o={oldSelection:this.selection,newSelection:r,domSelection:t};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class oC extends Va{constructor(e){super(e);g(this,"domEventType",["compositionstart","compositionupdate","compositionend"]);const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gb{constructor(n,e={}){g(this,"_files");g(this,"_native");this._files=e.cacheFiles?Og(n):null,this._native=n}get files(){return this._files||(this._files=Og(this._native)),this._files}get types(){return this._native.types}getData(n){return this._native.getData(n)}setData(n,e){this._native.setData(n,e)}set effectAllowed(n){this._native.effectAllowed=n}get effectAllowed(){return this._native.effectAllowed}set dropEffect(n){this._native.dropEffect=n}get dropEffect(){return this._native.dropEffect}setDragImage(n,e,t){this._native.setDragImage(n,e,t)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Og(i){const n=Array.from(i.files||[]),e=Array.from(i.items||[]);return n.length?n:e.filter(t=>t.kind==="file").map(t=>t.getAsFile())}class sC extends Va{constructor(){super(...arguments);g(this,"domEventType","beforeinput")}onDomEvent(e){const t=e.getTargetRanges(),r=this.view,o=r.document;let s=null,l=null,u=[];if(e.dataTransfer&&(s=new gb(e.dataTransfer)),e.data!==null?l=e.data:s&&(l=s.getData("text/plain")),o.selection.isFake)u=Array.from(o.selection.getRanges());else if(t.length)u=t.map(d=>{const f=r.domConverter.domPositionToView(d.startContainer,d.startOffset),p=r.domConverter.domPositionToView(d.endContainer,d.endOffset);if(f)return r.createRange(f,p);if(p)return r.createRange(p)}).filter(d=>!!d);else if(Xe.isAndroid){const d=e.target.ownerDocument.defaultView.getSelection();u=Array.from(r.domConverter.domSelectionToView(d).getRanges())}if(Xe.isAndroid&&e.inputType=="insertCompositionText"&&l&&l.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[r.createRange(u[0].end)]});return}if(e.inputType=="insertText"&&l&&l.includes(`
`)){const d=l.split(/\n{1,2}/g);let f=u;for(let p=0;p<d.length;p++){const b=d[p];b!=""&&(this.fire(e.type,e,{data:b,dataTransfer:s,targetRanges:f,inputType:e.inputType,isComposing:e.isComposing}),f=[o.selection.getFirstRange()]),p+1<d.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:f}),f=[o.selection.getFirstRange()])}return}this.fire(e.type,e,{data:l,dataTransfer:s,targetRanges:u,inputType:e.inputType,isComposing:e.isComposing})}}class aC extends so{constructor(n){super(n),this.document.on("keydown",(e,t)=>{if(this.isEnabled&&W5(t.keyCode)){const r=new Fa(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(r,t),r.stop.called&&e.stop()}})}observe(){}stopObserving(){}}class lC extends so{constructor(n){super(n);const e=this.document;e.on("keydown",(t,r)=>{if(!this.isEnabled||r.keyCode!=pt.tab||r.ctrlKey)return;const o=new Fa(e,"tab",e.selection.getFirstRange());e.fire(o,r),o.stop.called&&t.stop()})}observe(){}stopObserving(){}}let cC=class extends on(){constructor(e){super();g(this,"document");g(this,"domConverter");g(this,"domRoots",new Map);g(this,"_renderer");g(this,"_initialDomRootAttributes",new WeakMap);g(this,"_observers",new Map);g(this,"_writer");g(this,"_ongoingChange",!1);g(this,"_postFixersInProgress",!1);g(this,"_renderingDisabled",!1);g(this,"_hasChangedSinceTheLastRendering",!1);this.document=new ab(e),this.domConverter=new fb(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new jx(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new lb(this.document),this.addObserver(mb),this.addObserver(Bu),this.addObserver(iC),this.addObserver(tC),this.addObserver(nC),this.addObserver(oC),this.addObserver(aC),this.addObserver(sC),this.addObserver(lC),Vx(this),Mx(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),Xe.isiOS&&this.listenTo(this.document,"blur",(t,r)=>{this.domConverter.mapDomToView(r.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(t,{mutations:r})=>{r.forEach(o=>this._renderer.markToSync(o.type,o.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,t="main"){const r=this.document.getRoot(t);r._name=e.tagName.toLowerCase();const o={};for(const{name:l,value:u}of Array.from(e.attributes))o[l]=u,l==="class"?this._writer.addClass(u.split(" "),r):r.hasAttribute(l)||this._writer.setAttribute(l,u,r);this._initialDomRootAttributes.set(e,o);const s=()=>{this._writer.setAttribute("contenteditable",(!r.isReadOnly).toString(),r),r.isReadOnly?this._writer.addClass("ck-read-only",r):this._writer.removeClass("ck-read-only",r)};s(),this.domRoots.set(t,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",(l,u)=>this._renderer.markToSync("children",u)),r.on("change:attributes",(l,u)=>this._renderer.markToSync("attributes",u)),r.on("change:text",(l,u)=>this._renderer.markToSync("text",u)),r.on("change:isReadOnly",()=>this.change(s)),r.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const l of this._observers.values())l.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:o})=>t.removeAttribute(o));const r=this._initialDomRootAttributes.get(t);for(const o in r)t.setAttribute(o,r[o]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const o of this._observers.values())o.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[r,o]of this.domRoots)t.observe(o,r);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:r=20,ancestorOffset:o=20}={}){const s=this.document.selection.getFirstRange();if(!s)return;const l=si({alignToTop:e,forceScroll:t,viewportOffset:r,ancestorOffset:o});typeof r=="number"&&(r={top:r,bottom:r,left:r,right:r});const u={target:this.domConverter.viewRangeToDom(s),viewportOffset:r,ancestorOffset:o,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",u,l),L5(u)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Z("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){/* istanbul ignore next -- @preserve */Z.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Bu).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Pe._createAt(e,t)}createPositionAfter(e){return Pe._createAfter(e)}createPositionBefore(e){return Pe._createBefore(e)}createRange(e,t){return new ht(e,t)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new jo(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yo{is(){throw new Error("is() method is abstract")}}let Vs=class extends Yo{constructor(e){super();g(this,"parent",null);g(this,"_attrs");this._attrs=Rs(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new Z("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new Z("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}getCommonAncestor(e,t={}){const r=this.getAncestors(t),o=e.getAncestors(t);let s=0;for(;r[s]==o[s]&&r[s];)s++;return s===0?null:r[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),r=e.getPath(),o=Yn(t,r);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<r[o]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,r)=>(t[r[0]]=r[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Rs(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};Vs.prototype.is=function(i){return i==="node"||i==="model:node"};let Sl=class{constructor(n){g(this,"_nodes",[]);n&&this._insertNodes(0,n)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((n,e)=>n+e.offsetSize,0)}getNode(n){return this._nodes[n]||null}getNodeIndex(n){const e=this._nodes.indexOf(n);return e==-1?null:e}getNodeStartOffset(n){const e=this.getNodeIndex(n);if(e===null)return null;let t=0;for(let r=0;r<e;r++)t+=this._nodes[r].offsetSize;return t}indexToOffset(n){if(n==this._nodes.length)return this.maxOffset;const e=this._nodes[n];if(!e)throw new Z("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(n){let e=0;for(const t of this._nodes){if(n>=e&&n<e+t.offsetSize)return this.getNodeIndex(t);e+=t.offsetSize}if(e!=n)throw new Z("model-nodelist-offset-out-of-bounds",this,{offset:n,nodeList:this});return this.length}_insertNodes(n,e){for(const t of e)if(!(t instanceof Vs))throw new Z("model-nodelist-insertnodes-not-node",this);this._nodes=rx(this._nodes,Array.from(e),n,0)}_removeNodes(n,e=1){return this._nodes.splice(n,e)}toJSON(){return this._nodes.map(n=>n.toJSON())}};class St extends Vs{constructor(e,t){super(t);g(this,"_data");this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new St(this.data,this.getAttributes())}static fromJSON(e){return new St(e.data,e.attributes)}}St.prototype.is=function(i){return i==="$text"||i==="model:$text"||i==="text"||i==="model:text"||i==="node"||i==="model:node"};class ni extends Yo{constructor(e,t,r){super();g(this,"textNode");g(this,"data");g(this,"offsetInText");if(this.textNode=e,t<0||t>e.offsetSize)throw new Z("model-textproxy-wrong-offsetintext",this);if(r<0||t+r>e.offsetSize)throw new Z("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+r),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let r=e.includeSelf?this:this.parent;for(;r;)t[e.parentFirst?"push":"unshift"](r),r=r.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ni.prototype.is=function(i){return i==="$textProxy"||i==="model:$textProxy"||i==="textProxy"||i==="model:textProxy"};let Wt=class Eu extends Vs{constructor(e,t,r){super(t);g(this,"name");g(this,"_children",new Sl);this.name=e,r&&this._insertChild(0,r)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const r of e)t=t.getChild(t.offsetToIndex(r));return t}findAncestor(e,t={}){let r=t.includeSelf?this:this.parent;for(;r;){if(r.name===e)return r;r=r.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(r=>r._clone(!0)):void 0;return new Eu(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const r=uC(t);for(const o of r)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,t=1){const r=this._children._removeNodes(e,t);for(const o of r)o.parent=null;return r}static fromJSON(e){let t;if(e.children){t=[];for(const r of e.children)r.name?t.push(Eu.fromJSON(r)):t.push(St.fromJSON(r))}return new Eu(e.name,e.attributes,t)}};Wt.prototype.is=function(i,n){return n?n===this.name&&(i==="element"||i==="model:element"):i==="element"||i==="model:element"||i==="node"||i==="model:node"};function uC(i){return typeof i=="string"?[new St(i)]:(xr(i)||(i=[i]),Array.from(i).map(n=>typeof n=="string"?new St(n):n instanceof ni?new St(n.data,n.getAttributes()):n))}class Zi{constructor(n){g(this,"direction");g(this,"boundaries");g(this,"singleCharacters");g(this,"shallow");g(this,"ignoreElementEnd");g(this,"_position");g(this,"_boundaryStartParent");g(this,"_boundaryEndParent");g(this,"_visitedParent");if(!n||!n.boundaries&&!n.startPosition)throw new Z("model-tree-walker-no-start-position",null);const e=n.direction||"forward";if(e!="forward"&&e!="backward")throw new Z("model-tree-walker-unknown-direction",n,{direction:e});this.direction=e,this.boundaries=n.boundaries||null,n.startPosition?this._position=n.startPosition.clone():this._position=ve._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let e,t,r,o;do r=this.position,o=this._visitedParent,{done:e,value:t}=this.next();while(!e&&n(t));e||(this._position=r,this._visitedParent=o)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const n=this.position,e=this.position.clone(),t=this._visitedParent;if(t.parent===null&&e.offset===t.maxOffset)return{done:!0,value:void 0};if(t===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const r=Pl(e,t),o=r||bb(e,t,r);if(o instanceof Wt){if(!this.shallow)e.path.push(0),this._visitedParent=o;else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,Es("elementStart",o,n,e,1)}if(o instanceof St){let s;if(this.singleCharacters)s=1;else{let d=o.endOffset;this._boundaryEndParent==t&&this.boundaries.end.offset<d&&(d=this.boundaries.end.offset),s=d-e.offset}const l=e.offset-o.startOffset,u=new ni(o,l,s);return e.offset+=s,this._position=e,Es("text",u,n,e,s)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=t.parent,this.ignoreElementEnd?this._next():Es("elementEnd",t,n,e)}_previous(){const n=this.position,e=this.position.clone(),t=this._visitedParent;if(t.parent===null&&e.offset===0)return{done:!0,value:void 0};if(t==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const r=e.parent,o=Pl(e,r),s=o||wb(e,r,o);if(s instanceof Wt)return e.offset--,this.shallow?(this._position=e,Es("elementStart",s,n,e,1)):(e.path.push(s.maxOffset),this._position=e,this._visitedParent=s,this.ignoreElementEnd?this._previous():Es("elementEnd",s,n,e));if(s instanceof St){let l;if(this.singleCharacters)l=1;else{let f=s.startOffset;this._boundaryStartParent==t&&this.boundaries.start.offset>f&&(f=this.boundaries.start.offset),l=e.offset-f}const u=e.offset-s.startOffset,d=new ni(s,u-l,l);return e.offset-=l,this._position=e,Es("text",d,n,e,l)}return e.path.pop(),this._position=e,this._visitedParent=t.parent,Es("elementStart",t,n,e,1)}}function Es(i,n,e,t,r){return{done:!1,value:{type:i,item:n,previousPosition:e,nextPosition:t,length:r}}}class ve extends Yo{constructor(e,t,r="toNone"){super();g(this,"root");g(this,"path");g(this,"stickiness");if(!e.is("element")&&!e.is("documentFragment"))throw new Z("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new Z("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=r}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new Z("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new Z("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Pl(this,this.parent)}get nodeAfter(){const e=this.parent;return bb(this,e,Pl(this,e))}get nodeBefore(){const e=this.parent;return wb(this,e,Pl(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Yn(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const r=new Zi(t);return r.skip(e),r.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Yn(this.path,e.path),r=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,r)}getCommonAncestor(e){const t=this.getAncestors(),r=e.getAncestors();let o=0;for(;t[o]==r[o]&&t[o];)o++;return o===0?null:t[o-1]}getShiftedBy(e){const t=this.clone(),r=t.offset+e;return t.offset=r<0?0:r,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let r=0;r<t;r++){const o=this.path[r]-e.path[r];if(o<-1||o>1)return!1;if(o===1)return Mg(e,this,r);if(o===-1)return Mg(this,e,r)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Qh(this.path,t):Qh(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),r=e.getParentPath();return Yn(t,r)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=ve._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,r=t.containsPosition(this)||t.start.isEqual(this);let o;return r?(o=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(o=o._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?o=ve._createAt(e.deletionPosition):o=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),o}_getTransformedByDeletion(e,t){const r=ve._createAt(this);if(this.root!=e.root)return r;if(Yn(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;r.offset-=t}}else if(Yn(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;if(e.offset<=this.path[o]){if(e.offset+t>this.path[o])return null;r.path[o]-=t}}return r}_getTransformedByInsertion(e,t){const r=ve._createAt(this);if(this.root!=e.root)return r;if(Yn(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(r.offset+=t);else if(Yn(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;e.offset<=this.path[o]&&(r.path[o]+=t)}return r}_getTransformedByMove(e,t,r){if(t=t._getTransformedByDeletion(e,r),e.isEqual(t))return ve._createAt(this);const o=this._getTransformedByDeletion(e,r);return o===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(r).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):o._getTransformedByInsertion(t,r)}_getCombined(e,t){const r=e.path.length-1,o=ve._createAt(t);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[r]-e.offset,o.path=[...o.path,...this.path.slice(r+1)],o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,r="toNone"){if(e instanceof ve)return new ve(e.root,e.path,e.stickiness);{const o=e;if(t=="end")t=o.maxOffset;else{if(t=="before")return this._createBefore(o,r);if(t=="after")return this._createAfter(o,r);if(t!==0&&!t)throw new Z("model-createpositionat-offset-required",[this,e])}if(!o.is("element")&&!o.is("documentFragment"))throw new Z("model-position-parent-incorrect",[this,e]);const s=o.getPath();return s.push(t),new this(o.root,s,r)}}static _createAfter(e,t){if(!e.parent)throw new Z("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new Z("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const r=new ve(t.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!t.getRoot(e.root))throw new Z("model-position-fromjson-no-root",t,{rootName:e.root});return new ve(t.getRoot(e.root),e.path,e.stickiness)}}ve.prototype.is=function(i){return i==="position"||i==="model:position"};function Pl(i,n){const e=n.getChild(n.offsetToIndex(i.offset));return e&&e.is("$text")&&e.startOffset<i.offset?e:null}function bb(i,n,e){return e!==null?null:n.getChild(n.offsetToIndex(i.offset))}function wb(i,n,e){return e!==null?null:n.getChild(n.offsetToIndex(i.offset)-1)}function Mg(i,n,e){return!(e+1===i.path.length||!Qh(n.path,e+1)||!dC(i,e+1))}function Qh(i,n){for(;n<i.length;){if(i[n]!==0)return!1;n++}return!0}function dC(i,n){let e=i.parent,t=i.path.length-1,r=0;for(;t>=n;){if(i.path[t]+r!==e.maxOffset)return!1;r=1,t--,e=e.parent}return!0}class ae extends Yo{constructor(e,t){super();g(this,"start");g(this,"end");this.start=ve._createAt(e),this.end=t?ve._createAt(t):ve._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Zi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return Yn(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const r=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return r&&o}containsItem(e){const t=ve._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ae(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ae(e.end,this.end))):t.push(new ae(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,r=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(r=e.end),new ae(t,r)}return null}getJoined(e,t=!1){let r=this.isIntersecting(e);if(r||(this.start.isBefore(e.start)?r=t?this.end.isTouching(e.start):this.end.isEqual(e.start):r=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!r)return null;let o=this.start,s=this.end;return e.start.isBefore(o)&&(o=e.start),e.end.isAfter(s)&&(s=e.end),new ae(o,s)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,r=ve._createAt(this.start);let o=r.parent;for(;r.path.length>t+1;){const s=o.maxOffset-r.offset;s!==0&&e.push(new ae(r,r.getShiftedBy(s))),r.path=r.path.slice(0,-1),r.offset++,o=o.parent}for(;r.path.length<=this.end.path.length;){const s=this.end.path[r.path.length-1],l=s-r.offset;l!==0&&e.push(new ae(r,r.getShiftedBy(l))),r.offset=s,r.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Zi(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Zi(e);for(const r of t)yield r.item}*getPositions(e={}){e.boundaries=this;const t=new Zi(e);yield t.position;for(const r of t)yield r.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ae(this.start,this.end)]}getTransformedByOperations(e){const t=[new ae(this.start,this.end)];for(const r of e)for(let o=0;o<t.length;o++){const s=t[o].getTransformedByOperation(r);t.splice(o,1,...s),o+=s.length-1}for(let r=0;r<t.length;r++){const o=t[r];for(let s=r+1;s<t.length;s++){const l=t[s];(o.containsRange(l)||l.containsRange(o)||o.isEqual(l))&&t.splice(s,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const r=e.sourcePosition,o=e.howMany,s=e.targetPosition;return this._getTransformedByMove(r,s,o,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),t.root!=r.root&&(r=this.end.getShiftedBy(-1)),new ae(t,r)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ae(this.start);let t=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return t.root!=r.root&&(r=this.end.getShiftedBy(-1)),t.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(t=ve._createAt(r),t.offset=0):(e.deletionPosition.isEqual(t)||(r=e.deletionPosition),t=e.targetPosition),new ae(t,r)):new ae(t,r)}_getTransformedByInsertion(e,t,r=!1){if(r&&this.containsPosition(e))return[new ae(this.start,e),new ae(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const o=new ae(this.start,this.end);return o.start=o.start._getTransformedByInsertion(e,t),o.end=o.end._getTransformedByInsertion(e,t),[o]}}_getTransformedByMove(e,t,r,o=!1){if(this.isCollapsed){const b=this.start._getTransformedByMove(e,t,r);return[new ae(b)]}const s=ae._createFromPositionAndShift(e,r),l=t._getTransformedByDeletion(e,r);if(this.containsPosition(t)&&!o&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const b=this.start._getTransformedByMove(e,t,r),v=this.end._getTransformedByMove(e,t,r);return[new ae(b,v)]}let u;const d=this.getDifference(s);let f=null;const p=this.getIntersection(s);if(d.length==1?f=new ae(d[0].start._getTransformedByDeletion(e,r),d[0].end._getTransformedByDeletion(e,r)):d.length==2&&(f=new ae(this.start,this.end._getTransformedByDeletion(e,r))),f?u=f._getTransformedByInsertion(l,r,p!==null||o):u=[],p){const b=new ae(p.start._getCombined(s.start,l),p.end._getCombined(s.start,l));u.length==2?u.splice(1,0,b):u.push(b)}return u}_getTransformedByDeletion(e,t){let r=this.start._getTransformedByDeletion(e,t),o=this.end._getTransformedByDeletion(e,t);return r==null&&o==null?null:(r==null&&(r=e),o==null&&(o=e),new ae(r,o))}static _createFromPositionAndShift(e,t){const r=e,o=e.getShiftedBy(t);return t>0?new this(r,o):new this(o,r)}static _createIn(e){return new this(ve._createAt(e,0),ve._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(ve._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new Z("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((s,l)=>s.start.isAfter(l.start)?1:-1);const r=e.indexOf(t),o=new this(t.start,t.end);for(let s=r-1;s>=0&&e[s].end.isEqual(o.start);s--)o.start=ve._createAt(e[s].start);for(let s=r+1;s<e.length&&e[s].start.isEqual(o.end);s++)o.end=ve._createAt(e[s].end);return o}static fromJSON(e,t){return new this(ve.fromJSON(e.start,t),ve.fromJSON(e.end,t))}}ae.prototype.is=function(i){return i==="range"||i==="model:range"};class yb extends At(){constructor(){super();g(this,"_modelToViewMapping",new WeakMap);g(this,"_viewToModelMapping",new WeakMap);g(this,"_viewToModelLengthCallbacks",new Map);g(this,"_markerNameToElements",new Map);g(this,"_elementToMarkerNames",new Map);g(this,"_deferredBindingRemovals",new Map);g(this,"_unboundMarkerNames",new Set);this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const r=this._modelToViewMapping.get(t.modelPosition.parent);if(!r)throw new Z("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(r,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const r=this.findMappedViewAncestor(t.viewPosition),o=this._viewToModelMapping.get(r),s=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,r);t.modelPosition=ve._createAt(o,s)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const r=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const o of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(o);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const r=this._markerNameToElements.get(t)||new Set;r.add(e);const o=this._elementToMarkerNames.get(e)||new Set;o.add(t),this._markerNameToElements.set(t,r),this._elementToMarkerNames.set(e,o)}unbindElementFromMarkerName(e,t){const r=this._markerNameToElements.get(t);r&&(r.delete(e),r.size==0&&this._markerNameToElements.delete(t));const o=this._elementToMarkerNames.get(e);o&&(o.delete(t),o.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ae(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ht(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const r={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",r),r.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const r=new Set;for(const o of t)if(o.is("attributeElement"))for(const s of o.getElementsWithSameId())r.add(s);else r.add(o);return r}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,r){if(r!=e){const s=this._toModelOffset(e.parent,e.index,r),l=this._toModelOffset(e,t,e);return s+l}if(e.is("$text"))return t;let o=0;for(let s=0;s<t;s++)o+=this.getModelLength(e.getChild(s));return o}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const r of e.getChildren())t+=this.getModelLength(r);return t}}findPositionIn(e,t){let r,o=0,s=0,l=0;if(e.is("$text"))return new Pe(e,t);for(;s<t;)r=e.getChild(l),o=this.getModelLength(r),s+=o,l++;return s==t?this._moveViewPositionToTextNode(new Pe(e,l)):this.findPositionIn(r,t-(s-o))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,r=e.nodeAfter;return t instanceof Ut?new Pe(t,t.data.length):r instanceof Ut?new Pe(r,0):e}}class hC{constructor(){g(this,"_consumable",new Map);g(this,"_textProxyRegistry",new Map)}add(n,e){e=mu(e),n instanceof ni&&(n=this._getSymbolForTextProxy(n)),this._consumable.has(n)||this._consumable.set(n,new Map),this._consumable.get(n).set(e,!0)}consume(n,e){return e=mu(e),n instanceof ni&&(n=this._getSymbolForTextProxy(n)),this.test(n,e)?(this._consumable.get(n).set(e,!1),!0):!1}test(n,e){e=mu(e),n instanceof ni&&(n=this._getSymbolForTextProxy(n));const t=this._consumable.get(n);if(t===void 0)return null;const r=t.get(e);return r===void 0?null:r}revert(n,e){e=mu(e),n instanceof ni&&(n=this._getSymbolForTextProxy(n));const t=this.test(n,e);return t===!1?(this._consumable.get(n).set(e,!0),!0):t===!0?!1:null}verifyAllConsumed(n){const e=[];for(const[t,r]of this._consumable)for(const[o,s]of r){const l=o.split(":")[0];s&&n==l&&e.push({event:o,item:t.name||t.description})}if(e.length)throw new Z("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(n){let e=null;const t=this._textProxyRegistry.get(n.startOffset);if(t){const r=t.get(n.endOffset);r&&(e=r.get(n.parent))}return e||(e=this._addSymbolForTextProxy(n)),e}_addSymbolForTextProxy(n){const e=n.startOffset,t=n.endOffset,r=n.parent,o=Symbol("$textProxy:"+n.data);let s,l;return s=this._textProxyRegistry.get(e),s||(s=new Map,this._textProxyRegistry.set(e,s)),l=s.get(t),l||(l=new Map,s.set(t,l)),l.set(r,o),o}}function mu(i){const n=i.split(":");return n[0]=="insert"?n[0]:n[0]=="addMarker"||n[0]=="removeMarker"?i:n.length>1?n[0]+":"+n[1]:n[0]}class vb extends At(){constructor(e){super();g(this,"_conversionApi");g(this,"_firedEventsMap");this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,r){const o=this._createConversionApi(r,e.getRefreshedItems());for(const l of e.getMarkersToRemove())this._convertMarkerRemove(l.name,l.range,o);const s=this._reduceChanges(e.getChanges());for(const l of s)l.type==="insert"?this._convertInsert(ae._createFromPositionAndShift(l.position,l.length),o):l.type==="reinsert"?this._convertReinsert(ae._createFromPositionAndShift(l.position,l.length),o):l.type==="remove"?this._convertRemove(l.position,l.length,l.name,o):this._convertAttribute(l.range,l.attributeKey,l.attributeOldValue,l.attributeNewValue,o);o.mapper.flushDeferredBindings();for(const l of o.mapper.flushUnboundMarkerNames()){const u=t.get(l).getRange();this._convertMarkerRemove(l,u,o),this._convertMarkerAdd(l,u,o)}for(const l of e.getMarkersToAdd())this._convertMarkerAdd(l.name,l.range,o);o.consumable.verifyAllConsumed("insert")}convert(e,t,r,o={}){const s=this._createConversionApi(r,void 0,o);this._convertInsert(e,s);for(const[l,u]of t)this._convertMarkerAdd(l,u,s);s.consumable.verifyAllConsumed("insert")}convertSelection(e,t,r){const o=this._createConversionApi(r);this.fire("cleanSelection",{selection:e},o);const s=e.getFirstPosition().root;if(!o.mapper.toViewElement(s))return;const l=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(o.consumable,e,l),this.fire("selection",{selection:e},o),!!e.isCollapsed){for(const u of l)if(o.consumable.test(e,"addMarker:"+u.name)){const d=u.getRange();if(!fC(e.getFirstPosition(),u,o.mapper))continue;const f={item:e,markerName:u.name,markerRange:d};this.fire(`addMarker:${u.name}`,f,o)}for(const u of e.getAttributeKeys())if(o.consumable.test(e,"attribute:"+u)){const d={item:e,range:e.getFirstRange(),attributeKey:u,attributeOldValue:null,attributeNewValue:e.getAttribute(u)};this.fire(`attribute:${u}:$text`,d,o)}}}_convertInsert(e,t,r={}){r.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const o of Array.from(e.getWalker({shallow:!0})).map(Rg))this._testAndFire("insert",o,t)}_convertRemove(e,t,r,o){this.fire(`remove:${r}`,{position:e,length:t},o)}_convertAttribute(e,t,r,o,s){this._addConsumablesForRange(s.consumable,e,`attribute:${t}`);for(const l of e){const u={item:l.item,range:ae._createFromPositionAndShift(l.previousPosition,l.length),attributeKey:t,attributeOldValue:r,attributeNewValue:o};this._testAndFire(`attribute:${t}`,u,s)}}_convertReinsert(e,t){const r=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,r);for(const o of r.map(Rg))this._testAndFire("insert",{...o,reconversion:!0},t)}_convertMarkerAdd(e,t,r){if(t.root.rootName=="$graveyard")return;const o=`addMarker:${e}`;if(r.consumable.add(t,o),this.fire(o,{markerName:e,markerRange:t},r),!!r.consumable.consume(t,o)){this._addConsumablesForRange(r.consumable,t,o);for(const s of t.getItems()){if(!r.consumable.test(s,o))continue;const l={item:s,range:ae._createOn(s),markerName:e,markerRange:t};this.fire(o,l,r)}}}_convertMarkerRemove(e,t,r){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},r)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const r of t){const o=r.item;if(e.test(o,"insert")===null){e.add(o,"insert");for(const s of o.getAttributeKeys())e.add(o,"attribute:"+s)}}return e}_addConsumablesForRange(e,t,r){for(const o of t.getItems())e.add(o,r);return e}_addConsumablesForSelection(e,t,r){e.add(t,"selection");for(const o of r)e.add(t,"addMarker:"+o.name);for(const o of t.getAttributeKeys())e.add(t,"attribute:"+o);return e}_testAndFire(e,t,r){const o=pC(e,t),s=t.item.is("$textProxy")?r.consumable._getSymbolForTextProxy(t.item):t.item,l=this._firedEventsMap.get(r),u=l.get(s);if(!u)l.set(s,new Set([o]));else if(!u.has(o))u.add(o);else return;this.fire(o,t,r)}_testAndFireAddAttributes(e,t){const r={item:e,range:ae._createOn(e)};for(const o of r.item.getAttributeKeys())r.attributeKey=o,r.attributeOldValue=null,r.attributeNewValue=r.item.getAttribute(o),this._testAndFire(`attribute:${o}`,r,t)}_createConversionApi(e,t=new Set,r={}){const o={...this._conversionApi,consumable:new hC,writer:e,options:r,convertItem:s=>this._convertInsert(ae._createOn(s),o),convertChildren:s=>this._convertInsert(ae._createIn(s),o,{doNotAddConsumables:!0}),convertAttributes:s=>this._testAndFireAddAttributes(s,o),canReuseView:s=>!t.has(o.mapper.toModelElement(s))};return this._firedEventsMap.set(o,new Map),o}}function fC(i,n,e){const t=n.getRange(),r=Array.from(i.getAncestors());return r.shift(),r.reverse(),!r.some(s=>{if(t.containsItem(s))return!!e.toViewElement(s).getCustomProperty("addHighlight")})}function pC(i,n){const e=n.item.is("element")?n.item.name:"$text";return`${i}:${e}`}function Rg(i){const n=i.item,e=ae._createFromPositionAndShift(i.previousPosition,i.length);return{item:n,range:e}}class vr extends At(Yo){constructor(...e){super();g(this,"_lastRangeBackward",!1);g(this,"_attrs",new Map);g(this,"_ranges",[]);e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let r=!1;for(const o of e._ranges)if(t.isEqual(o)){r=!0;break}if(!r)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ae(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new ae(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new ae(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,r,o]=e;if(typeof r=="object"&&(o=r,r=void 0),t===null)this._setRanges([]);else if(t instanceof vr)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof ae)this._setRanges([t],!!o&&!!o.backward);else if(t instanceof ve)this._setRanges([new ae(t)]);else if(t instanceof Vs){const s=!!o&&!!o.backward;let l;if(r=="in")l=ae._createIn(t);else if(r=="on")l=ae._createOn(t);else if(r!==void 0)l=new ae(ve._createAt(t,r));else throw new Z("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([l],s)}else if(xr(t))this._setRanges(t,o&&!!o.backward);else throw new Z("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const r=Array.from(e),o=r.some(s=>{if(!(s instanceof ae))throw new Z("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(l=>!l.isEqual(s))});r.length===this._ranges.length&&!o||(this._replaceAllRanges(r),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new Z("model-selection-setfocus-no-ranges",[this,e]);const r=ve._createAt(e,t);if(r.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.length&&this._popRange(),r.compareWith(o)=="before"?(this._pushRange(new ae(r,o)),this._lastRangeBackward=!0):(this._pushRange(new ae(o,r)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const r=Ig(t.start,e);gC(r,t)&&(yield r);for(const s of t.getWalker()){const l=s.item;s.type=="elementEnd"&&mC(l,e,t)&&(yield l)}const o=Ig(t.end,e);bC(o,t)&&(yield o)}}containsEntireContent(e=this.anchor.root){const t=ve._createAt(e,0),r=ve._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&r.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ae(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new Z("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}vr.prototype.is=function(i){return i==="selection"||i==="model:selection"};function _b(i,n){return n.has(i)?!1:(n.add(i),i.root.document.model.schema.isBlock(i)&&!!i.parent)}function mC(i,n,e){return _b(i,n)&&Ff(i,e)}function Ig(i,n){const t=i.parent.root.document.model.schema,r=i.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const s=r.find(l=>o?!1:(o=t.isLimit(l),!o&&_b(l,n)));return r.forEach(l=>n.add(l)),s}function Ff(i,n){const e=wC(i);return e?!n.containsRange(ae._createOn(e),!0):!0}function gC(i,n){return i?n.isCollapsed||i.isEmpty?!0:n.start.isTouching(ve._createAt(i,i.maxOffset))?!1:Ff(i,n):!1}function bC(i,n){return i?n.isCollapsed||i.isEmpty?!0:n.end.isTouching(ve._createAt(i,0))?!1:Ff(i,n):!1}function wC(i){const n=i.root.document.model.schema;let e=i.parent;for(;e;){if(n.isBlock(e))return e;e=e.parent}}class Wr extends At(ae){constructor(n,e){super(n,e),yC.call(this)}detach(){this.stopListening()}toRange(){return new ae(this.start,this.end)}static fromRange(n){return new Wr(n.start,n.end)}}Wr.prototype.is=function(i){return i==="liveRange"||i==="model:liveRange"||i=="range"||i==="model:range"};function yC(){this.listenTo(this.root.document.model,"applyOperation",(i,n)=>{const e=n[0];e.isDocumentOperation&&vC.call(this,e)},{priority:"low"})}function vC(i){const n=this.getTransformedByOperation(i),e=ae._createFromRanges(n),t=!e.isEqual(this),r=_C(this,i);let o=null;if(t){e.root.rootName=="$graveyard"&&(i.type=="remove"?o=i.sourcePosition:o=i.deletionPosition);const s=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",s,{deletionPosition:o})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:o})}function _C(i,n){switch(n.type){case"insert":return i.containsPosition(n.position);case"move":case"remove":case"reinsert":case"merge":return i.containsPosition(n.sourcePosition)||i.start.isEqual(n.sourcePosition)||i.containsPosition(n.targetPosition);case"split":return i.containsPosition(n.splitPosition)||i.containsPosition(n.insertionPosition)}return!1}const jl="selection:";class ii extends At(Yo){constructor(e){super();g(this,"_selection");this._selection=new kC(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return jl+e}static _isStoreAttributeKey(e){return e.startsWith(jl)}}ii.prototype.is=function(i){return i==="selection"||i=="model:selection"||i=="documentSelection"||i=="model:documentSelection"};class kC extends vr{constructor(e){super();g(this,"markers",new Ko({idProperty:"name"}));g(this,"_model");g(this,"_document");g(this,"_attributePriority",new Map);g(this,"_selectionRestorePosition",null);g(this,"_hasChangedRange",!1);g(this,"_overriddenGravityRegister",new Set);g(this,"_observedMarkers",new Set);this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,r)=>{const o=r[0];!o.isDocumentOperation||o.type=="marker"||o.type=="rename"||o.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,r,o,s)=>{this._updateMarker(r,s)}),this.listenTo(this._document,"change",(t,r)=>{EC(this._model,r)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=oo();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new Z("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new Z("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Wr.fromRange(e);return t.on("change:range",(r,o,s)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=s.deletionPosition;const l=this._ranges.indexOf(t);this._ranges.splice(l,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const o of this._model.markers){const s=o.name.split(":",1)[0];if(!this._observedMarkers.has(s))continue;const l=o.getRange();for(const u of this.getRanges())l.containsRange(u,!u.isCollapsed)&&e.push(o)}const r=Array.from(this.markers);for(const o of e)this.markers.has(o)||(this.markers.add(o),t=!0);for(const o of Array.from(this.markers))e.includes(o)||(this.markers.remove(o),t=!0);t&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateMarker(e,t){const r=e.name.split(":",1)[0];if(!this._observedMarkers.has(r))return;let o=!1;const s=Array.from(this.markers),l=this.markers.has(e);if(!t)l&&(this.markers.remove(e),o=!0);else{let u=!1;for(const d of this.getRanges())if(t.containsRange(d,!d.isCollapsed)){u=!0;break}u&&!l?(this.markers.add(e),o=!0):!u&&l&&(this.markers.remove(e),o=!0)}o&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateAttributes(e){const t=Rs(this._getSurroundingAttributes()),r=Rs(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,l]of this._attributePriority)l=="low"&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(t);const o=[];for(const[s,l]of this.getAttributes())(!r.has(s)||r.get(s)!==l)&&o.push(s);for(const[s]of r)this.hasAttribute(s)||o.push(s);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(e,t,r=!0){const o=r?"normal":"low";return o=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,o),!0)}_removeAttribute(e,t=!0){const r=t?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,r),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[r,o]of this.getAttributes())e.get(r)!==o&&this._removeAttribute(r,!1);for(const[r,o]of e)this._setAttribute(r,o,!1)&&t.add(r);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(jl)&&(yield[t.substr(jl.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let r=null;if(this.isCollapsed){const o=e.textNode?e.textNode:e.nodeBefore,s=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(r=bl(o,t)),r||(r=bl(s,t)),!this.isGravityOverridden&&!r){let l=o;for(;l&&!r;)l=l.previousSibling,r=bl(l,t)}if(!r){let l=s;for(;l&&!r;)l=l.nextSibling,r=bl(l,t)}r||(r=this.getStoredAttributes())}else{const o=this.getFirstRange();for(const s of o){if(s.item.is("element")&&t.isObject(s.item)){r=bl(s.item,t);break}if(s.type=="text"){r=s.item.getAttributes();break}}}return r}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function bl(i,n){if(!i)return null;if(i instanceof ni||i instanceof St)return i.getAttributes();if(!n.isInline(i))return null;if(!n.isObject(i))return[];const e=[];for(const[t,r]of i.getAttributes())n.checkAttribute("$text",t)&&n.getAttributeProperties(t).copyFromObject!==!1&&e.push([t,r]);return e}function EC(i,n){const e=i.document.differ;for(const t of e.getChanges()){if(t.type!="insert")continue;const r=t.position.parent;t.length===r.maxOffset&&i.enqueueChange(n,s=>{const l=Array.from(r.getAttributeKeys()).filter(u=>u.startsWith(jl));for(const u of l)s.removeAttribute(u,r)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kb{constructor(n){g(this,"_dispatchers");this._dispatchers=n}add(n){for(const e of this._dispatchers)n(e);return this}}class xC extends kb{elementToElement(n){return this.add($C(n))}elementToStructure(n){return this.add(WC(n))}attributeToElement(n){return this.add(HC(n))}attributeToAttribute(n){return this.add(UC(n))}markerToElement(n){return this.add(qC(n))}markerToHighlight(n){return this.add(GC(n))}markerToData(n){return this.add(KC(n))}}function Eb(){return(i,n,e)=>{if(!e.consumable.consume(n.item,i.name))return;const t=e.writer,r=e.mapper.toViewPosition(n.range.start),o=t.createText(n.item.data);t.insert(r,o)}}function xb(){return(i,n,e)=>{e.convertAttributes(n.item),!n.reconversion&&n.item.is("element")&&!n.item.isEmpty&&e.convertChildren(n.item)}}function CC(){return(i,n,e)=>{const t=e.mapper.toViewPosition(n.position),r=n.position.getShiftedBy(n.length),o=e.mapper.toViewPosition(r,{isPhantom:!0}),s=e.writer.createRange(t,o),l=e.writer.remove(s.getTrimmed());for(const u of e.writer.createRangeIn(l).getItems())e.mapper.unbindViewElement(u,{defer:!0})}}function Cb(i,n){const e=i.createAttributeElement("span",n.attributes);return n.classes&&e._addClass(n.classes),typeof n.priority=="number"&&(e._priority=n.priority),e._id=n.id,e}function TC(){return(i,n,e)=>{const t=n.selection;if(t.isCollapsed||!e.consumable.consume(t,"selection"))return;const r=[];for(const o of t.getRanges())r.push(e.mapper.toViewRange(o));e.writer.setSelection(r,{backward:t.isBackward})}}function SC(){return(i,n,e)=>{const t=n.selection;if(!t.isCollapsed||!e.consumable.consume(t,"selection"))return;const r=e.writer,o=t.getFirstPosition(),s=e.mapper.toViewPosition(o),l=r.breakAttributes(s);r.setSelection(l)}}function PC(){return(i,n,e)=>{const t=e.writer,r=t.document.selection;for(const o of r.getRanges())o.isCollapsed&&o.end.parent.isAttached()&&e.writer.mergeAttributes(o.start);t.setSelection(null)}}function AC(i){return(n,e,t)=>{if(!t.consumable.test(e.item,n.name))return;const r=i(e.attributeOldValue,t,e),o=i(e.attributeNewValue,t,e);if(!r&&!o)return;t.consumable.consume(e.item,n.name);const s=t.writer,l=s.document.selection;if(e.item instanceof vr||e.item instanceof ii)s.wrap(l.getFirstRange(),o);else{let u=t.mapper.toViewRange(e.range);e.attributeOldValue!==null&&r&&(u=s.unwrap(u,r)),e.attributeNewValue!==null&&o&&s.wrap(u,o)}}}function OC(i,n=tT){return(e,t,r)=>{if(!n(t.item,r.consumable,{preflight:!0}))return;const o=i(t.item,r,t);if(!o)return;n(t.item,r.consumable);const s=r.mapper.toViewPosition(t.range.start);r.mapper.bindElements(t.item,o),r.writer.insert(s,o),r.convertAttributes(t.item),Ob(o,t.item.getChildren(),r,{reconversion:t.reconversion})}}function MC(i,n){return(e,t,r)=>{if(!n(t.item,r.consumable,{preflight:!0}))return;const o=new Map;r.writer._registerSlotFactory(JC(t.item,o,r));const s=i(t.item,r,t);if(r.writer._clearSlotFactory(),!s)return;QC(t.item,o,r),n(t.item,r.consumable);const l=r.mapper.toViewPosition(t.range.start);r.mapper.bindElements(t.item,s),r.writer.insert(l,s),r.convertAttributes(t.item),XC(s,o,r,{reconversion:t.reconversion})}}function RC(i){return(n,e,t)=>{e.isOpening=!0;const r=i(e,t);e.isOpening=!1;const o=i(e,t);if(!r||!o)return;const s=e.markerRange;if(s.isCollapsed&&!t.consumable.consume(s,n.name))return;for(const d of s)if(!t.consumable.consume(d.item,n.name))return;const l=t.mapper,u=t.writer;u.insert(l.toViewPosition(s.start),r),t.mapper.bindElementToMarker(r,e.markerName),s.isCollapsed||(u.insert(l.toViewPosition(s.end),o),t.mapper.bindElementToMarker(o,e.markerName)),n.stop()}}function IC(){return(i,n,e)=>{const t=e.mapper.markerNameToElements(n.markerName);if(t){for(const r of t)e.mapper.unbindElementFromMarkerName(r,n.markerName),e.writer.clear(e.writer.createRangeOn(r),r);e.writer.clearClonedElementsGroup(n.markerName),i.stop()}}}function NC(i){return(n,e,t)=>{const r=i(e.markerName,t);if(!r)return;const o=e.markerRange;t.consumable.consume(o,n.name)&&(Ng(o,!1,t,e,r),Ng(o,!0,t,e,r),n.stop())}}function Ng(i,n,e,t,r){const o=n?i.start:i.end,s=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,l=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(s||l){let d,f;n&&s||!n&&!l?(d=s,f=!0):(d=l,f=!1);const p=e.mapper.toViewElement(d);if(p){DC(p,n,f,e,t,r);return}}const u=e.mapper.toViewPosition(o);LC(u,n,e,t,r)}function DC(i,n,e,t,r,o){const s=`data-${o.group}-${n?"start":"end"}-${e?"before":"after"}`,l=i.hasAttribute(s)?i.getAttribute(s).split(","):[];l.unshift(o.name),t.writer.setAttribute(s,l.join(","),i),t.mapper.bindElementToMarker(i,r.markerName)}function LC(i,n,e,t,r){const o=`${r.group}-${n?"start":"end"}`,s=r.name?{name:r.name}:null,l=e.writer.createUIElement(o,s);e.writer.insert(i,l),e.mapper.bindElementToMarker(l,t.markerName)}function BC(i){return(n,e,t)=>{const r=i(e.markerName,t);if(!r)return;const o=t.mapper.markerNameToElements(e.markerName);if(!o)return;for(const l of o)t.mapper.unbindElementFromMarkerName(l,e.markerName),l.is("containerElement")?(s(`data-${r.group}-start-before`,l),s(`data-${r.group}-start-after`,l),s(`data-${r.group}-end-before`,l),s(`data-${r.group}-end-after`,l)):t.writer.clear(t.writer.createRangeOn(l),l);t.writer.clearClonedElementsGroup(e.markerName),n.stop();function s(l,u){if(u.hasAttribute(l)){const d=new Set(u.getAttribute(l).split(","));d.delete(r.name),d.size==0?t.writer.removeAttribute(l,u):t.writer.setAttribute(l,Array.from(d).join(","),u)}}}}function FC(i){return(n,e,t)=>{if(!t.consumable.test(e.item,n.name))return;const r=i(e.attributeOldValue,t,e),o=i(e.attributeNewValue,t,e);if(!r&&!o)return;t.consumable.consume(e.item,n.name);const s=t.mapper.toViewElement(e.item),l=t.writer;if(!s)throw new Z("conversion-attribute-to-attribute-on-text",t.dispatcher,e);if(e.attributeOldValue!==null&&r)if(r.key=="class"){const u=typeof r.value=="string"?r.value.split(/\s+/):r.value;for(const d of u)l.removeClass(d,s)}else if(r.key=="style")if(typeof r.value=="string"){const u=new Kh(l.document.stylesProcessor);u.setTo(r.value);for(const[d]of u.getStylesEntries())l.removeStyle(d,s)}else{const u=Object.keys(r.value);for(const d of u)l.removeStyle(d,s)}else l.removeAttribute(r.key,s);if(e.attributeNewValue!==null&&o)if(o.key=="class"){const u=typeof o.value=="string"?o.value.split(/\s+/):o.value;for(const d of u)l.addClass(d,s)}else if(o.key=="style")if(typeof o.value=="string"){const u=new Kh(l.document.stylesProcessor);u.setTo(o.value);for(const[d,f]of u.getStylesEntries())l.setStyle(d,f,s)}else{const u=Object.keys(o.value);for(const d of u)l.setStyle(d,o.value[d],s)}else l.setAttribute(o.key,o.value,s)}}function VC(i){return(n,e,t)=>{if(!e.item||!(e.item instanceof vr||e.item instanceof ii)&&!e.item.is("$textProxy"))return;const r=Vf(i,e,t);if(!r||!t.consumable.consume(e.item,n.name))return;const o=t.writer,s=Cb(o,r),l=o.document.selection;if(e.item instanceof vr||e.item instanceof ii)o.wrap(l.getFirstRange(),s);else{const u=t.mapper.toViewRange(e.range),d=o.wrap(u,s);for(const f of d.getItems())if(f.is("attributeElement")&&f.isSimilar(s)){t.mapper.bindElementToMarker(f,e.markerName);break}}}}function zC(i){return(n,e,t)=>{if(!e.item||!(e.item instanceof Wt))return;const r=Vf(i,e,t);if(!r||!t.consumable.test(e.item,n.name))return;const o=t.mapper.toViewElement(e.item);if(o&&o.getCustomProperty("addHighlight")){t.consumable.consume(e.item,n.name);for(const l of ae._createIn(e.item))t.consumable.consume(l.item,n.name);o.getCustomProperty("addHighlight")(o,r,t.writer),t.mapper.bindElementToMarker(o,e.markerName)}}}function jC(i){return(n,e,t)=>{if(e.markerRange.isCollapsed)return;const r=Vf(i,e,t);if(!r)return;const o=Cb(t.writer,r),s=t.mapper.markerNameToElements(e.markerName);if(s){for(const l of s)t.mapper.unbindElementFromMarkerName(l,e.markerName),l.is("attributeElement")?t.writer.unwrap(t.writer.createRangeOn(l),o):l.getCustomProperty("removeHighlight")(l,r.id,t.writer);t.writer.clearClonedElementsGroup(e.markerName),n.stop()}}}function $C(i){const n=Tb(i.model),e=$l(i.view,"container");return n.attributes.length&&(n.children=!0),t=>{t.on(`insert:${n.name}`,OC(e,Ab(n)),{priority:i.converterPriority||"normal"}),(n.children||n.attributes.length)&&t.on("reduceChanges",Pb(n),{priority:"low"})}}function WC(i){const n=Tb(i.model),e=$l(i.view,"container");return n.children=!0,t=>{if(t._conversionApi.schema.checkChild(n.name,"$text"))throw new Z("conversion-element-to-structure-disallowed-text",t,{elementName:n.name});t.on(`insert:${n.name}`,MC(e,Ab(n)),{priority:i.converterPriority||"normal"}),t.on("reduceChanges",Pb(n),{priority:"low"})}}function HC(i){i=si(i);let n=i.model;typeof n=="string"&&(n={key:n});let e=`attribute:${n.key}`;if(n.name&&(e+=":"+n.name),n.values)for(const r of n.values)i.view[r]=$l(i.view[r],"attribute");else i.view=$l(i.view,"attribute");const t=Sb(i);return r=>{r.on(e,AC(t),{priority:i.converterPriority||"normal"})}}function UC(i){i=si(i);let n=i.model;typeof n=="string"&&(n={key:n});let e=`attribute:${n.key}`;if(n.name&&(e+=":"+n.name),n.values)for(const r of n.values)i.view[r]=Dg(i.view[r]);else i.view=Dg(i.view);const t=Sb(i);return r=>{r.on(e,FC(t),{priority:i.converterPriority||"normal"})}}function qC(i){const n=$l(i.view,"ui");return e=>{e.on(`addMarker:${i.model}`,RC(n),{priority:i.converterPriority||"normal"}),e.on(`removeMarker:${i.model}`,IC(),{priority:i.converterPriority||"normal"})}}function KC(i){i=si(i);const n=i.model;let e=i.view;return e||(e=t=>({group:n,name:t.substr(i.model.length+1)})),t=>{t.on(`addMarker:${n}`,NC(e),{priority:i.converterPriority||"normal"}),t.on(`removeMarker:${n}`,BC(e),{priority:i.converterPriority||"normal"})}}function GC(i){return n=>{n.on(`addMarker:${i.model}`,VC(i.view),{priority:i.converterPriority||"normal"}),n.on(`addMarker:${i.model}`,zC(i.view),{priority:i.converterPriority||"normal"}),n.on(`removeMarker:${i.model}`,jC(i.view),{priority:i.converterPriority||"normal"})}}function Tb(i){return typeof i=="string"&&(i={name:i}),{name:i.name,attributes:i.attributes?Ht(i.attributes):[],children:!!i.children}}function $l(i,n){return typeof i=="function"?i:(e,t)=>ZC(i,t,n)}function ZC(i,n,e){typeof i=="string"&&(i={name:i});let t;const r=n.writer,o=Object.assign({},i.attributes);if(e=="container")t=r.createContainerElement(i.name,o);else if(e=="attribute"){const s={priority:i.priority||Ss.DEFAULT_PRIORITY};t=r.createAttributeElement(i.name,o,s)}else t=r.createUIElement(i.name,o);if(i.styles){const s=Object.keys(i.styles);for(const l of s)r.setStyle(l,i.styles[l],t)}if(i.classes){const s=i.classes;if(typeof s=="string")r.addClass(s,t);else for(const l of s)r.addClass(l,t)}return t}function Sb(i){return i.model.values?(n,e,t)=>{const r=i.view[n];return r?r(n,e,t):null}:i.view}function Dg(i){return typeof i=="string"?n=>({key:i,value:n}):typeof i=="object"?i.value?()=>i:n=>({key:i.key,value:n}):i}function Vf(i,n,e){const t=typeof i=="function"?i(n,e):i;return t?(t.priority||(t.priority=10),t.id||(t.id=n.markerName),t):null}function YC(i){return(n,e)=>{if(!n.is("element",i.name))return!1;if(e.type=="attribute"){if(i.attributes.includes(e.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(i.children)return!0}return!1}}function Pb(i){const n=YC(i);return(e,t)=>{const r=[];t.reconvertedElements||(t.reconvertedElements=new Set);for(const o of t.changes){const s=o.type=="attribute"?o.range.start.nodeAfter:o.position.parent;if(!s||!n(s,o)){r.push(o);continue}if(!t.reconvertedElements.has(s)){t.reconvertedElements.add(s);const l=ve._createBefore(s);let u=r.length;for(let d=r.length-1;d>=0;d--){const f=r[d],b=(f.type=="attribute"?f.range.start:f.position).compareWith(l);if(b=="before"||f.type=="remove"&&b=="same")break;u=d}r.splice(u,0,{type:"remove",name:s.name,position:l,length:1},{type:"reinsert",name:s.name,position:l,length:1})}}t.changes=r}}function Ab(i){return(n,e,t={})=>{const r=["insert"];for(const o of i.attributes)n.hasAttribute(o)&&r.push(`attribute:${o}`);return r.every(o=>e.test(n,o))?(t.preflight||r.forEach(o=>e.consume(n,o)),!0):!1}}function JC(i,n,e){return(t,r)=>{const o=t.createContainerElement("$slot");let s=null;if(r==="children")s=Array.from(i.getChildren());else if(typeof r=="function")s=Array.from(i.getChildren()).filter(l=>r(l));else throw new Z("conversion-slot-mode-unknown",e.dispatcher,{modeOrFilter:r});return n.set(o,s),o}}function QC(i,n,e){const t=Array.from(n.values()).flat(),r=new Set(t);if(r.size!=t.length)throw new Z("conversion-slot-filter-overlap",e.dispatcher,{element:i});if(r.size!=i.childCount)throw new Z("conversion-slot-filter-incomplete",e.dispatcher,{element:i})}function XC(i,n,e,t){e.mapper.on("modelToViewPosition",s,{priority:"highest"});let r=null,o=null;for([r,o]of n)Ob(i,o,e,t),e.writer.move(e.writer.createRangeIn(r),e.writer.createPositionBefore(r)),e.writer.remove(r);e.mapper.off("modelToViewPosition",s);function s(l,u){const d=u.modelPosition.nodeAfter,f=o.indexOf(d);f<0||(u.viewPosition=u.mapper.findPositionIn(r,f))}}function Ob(i,n,e,t){for(const r of n)eT(i.root,r,e,t)||e.convertItem(r)}function eT(i,n,e,t){const{writer:r,mapper:o}=e;if(!t.reconversion)return!1;const s=o.toViewElement(n);return!s||s.root==i||!e.canReuseView(s)?!1:(r.move(r.createRangeOn(s),o.toViewPosition(ve._createBefore(n))),!0)}function tT(i,n,{preflight:e}={}){return e?n.test(i,"insert"):n.consume(i,"insert")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Mb(i){const{schema:n,document:e}=i.model;for(const t of e.getRoots())if(t.isEmpty&&!n.checkChild(t,"$text")&&n.checkChild(t,"paragraph"))return i.insertElement("paragraph",t),!0;return!1}function Rb(i,n,e){const t=e.createContext(i);return!(!e.checkChild(t,"paragraph")||!e.checkChild(t.push("paragraph"),n))}function Ib(i,n){const e=n.createElement("paragraph");return n.insert(e,i),n.createPositionAt(e,0)}class nT extends kb{elementToElement(n){return this.add(Nb(n))}elementToAttribute(n){return this.add(oT(n))}attributeToAttribute(n){return this.add(sT(n))}elementToMarker(n){return this.add(aT(n))}dataToMarker(n){return this.add(lT(n))}}function Lg(){return(i,n,e)=>{if(!n.modelRange&&e.consumable.consume(n.viewItem,{name:!0})){const{modelRange:t,modelCursor:r}=e.convertChildren(n.viewItem,n.modelCursor);n.modelRange=t,n.modelCursor=r}}}function rT(){return(i,n,{schema:e,consumable:t,writer:r})=>{let o=n.modelCursor;if(!t.test(n.viewItem))return;if(!e.checkChild(o,"$text")){if(!Rb(o,"$text",e)||n.viewItem.data.trim().length==0)return;o=Ib(o,r)}t.consume(n.viewItem);const s=r.createText(n.viewItem.data);r.insert(s,o),n.modelRange=r.createRange(o,o.getShiftedBy(s.offsetSize)),n.modelCursor=n.modelRange.end}}function iT(i,n){return(e,t)=>{const r=t.newSelection,o=[];for(const l of r.getRanges())o.push(n.toModelRange(l));const s=i.createSelection(o,{backward:r.isBackward});s.isEqual(i.document.selection)||i.change(l=>{l.setSelection(s)})}}function Nb(i){i=si(i);const n=Xh(i),e=zf(i.view),t=e?`element:${e}`:"element";return r=>{r.on(t,n,{priority:i.converterPriority||"normal"})}}function oT(i){i=si(i),Db(i);const n=Lb(i,!1),e=zf(i.view),t=e?`element:${e}`:"element";return r=>{r.on(t,n,{priority:i.converterPriority||"low"})}}function sT(i){i=si(i);let n=null;(typeof i.view=="string"||i.view.key)&&(n=dT(i)),Db(i,n);const e=Lb(i,!0);return t=>{t.on("element",e,{priority:i.converterPriority||"low"})}}function aT(i){const n=pT(i.model);return Nb({...i,model:n})}function lT(i){i=si(i),i.model||(i.model=r=>r?i.view+":"+r:i.view);const n={view:i.view,model:i.model},e=Xh(Bg(n,"start")),t=Xh(Bg(n,"end"));return r=>{r.on(`element:${i.view}-start`,e,{priority:i.converterPriority||"normal"}),r.on(`element:${i.view}-end`,t,{priority:i.converterPriority||"normal"});const o=zo.low,s=zo.highest,l=zo.get(i.converterPriority)/s;r.on("element",cT(n),{priority:o+l})}}function cT(i){return(n,e,t)=>{const r=`data-${i.view}`;if(!t.consumable.test(e.viewItem,{attributes:r+"-end-after"})&&!t.consumable.test(e.viewItem,{attributes:r+"-start-after"})&&!t.consumable.test(e.viewItem,{attributes:r+"-end-before"})&&!t.consumable.test(e.viewItem,{attributes:r+"-start-before"}))return;e.modelRange||Object.assign(e,t.convertChildren(e.viewItem,e.modelCursor)),t.consumable.consume(e.viewItem,{attributes:r+"-end-after"})&&o(e.modelRange.end,e.viewItem.getAttribute(r+"-end-after").split(",")),t.consumable.consume(e.viewItem,{attributes:r+"-start-after"})&&o(e.modelRange.end,e.viewItem.getAttribute(r+"-start-after").split(",")),t.consumable.consume(e.viewItem,{attributes:r+"-end-before"})&&o(e.modelRange.start,e.viewItem.getAttribute(r+"-end-before").split(",")),t.consumable.consume(e.viewItem,{attributes:r+"-start-before"})&&o(e.modelRange.start,e.viewItem.getAttribute(r+"-start-before").split(","));function o(s,l){for(const u of l){const d=i.model(u,t),f=t.writer.createElement("$marker",{"data-name":d});t.writer.insert(f,s),e.modelCursor.isEqual(s)?e.modelCursor=e.modelCursor.getShiftedBy(1):e.modelCursor=e.modelCursor._getTransformedByInsertion(s,1),e.modelRange=e.modelRange._getTransformedByInsertion(s,1)[0]}}}}function zf(i){return typeof i=="string"?i:typeof i=="object"&&typeof i.name=="string"?i.name:null}function Xh(i){const n=new Fl(i.view);return(e,t,r)=>{const o=n.match(t.viewItem);if(!o)return;const s=o.match;if(s.name=!0,!r.consumable.test(t.viewItem,s))return;const l=uT(i.model,t.viewItem,r);l&&r.safeInsert(l,t.modelCursor)&&(r.consumable.consume(t.viewItem,s),r.convertChildren(t.viewItem,l),r.updateConversionResult(l,t))}}function uT(i,n,e){return i instanceof Function?i(n,e):e.writer.createElement(i)}function dT(i){typeof i.view=="string"&&(i.view={key:i.view});const n=i.view.key,e=typeof i.view.value>"u"?/[\s\S]*/:i.view.value;let t;return n=="class"||n=="style"?t={[n=="class"?"classes":"styles"]:e}:t={attributes:{[n]:e}},i.view.name&&(t.name=i.view.name),i.view=t,n}function Db(i,n=null){const e=n===null?!0:o=>o.getAttribute(n),t=typeof i.model!="object"?i.model:i.model.key,r=typeof i.model!="object"||typeof i.model.value>"u"?e:i.model.value;i.model={key:t,value:r}}function Lb(i,n){const e=new Fl(i.view);return(t,r,o)=>{if(!r.modelRange&&n)return;const s=e.match(r.viewItem);if(!s||(hT(i.view,r.viewItem)?s.match.name=!0:delete s.match.name,!o.consumable.test(r.viewItem,s.match)))return;const l=i.model.key,u=typeof i.model.value=="function"?i.model.value(r.viewItem,o):i.model.value;if(u===null)return;r.modelRange||Object.assign(r,o.convertChildren(r.viewItem,r.modelCursor)),fT(r.modelRange,{key:l,value:u},n,o)&&(o.consumable.test(r.viewItem,{name:!0})&&(s.match.name=!0),o.consumable.consume(r.viewItem,s.match))}}function hT(i,n){const e=typeof i=="function"?i(n):i;return typeof e=="object"&&!zf(e)?!1:!e.classes&&!e.attributes&&!e.styles}function fT(i,n,e,t){let r=!1;for(const o of Array.from(i.getItems({shallow:e})))t.schema.checkAttribute(o,n.key)&&(r=!0,!o.hasAttribute(n.key)&&t.writer.setAttribute(n.key,n.value,o));return r}function pT(i){return(n,e)=>{const t=typeof i=="string"?i:i(n,e);return e.writer.createElement("$marker",{"data-name":t})}}function Bg(i,n){const e=(t,r)=>{const o=t.getAttribute("name"),s=i.model(o,r);return r.writer.createElement("$marker",{"data-name":s})};return{view:`${i.view}-${n}`,model:e}}function mT(i){i.document.registerPostFixer(n=>gT(n,i))}function gT(i,n){const e=n.document.selection,t=n.schema,r=[];let o=!1;for(const s of e.getRanges()){const l=Bb(s,t);l&&!l.isEqual(s)?(r.push(l),o=!0):r.push(s)}return o&&i.setSelection(vT(r),{backward:e.isBackward}),!1}function Bb(i,n){return i.isCollapsed?bT(i,n):wT(i,n)}function bT(i,n){const e=i.start,t=n.getNearestSelectionRange(e);if(!t){const o=e.getAncestors().reverse().find(s=>n.isObject(s));return o?ae._createOn(o):null}if(!t.isCollapsed)return t;const r=t.start;return e.isEqual(r)?null:new ae(r)}function wT(i,n){const{start:e,end:t}=i,r=n.checkChild(e,"$text"),o=n.checkChild(t,"$text"),s=n.getLimitElement(e),l=n.getLimitElement(t);if(s===l){if(r&&o)return null;if(yT(e,t,n)){const p=e.nodeAfter&&n.isSelectable(e.nodeAfter)?null:n.getNearestSelectionRange(e,"forward"),v=t.nodeBefore&&n.isSelectable(t.nodeBefore)?null:n.getNearestSelectionRange(t,"backward"),x=p?p.start:e,L=v?v.end:t;return new ae(x,L)}}const u=s&&!s.is("rootElement"),d=l&&!l.is("rootElement");if(u||d){const f=e.nodeAfter&&t.nodeBefore&&e.nodeAfter.parent===t.nodeBefore.parent,p=u&&(!f||!Vg(e.nodeAfter,n)),b=d&&(!f||!Vg(t.nodeBefore,n));let v=e,x=t;return p&&(v=ve._createBefore(Fg(s,n))),b&&(x=ve._createAfter(Fg(l,n))),new ae(v,x)}return null}function Fg(i,n){let e=i,t=e;for(;n.isLimit(t)&&t.parent;)e=t,t=t.parent;return e}function yT(i,n,e){const t=i.nodeAfter&&!e.isLimit(i.nodeAfter)||e.checkChild(i,"$text"),r=n.nodeBefore&&!e.isLimit(n.nodeBefore)||e.checkChild(n,"$text");return t||r}function vT(i){const n=[...i],e=new Set;let t=1;for(;t<n.length;){const o=n[t],s=n.slice(0,t);for(const[l,u]of s.entries())if(!e.has(l)){if(o.isEqual(u))e.add(l);else if(o.isIntersecting(u)){e.add(l),e.add(t);const d=o.getJoined(u);n.push(d)}}t++}return n.filter((o,s)=>!e.has(s))}function Vg(i,n){return i&&n.isSelectable(i)}class _T extends on(){constructor(e,t){super();g(this,"model");g(this,"view");g(this,"mapper");g(this,"downcastDispatcher");this.model=e,this.view=new cC(t),this.mapper=new yb,this.downcastDispatcher=new vb({mapper:this.mapper,schema:e.schema});const r=this.model.document,o=r.selection,s=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",()=>{this.view.change(l=>{this.downcastDispatcher.convertChanges(r.differ,s,l),this.downcastDispatcher.convertSelection(o,s,l)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",iT(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",kT(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",Eb(),{priority:"lowest"}),this.downcastDispatcher.on("insert",xb(),{priority:"lowest"}),this.downcastDispatcher.on("remove",CC(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",PC()),this.downcastDispatcher.on("selection",TC(),{priority:"low"}),this.downcastDispatcher.on("selection",SC(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(l=>{if(l.rootName=="$graveyard")return null;const u=new ib(this.view.document,l.name);return u.rootName=l.rootName,this.mapper.bindElements(l,u),u})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,r=this.model.markers.get(t);if(!r)throw new Z("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(r)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function kT(i,n,e){return(t,r)=>{if(!(e.document.isComposing&&!Xe.isAndroid))for(let o=0;o<r.targetRanges.length;o++){const s=r.targetRanges[o],l=i.toModelRange(s),u=Bb(l,n);!u||u.isEqual(l)||(r.targetRanges[o]=i.toViewRange(u))}}}class Al{constructor(){g(this,"_consumables",new Map)}add(n,e){let t;if(n.is("$text")||n.is("documentFragment")){this._consumables.set(n,!0);return}this._consumables.has(n)?t=this._consumables.get(n):(t=new ET(n),this._consumables.set(n,t)),t.add(e)}test(n,e){const t=this._consumables.get(n);return t===void 0?null:n.is("$text")||n.is("documentFragment")?t:t.test(e)}consume(n,e){return this.test(n,e)?(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!1):this._consumables.get(n).consume(e),!0):!1}revert(n,e){const t=this._consumables.get(n);t!==void 0&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):t.revert(e))}static consumablesFromElement(n){const e={element:n,name:!0,attributes:[],classes:[],styles:[]},t=n.getAttributeKeys();for(const s of t)s=="style"||s=="class"||e.attributes.push(s);const r=n.getClassNames();for(const s of r)e.classes.push(s);const o=n.getStyleNames();for(const s of o)e.styles.push(s);return e}static createFrom(n,e){if(e||(e=new Al),n.is("$text"))return e.add(n),e;n.is("element")&&e.add(n,Al.consumablesFromElement(n)),n.is("documentFragment")&&e.add(n);for(const t of n.getChildren())e=Al.createFrom(t,e);return e}}const gu=["attributes","classes","styles"];class ET{constructor(n){g(this,"element");g(this,"_canConsumeName");g(this,"_consumables");this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(n){n.name&&(this._canConsumeName=!0);for(const e of gu)e in n&&this._add(e,n[e])}test(n){if(n.name&&!this._canConsumeName)return this._canConsumeName;for(const e of gu)if(e in n){const t=this._test(e,n[e]);if(t!==!0)return t}return!0}consume(n){n.name&&(this._canConsumeName=!1);for(const e of gu)e in n&&this._consume(e,n[e])}revert(n){n.name&&(this._canConsumeName=!0);for(const e of gu)e in n&&this._revert(e,n[e])}_add(n,e){const t=Ht(e),r=this._consumables[n];for(const o of t){if(n==="attributes"&&(o==="class"||o==="style"))throw new Z("viewconsumable-invalid-attribute",this);if(r.set(o,!0),n==="styles")for(const s of this.element.document.stylesProcessor.getRelatedStyles(o))r.set(s,!0)}}_test(n,e){const t=Ht(e),r=this._consumables[n];for(const o of t)if(n==="attributes"&&(o==="class"||o==="style")){const s=o=="class"?"classes":"styles",l=this._test(s,[...this._consumables[s].keys()]);if(l!==!0)return l}else{const s=r.get(o);if(s===void 0)return null;if(!s)return!1}return!0}_consume(n,e){const t=Ht(e),r=this._consumables[n];for(const o of t)if(n==="attributes"&&(o==="class"||o==="style")){const s=o=="class"?"classes":"styles";this._consume(s,[...this._consumables[s].keys()])}else if(r.set(o,!1),n=="styles")for(const s of this.element.document.stylesProcessor.getRelatedStyles(o))r.set(s,!1)}_revert(n,e){const t=Ht(e),r=this._consumables[n];for(const o of t)if(n==="attributes"&&(o==="class"||o==="style")){const s=o=="class"?"classes":"styles";this._revert(s,[...this._consumables[s].keys()])}else r.get(o)===!1&&r.set(o,!0)}}class xT extends on(){constructor(){super();g(this,"_sourceDefinitions",{});g(this,"_attributeProperties",Object.create(null));g(this,"_customChildChecks",new Map);g(this,"_customAttributeChecks",new Map);g(this,"_genericCheckSymbol",Symbol("$generic"));g(this,"_compiledDefinitions");this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new $o(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new $o(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new Z("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new Z("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(e,t):!1}checkAttribute(e,t){const r=this.getDefinition(e.last);if(!r)return!1;const o=this._evaluateAttributeChecks(e,t);return o!==void 0?o:r.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof ve){const r=e.nodeBefore,o=e.nodeAfter;if(!(r instanceof Wt))throw new Z("schema-check-merge-no-element-before",this);if(!(o instanceof Wt))throw new Z("schema-check-merge-no-element-after",this);return this.checkMerge(r,o)}if(this.isLimit(e)||this.isLimit(t))return!1;for(const r of t.getChildren())if(!this.checkChild(e,r))return!1;return!0}addChildCheck(e,t){const r=t!==void 0?t:this._genericCheckSymbol,o=this._customChildChecks.get(r)||[];o.push(e),this._customChildChecks.set(r,o)}addAttributeCheck(e,t){const r=t!==void 0?t:this._genericCheckSymbol,o=this._customAttributeChecks.get(r)||[];o.push(e),this._customAttributeChecks.set(r,o)}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let t;for(e instanceof ve?t=e.parent:t=(e instanceof ae?[e]:Array.from(e.getRanges())).reduce((o,s)=>{const l=s.getCommonAncestor();return o?o.getCommonAncestor(l,{includeSelf:!0}):l},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const o=[...e.getFirstPosition().getAncestors(),new St("",e.getAttributes())];return this.checkAttribute(o,t)}else{const r=e.getRanges();for(const o of r)for(const s of o)if(this.checkAttribute(s.item,t))return!0}return!1}*getValidRanges(e,t){e=zT(e);for(const r of e)yield*this._getValidRangesForRange(r,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new ae(e);let r,o;const s=e.getAncestors().reverse().find(l=>this.isLimit(l))||e.root;(t=="both"||t=="backward")&&(r=new Zi({boundaries:ae._createIn(s),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(o=new Zi({boundaries:ae._createIn(s),startPosition:e}));for(const l of VT(r,o)){const u=l.walker==r?"elementEnd":"elementStart",d=l.value;if(d.type==u&&this.isObject(d.item))return ae._createOn(d.item);if(this.checkChild(d.nextPosition,"$text"))return new ae(d.nextPosition)}return null}findAllowedParent(e,t){let r=e.parent;for(;r;){if(this.checkChild(r,t))return r;if(this.isLimit(r))return null;r=r.parent}return null}setAllowedAttributes(e,t,r){const o=r.model;for(const[s,l]of Object.entries(t))o.schema.checkAttribute(e,s)&&r.setAttribute(s,l,e)}removeDisallowedAttributes(e,t){for(const r of e)if(r.is("$text"))zg(this,r,t);else{const s=ae._createIn(r).getPositions();for(const l of s){const u=l.nodeBefore||l.parent;zg(this,u,t)}}}getAttributesWithProperty(e,t,r){const o={};for(const[s,l]of e.getAttributes()){const u=this.getAttributeProperties(s);u[t]!==void 0&&(r===void 0||r===u[t])&&(o[s]=l)}return o}createContext(e){return new $o(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,r=Object.keys(t);for(const s of r)e[s]=CT(t[s],s);const o=Object.values(e);for(const s of o)TT(e,s),ST(e,s),PT(e,s),AT(e,s);for(const s of o)OT(e,s);for(const s of o)MT(e,s);for(const s of o)RT(e,s);for(const s of o)NT(e,s);for(const s of o)DT(e,s);this._compiledDefinitions=IT(e)}_checkContextMatch(e,t){const r=e.last;let o=this._evaluateChildChecks(e,t);if(o=o!==void 0?o:t.allowIn.includes(r.name),!o)return!1;const s=this.getDefinition(r),l=e.trimLast();return s?l.length==0?!0:this._checkContextMatch(l,s):!1}_evaluateChildChecks(e,t){const r=this._customChildChecks.get(this._genericCheckSymbol)||[],o=this._customChildChecks.get(t.name)||[];for(const s of[...r,...o]){const l=s(e,t);if(l!==void 0)return l}}_evaluateAttributeChecks(e,t){const r=this._customAttributeChecks.get(this._genericCheckSymbol)||[],o=this._customAttributeChecks.get(t)||[];for(const s of[...r,...o]){const l=s(e,t);if(l!==void 0)return l}}*_getValidRangesForRange(e,t){let r=e.start,o=e.start;for(const s of e.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(ae._createIn(s),t)),this.checkAttribute(s,t)||(r.isEqual(o)||(yield new ae(r,o)),r=ve._createAfter(s)),o=ve._createAfter(s);r.isEqual(o)||(yield new ae(r,o))}findOptimalInsertionRange(e,t){const r=e.getSelectedElement();if(r&&this.isObject(r)&&!this.isInline(r))return t=="before"||t=="after"?new ae(ve._createAt(r,t)):ae._createOn(r);const o=Ls(e.getSelectedBlocks());if(!o)return new ae(e.focus);if(o.isEmpty)return new ae(ve._createAt(o,0));const s=ve._createAfter(o);return e.focus.isTouching(s)?new ae(s):new ae(ve._createBefore(o))}}class $o{constructor(n){g(this,"_items");if(n instanceof $o)return n;let e;typeof n=="string"?e=[n]:Array.isArray(n)?e=n:e=n.getAncestors({includeSelf:!0}),this._items=e.map(FT)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(n){const e=new $o([n]);return e._items=[...this._items,...e._items],e}trimLast(){const n=new $o([]);return n._items=this._items.slice(0,-1),n}getItem(n){return this._items[n]}*getNames(){yield*this._items.map(n=>n.name)}endsWith(n){return Array.from(this.getNames()).join(" ").endsWith(n)}startsWith(n){return Array.from(this.getNames()).join(" ").startsWith(n)}}function CT(i,n){const e={name:n,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return LT(i,e),_i(i,e,"allowIn"),_i(i,e,"allowChildren"),_i(i,e,"disallowIn"),_i(i,e,"disallowChildren"),_i(i,e,"allowContentOf"),_i(i,e,"allowWhere"),_i(i,e,"allowAttributes"),_i(i,e,"disallowAttributes"),_i(i,e,"allowAttributesOf"),_i(i,e,"inheritTypesFrom"),BT(i,e),e}function TT(i,n){for(const e of n.allowIn){const t=i[e];t?t.allowChildren.add(n.name):n.allowIn.delete(e)}}function ST(i,n){for(const e of n.allowChildren){const t=i[e];t?t.allowIn.add(n.name):n.allowChildren.delete(e)}}function PT(i,n){for(const e of n.disallowIn){const t=i[e];t?t.disallowChildren.add(n.name):n.disallowIn.delete(e)}}function AT(i,n){for(const e of n.disallowChildren){const t=i[e];t?t.disallowIn.add(n.name):n.disallowChildren.delete(e)}}function OT(i,n){for(const e of n.disallowChildren)n.allowChildren.delete(e);for(const e of n.disallowIn)n.allowIn.delete(e);for(const e of n.disallowAttributes)n.allowAttributes.delete(e)}function MT(i,n){for(const e of n.allowContentOf){const t=i[e];t&&(t.disallowChildren.forEach(r=>{n.allowChildren.has(r)||(n.disallowChildren.add(r),i[r].disallowIn.add(n.name))}),t.allowChildren.forEach(r=>{n.disallowChildren.has(r)||(n.allowChildren.add(r),i[r].allowIn.add(n.name))}))}}function RT(i,n){for(const e of n.allowWhere){const t=i[e];t&&(t.disallowIn.forEach(r=>{n.allowIn.has(r)||(n.disallowIn.add(r),i[r].disallowChildren.add(n.name))}),t.allowIn.forEach(r=>{n.disallowIn.has(r)||(n.allowIn.add(r),i[r].allowChildren.add(n.name))}))}}function IT(i){const n={};for(const e of Object.values(i))n[e.name]={name:e.name,isBlock:!!e.isBlock,isContent:!!e.isContent,isInline:!!e.isInline,isLimit:!!e.isLimit,isObject:!!e.isObject,isSelectable:!!e.isSelectable,allowIn:Array.from(e.allowIn).filter(t=>!!i[t]),allowChildren:Array.from(e.allowChildren).filter(t=>!!i[t]),allowAttributes:Array.from(e.allowAttributes)};return n}function NT(i,n){for(const e of n.allowAttributesOf){const t=i[e];if(!t)return;t.allowAttributes.forEach(r=>{n.disallowAttributes.has(r)||n.allowAttributes.add(r)})}}function DT(i,n){for(const e of n.inheritTypesFrom){const t=i[e];if(t){const r=Object.keys(t).filter(o=>o.startsWith("is"));for(const o of r)o in n||(n[o]=t[o])}}}function LT(i,n){for(const e of i){const t=Object.keys(e).filter(r=>r.startsWith("is"));for(const r of t)n[r]=!!e[r]}}function _i(i,n,e){for(const t of i){let r=t[e];typeof r=="string"&&(r=[r]),Array.isArray(r)&&r.forEach(o=>n[e].add(o))}}function BT(i,n){for(const e of i){const t=e.inheritAllFrom;t&&(n.allowContentOf.add(t),n.allowWhere.add(t),n.allowAttributesOf.add(t),n.inheritTypesFrom.add(t))}}function FT(i){return typeof i=="string"||i.is("documentFragment")?{name:typeof i=="string"?i:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:i.is("element")?i.name:"$text",*getAttributeKeys(){yield*i.getAttributeKeys()},getAttribute(n){return i.getAttribute(n)}}}function*VT(i,n){let e=!1;for(;!e;){if(e=!0,i){const t=i.next();t.done||(e=!1,yield{walker:i,value:t.value})}if(n){const t=n.next();t.done||(e=!1,yield{walker:n,value:t.value})}}}function*zT(i){for(const n of i)yield*n.getMinimalFlatRanges()}function zg(i,n,e){for(const t of n.getAttributeKeys())i.checkAttribute(n,t)||e.removeAttribute(t,n)}class jT extends At(){constructor(e){super();g(this,"conversionApi");g(this,"_splitParts",new Map);g(this,"_cursorParents",new Map);g(this,"_modelCursor",null);g(this,"_emptyElementsToKeep",new Set);this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,r)=>this._convertItem(t,r),convertChildren:(t,r)=>this._convertChildren(t,r),safeInsert:(t,r)=>this._safeInsert(t,r),updateConversionResult:(t,r)=>this._updateConversionResult(t,r),splitToAllowedParent:(t,r)=>this._splitToAllowedParent(t,r),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,r=["$root"]){this.fire("viewCleanup",e),this._modelCursor=WT(r,t),this.conversionApi.writer=t,this.conversionApi.consumable=Al.createFrom(e),this.conversionApi.store={};const{modelRange:o}=this._convertItem(e,this._modelCursor),s=t.createDocumentFragment();if(o){this._removeEmptyElements();for(const l of Array.from(this._modelCursor.parent.getChildren()))t.append(l,s);s.markers=$T(s,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(e,t){const r={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,r,this.conversionApi):e.is("$text")?this.fire("text",r,this.conversionApi):this.fire("documentFragment",r,this.conversionApi),r.modelRange&&!(r.modelRange instanceof ae))throw new Z("view-conversion-dispatcher-incorrect-result",this);return{modelRange:r.modelRange,modelCursor:r.modelCursor}}_convertChildren(e,t){let r=t.is("position")?t:ve._createAt(t,0);const o=new ae(r);for(const s of Array.from(e.getChildren())){const l=this._convertItem(s,r);l.modelRange instanceof ae&&(o.end=l.modelRange.end,r=l.modelCursor)}return{modelRange:o,modelCursor:r}}_safeInsert(e,t){const r=this._splitToAllowedParent(e,t);return r?(this.conversionApi.writer.insert(e,r.position),!0):!1}_updateConversionResult(e,t){const r=this._getSplitParts(e),o=this.conversionApi.writer;t.modelRange||(t.modelRange=o.createRange(o.createPositionBefore(e),o.createPositionAfter(r[r.length-1])));const s=this._cursorParents.get(e);s?t.modelCursor=o.createPositionAt(s,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:r,writer:o}=this.conversionApi;let s=r.findAllowedParent(t,e);if(s){if(s===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(s)&&(s=null)}if(!s)return Rb(t,e,r)?{position:Ib(t,o)}:null;const l=this.conversionApi.writer.split(t,s),u=[];for(const f of l.range.getWalker())if(f.type=="elementEnd")u.push(f.item);else{const p=u.pop(),b=f.item;this._registerSplitPair(p,b)}const d=l.range.end.parent;return this._cursorParents.set(e,d),{position:l.position,cursorParent:d}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const r=this._splitParts.get(e);this._splitParts.set(t,r),r.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}function $T(i,n){const e=new Set,t=new Map,r=ae._createIn(i).getItems();for(const o of r)o.is("element","$marker")&&e.add(o);for(const o of e){const s=o.getAttribute("data-name"),l=n.createPositionBefore(o);t.has(s)?t.get(s).end=l.clone():t.set(s,new ae(l.clone())),n.remove(o)}return t}function WT(i,n){let e;for(const t of new $o(i)){const r={};for(const s of t.getAttributeKeys())r[s]=t.getAttribute(s);const o=n.createElement(t.name,r);e&&n.insert(o,e),e=ve._createAt(o,0)}return e}class HT{getHtml(n){const t=Le.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(n),t.innerHTML}}class UT{constructor(n){g(this,"domParser");g(this,"domConverter");g(this,"htmlWriter");g(this,"skipComments",!0);this.domParser=new DOMParser,this.domConverter=new fb(n,{renderingMode:"data"}),this.htmlWriter=new HT}toData(n){const e=this.domConverter.viewToDom(n);return this.htmlWriter.getHtml(e)}toView(n){const e=this._toDom(n);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(n){this.domConverter.registerRawContentMatcher(n)}useFillerType(n){this.domConverter.blockFillerMode=n=="marked"?"markedNbsp":"nbsp"}_toDom(n){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(n.trim().slice(0,1e4))||(n=`<body>${n}</body>`);const e=this.domParser.parseFromString(n,"text/html"),t=e.createDocumentFragment(),r=e.body.childNodes;for(;r.length>0;)t.appendChild(r[0]);return t}}class qT extends At(){constructor(e,t){super();g(this,"model");g(this,"mapper");g(this,"downcastDispatcher");g(this,"upcastDispatcher");g(this,"viewDocument");g(this,"stylesProcessor");g(this,"htmlProcessor");g(this,"processor");g(this,"_viewWriter");this.model=e,this.mapper=new yb,this.downcastDispatcher=new vb({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",Eb(),{priority:"lowest"}),this.downcastDispatcher.on("insert",xb(),{priority:"lowest"}),this.upcastDispatcher=new jT({schema:e.schema}),this.viewDocument=new ab(t),this.stylesProcessor=t,this.htmlProcessor=new UT(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new lb(this.viewDocument),this.upcastDispatcher.on("text",rT(),{priority:"lowest"}),this.upcastDispatcher.on("element",Lg(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",Lg(),{priority:"lowest"}),on().prototype.decorate.call(this,"init"),on().prototype.decorate.call(this,"set"),on().prototype.decorate.call(this,"get"),on().prototype.decorate.call(this,"toView"),on().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Mb)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:r="empty"}=e;if(!this._checkIfRootsExists([t]))throw new Z("datacontroller-get-non-existent-root",this);const o=this.model.document.getRoot(t);return o.isAttached()||Zt("datacontroller-get-detached-root",this),r==="empty"&&!this.model.hasContent(o,{ignoreWhitespaces:!0})?"":this.stringify(o,e)}stringify(e,t={}){const r=this.toView(e,t);return this.processor.toData(r)}toView(e,t={}){const r=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();const s=ae._createIn(e),l=new Ta(r);this.mapper.bindElements(e,l);const u=e.is("documentFragment")?e.markers:KT(e);return this.downcastDispatcher.convert(s,u,o,t),l}init(e){if(this.model.document.version)throw new Z("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new Z("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},r=>{for(const o of Object.keys(t)){const s=this.model.document.getRoot(o);r.insert(this.parse(t[o],s),s,0)}}),Promise.resolve()}set(e,t={}){let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new Z("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},o=>{o.setSelection(null),o.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const s of Object.keys(r)){const l=this.model.document.getRoot(s);o.remove(o.createRangeIn(l)),o.insert(this.parse(r[s],l),l,0)}})}parse(e,t="$root"){const r=this.processor.toView(e);return this.toModel(r,t)}toModel(e,t="$root"){return this.model.change(r=>this.upcastDispatcher.convert(e,r,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function KT(i){const n=[],e=i.root.document;if(!e)return new Map;const t=ae._createIn(i);for(const r of e.model.markers){const o=r.getRange(),s=o.isCollapsed,l=o.start.isEqual(t.start)||o.end.isEqual(t.end);if(s&&l)n.push([r.name,o]);else{const u=t.getIntersection(o);u&&n.push([r.name,u])}}return n.sort(([r,o],[s,l])=>{if(o.end.compareWith(l.start)!=="after")return 1;if(o.start.compareWith(l.end)!=="before")return-1;switch(o.start.compareWith(l.start)){case"before":return 1;case"after":return-1;default:switch(o.end.compareWith(l.end)){case"before":return 1;case"after":return-1;default:return s.localeCompare(r)}}}),new Map(n)}class GT{constructor(n,e){g(this,"_helpers",new Map);g(this,"_downcast");g(this,"_upcast");this._downcast=Ht(n),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Ht(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(n,e){const t=this._downcast.includes(e);if(!this._upcast.includes(e)&&!t)throw new Z("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:n,dispatchers:[e],isDowncast:t})}for(n){if(!this._helpers.has(n))throw new Z("conversion-for-unknown-group",this);return this._helpers.get(n)}elementToElement(n){this.for("downcast").elementToElement(n);for(const{model:e,view:t}of _h(n))this.for("upcast").elementToElement({model:e,view:t,converterPriority:n.converterPriority})}attributeToElement(n){this.for("downcast").attributeToElement(n);for(const{model:e,view:t}of _h(n))this.for("upcast").elementToAttribute({view:t,model:e,converterPriority:n.converterPriority})}attributeToAttribute(n){this.for("downcast").attributeToAttribute(n);for(const{model:e,view:t}of _h(n))this.for("upcast").attributeToAttribute({view:t,model:e})}_createConversionHelpers({name:n,dispatchers:e,isDowncast:t}){if(this._helpers.has(n))throw new Z("conversion-group-exists",this);const r=t?new xC(e):new nT(e);this._helpers.set(n,r)}}function*_h(i){if(i.model.values)for(const n of i.model.values){const e={key:i.model.key,value:n},t=i.view[n],r=i.upcastAlso?i.upcastAlso[n]:void 0;yield*jg(e,t,r)}else yield*jg(i.model,i.view,i.upcastAlso)}function*jg(i,n,e){if(yield{model:i,view:n},e)for(const t of Ht(e))yield{model:i,view:t}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cr{constructor(n){g(this,"baseVersion");g(this,"isDocumentOperation");g(this,"batch");this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const n=Object.assign({},this);return n.__className=this.constructor.className,delete n.batch,delete n.isDocumentOperation,n}static get className(){return"Operation"}static fromJSON(n,e){return new this(n.baseVersion)}}function jf(i,n){const e=Vb(n),t=e.reduce((s,l)=>s+l.offsetSize,0),r=i.parent;Ul(i);const o=i.index;return r._insertChild(o,e),Hl(r,o+e.length),Hl(r,o),new ae(i,i.getShiftedBy(t))}function Fb(i){if(!i.isFlat)throw new Z("operation-utils-remove-range-not-flat",this);const n=i.start.parent;Ul(i.start),Ul(i.end);const e=n._removeChildren(i.start.index,i.end.index-i.start.index);return Hl(n,i.start.index),e}function Wl(i,n){if(!i.isFlat)throw new Z("operation-utils-move-range-not-flat",this);const e=Fb(i);return n=n._getTransformedByDeletion(i.start,i.end.offset-i.start.offset),jf(n,e)}function ZT(i,n,e){Ul(i.start),Ul(i.end);for(const t of i.getItems({shallow:!0})){const r=t.is("$textProxy")?t.textNode:t;e!==null?r._setAttribute(n,e):r._removeAttribute(n),Hl(r.parent,r.index)}Hl(i.end.parent,i.end.index)}function Vb(i){const n=[];function e(t){if(typeof t=="string")n.push(new St(t));else if(t instanceof ni)n.push(new St(t.data,t.getAttributes()));else if(t instanceof Vs)n.push(t);else if(xr(t))for(const r of t)e(r)}e(i);for(let t=1;t<n.length;t++){const r=n[t],o=n[t-1];r instanceof St&&o instanceof St&&zb(r,o)&&(n.splice(t-1,2,new St(o.data+r.data,o.getAttributes())),t--)}return n}function Hl(i,n){const e=i.getChild(n-1),t=i.getChild(n);if(e&&t&&e.is("$text")&&t.is("$text")&&zb(e,t)){const r=new St(e.data+t.data,e.getAttributes());i._removeChildren(n-1,2),i._insertChild(n-1,r)}}function Ul(i){const n=i.textNode,e=i.parent;if(n){const t=i.offset-n.startOffset,r=n.index;e._removeChildren(r,1);const o=new St(n.data.substr(0,t),n.getAttributes()),s=new St(n.data.substr(t),n.getAttributes());e._insertChild(r,[o,s])}}function zb(i,n){const e=i.getAttributes(),t=n.getAttributes();for(const r of e){if(r[1]!==n.getAttribute(r[0]))return!1;t.next()}return t.next().done}class _t extends Cr{constructor(e,t,r,o){super(o);g(this,"sourcePosition");g(this,"howMany");g(this,"targetPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ae._createFromPositionAndShift(this.sourcePosition,this.howMany),ae._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new _t(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new _t(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,r=this.sourcePosition.offset,o=this.targetPosition.offset;if(r+this.howMany>e.maxOffset)throw new Z("move-operation-nodes-do-not-exist",this);if(e===t&&r<o&&o<r+this.howMany)throw new Z("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Yn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=r&&this.targetPosition.path[s]<r+this.howMany)throw new Z("move-operation-node-into-itself",this)}}_execute(){Wl(ae._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const r=ve.fromJSON(e.sourcePosition,t),o=ve.fromJSON(e.targetPosition,t);return new this(r,e.howMany,o,e.baseVersion)}}class Pn extends Cr{constructor(e,t,r){super(r);g(this,"position");g(this,"nodes");g(this,"shouldReceiveAttributes");this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Sl(Vb(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Sl([...this.nodes].map(r=>r._clone(!0))),t=new Pn(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new ve(e,[0]);return new _t(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new Z("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Sl([...e].map(t=>t._clone(!0))),jf(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const r=[];for(const s of e.nodes)s.name?r.push(Wt.fromJSON(s)):r.push(St.fromJSON(s));const o=new Pn(ve.fromJSON(e.position,t),r,e.baseVersion);return o.shouldReceiveAttributes=e.shouldReceiveAttributes,o}}class Pt extends Cr{constructor(e,t,r,o,s){super(s);g(this,"splitPosition");g(this,"howMany");g(this,"insertionPosition");g(this,"graveyardPosition");this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=r,this.graveyardPosition=o?o.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new ve(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ae(this.splitPosition,e)}get affectedSelectable(){const e=[ae._createFromPositionAndShift(this.splitPosition,0),ae._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ae._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Pt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new ve(e,[0]);return new Jt(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new Z("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new Z("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new Z("split-operation-graveyard-position-invalid",this)}else throw new Z("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Wl(ae._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=e._clone();jf(this.insertionPosition,r)}const t=new ae(ve._createAt(e,this.splitPosition.offset),ve._createAt(e,e.maxOffset));Wl(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new ve(e.root,t,"toPrevious")}static fromJSON(e,t){const r=ve.fromJSON(e.splitPosition,t),o=ve.fromJSON(e.insertionPosition,t),s=e.graveyardPosition?ve.fromJSON(e.graveyardPosition,t):null;return new this(r,e.howMany,o,s,e.baseVersion)}}class Jt extends Cr{constructor(e,t,r,o,s){super(s);g(this,"sourcePosition");g(this,"howMany");g(this,"targetPosition");g(this,"graveyardPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new ve(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ae(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[ae._createOn(e),ae._createFromPositionAndShift(this.targetPosition,0),ae._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Jt(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),r=new ve(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Pt(e,this.howMany,r,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new Z("merge-operation-how-many-invalid",this)}else throw new Z("merge-operation-target-position-invalid",this);else throw new Z("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=ae._createIn(e);Wl(t,this.targetPosition),Wl(ae._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const r=ve.fromJSON(e.sourcePosition,t),o=ve.fromJSON(e.targetPosition,t),s=ve.fromJSON(e.graveyardPosition,t);return new this(r,e.howMany,o,s,e.baseVersion)}}class Jn extends Cr{constructor(e,t,r,o,s,l){super(l);g(this,"name");g(this,"oldRange");g(this,"newRange");g(this,"affectsData");g(this,"_markers");this.name=e,this.oldRange=t?t.clone():null,this.newRange=r?r.clone():null,this.affectsData=s,this._markers=o}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Jn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Jn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Jn(e.name,e.oldRange?ae.fromJSON(e.oldRange,t):null,e.newRange?ae.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}class sn extends Cr{constructor(e,t,r,o,s){super(s);g(this,"range");g(this,"key");g(this,"oldValue");g(this,"newValue");this.range=e.clone(),this.key=t,this.oldValue=r===void 0?null:r,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new sn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new sn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new Z("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Xm(e.getAttribute(this.key),this.oldValue))throw new Z("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new Z("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Xm(this.oldValue,this.newValue)||ZT(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new sn(ae.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class vn extends Cr{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new vn(this.baseVersion)}getReversed(){return new vn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class ar extends Cr{constructor(e,t,r,o){super(o);g(this,"position");g(this,"oldName");g(this,"newName");this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=r}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new ar(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ar(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof Wt){if(e.name!==this.oldName)throw new Z("rename-operation-wrong-name",this)}else throw new Z("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new ar(ve.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Yi extends Cr{constructor(e,t,r,o,s){super(s);g(this,"root");g(this,"key");g(this,"oldValue");g(this,"newValue");this.root=e,this.key=t,this.oldValue=r===void 0?null:r,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Yi(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Yi(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new Z("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new Z("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new Z("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new Z("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Yi(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class xi extends Cr{constructor(e,t,r,o,s){super(s);g(this,"rootName");g(this,"elementName");g(this,"isAdd");g(this,"_document");if(this.rootName=e,this.elementName=t,this.isAdd=r,this._document=o,!this._document.getRoot(this.rootName)){const l=this._document.createRoot(this.elementName,this.rootName);l._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new xi(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new xi(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new xi(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const qr={};qr[sn.className]=sn;qr[Pn.className]=Pn;qr[Jn.className]=Jn;qr[_t.className]=_t;qr[vn.className]=vn;qr[Cr.className]=Cr;qr[ar.className]=ar;qr[Yi.className]=Yi;qr[xi.className]=xi;qr[Pt.className]=Pt;qr[Jt.className]=Jt;class YT{static fromJSON(n,e){return qr[n.__className].fromJSON(n,e)}}const ef=new Map;function gt(i,n,e){let t=ef.get(i);t||(t=new Map,ef.set(i,t)),t.set(n,e)}function JT(i,n){const e=ef.get(i);return e&&e.has(n)?e.get(n):QT}function QT(i){return[i]}function $g(i,n,e={}){const t=JT(i.constructor,n.constructor);try{return i=i.clone(),t(i,n,e)}catch(r){throw r}}function XT(i,n,e){i=i.slice(),n=n.slice();const t=new eS(e.document,e.useRelations,e.forceWeakRemove);t.setOriginalOperations(i),t.setOriginalOperations(n);const r=t.originalOperations;if(i.length==0||n.length==0)return{operationsA:i,operationsB:n,originalOperations:r};const o=new WeakMap;for(const u of i)o.set(u,0);const s={nextBaseVersionA:i[i.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:i.length,originalOperationsBCount:n.length};let l=0;for(;l<i.length;){const u=i[l],d=o.get(u);if(d==n.length){l++;continue}const f=n[d],p=$g(u,f,t.getContext(u,f,!0)),b=$g(f,u,t.getContext(f,u,!1));t.updateRelation(u,f),t.setOriginalOperations(p,u),t.setOriginalOperations(b,f);for(const v of p)o.set(v,d+b.length);i.splice(l,1,...p),n.splice(d,1,...b)}return Hg(i),Hg(n),Wg(i,s.nextBaseVersionB),Wg(n,s.nextBaseVersionA),{operationsA:i,operationsB:n,originalOperations:r}}class eS{constructor(n,e,t=!1){g(this,"originalOperations");g(this,"_history");g(this,"_useRelations");g(this,"_forceWeakRemove");g(this,"_relations");this.originalOperations=new Map,this._history=n.history,this._useRelations=e,this._forceWeakRemove=!!t,this._relations=new Map}setOriginalOperations(n,e=null){const t=e?this.originalOperations.get(e):null;for(const r of n)this.originalOperations.set(r,t||r)}updateRelation(n,e){if(n instanceof _t)e instanceof Jt?n.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(n.targetPosition)?this._setRelation(n,e,"insertAtSource"):n.targetPosition.isEqual(e.deletionPosition)?this._setRelation(n,e,"insertBetween"):n.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(n,e,"moveTargetAfter"):e instanceof _t&&(n.targetPosition.isEqual(e.sourcePosition)||n.targetPosition.isBefore(e.sourcePosition)?this._setRelation(n,e,"insertBefore"):this._setRelation(n,e,"insertAfter"));else if(n instanceof Pt){if(e instanceof Jt)n.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(n,e,"splitBefore");else if(e instanceof _t)if(n.splitPosition.isEqual(e.sourcePosition)||n.splitPosition.isBefore(e.sourcePosition))this._setRelation(n,e,"splitBefore");else{const t=ae._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&t.containsPosition(n.splitPosition)){const r=t.end.offset-n.splitPosition.offset,o=n.splitPosition.offset-t.start.offset;this._setRelation(n,e,{howMany:r,offset:o})}}}else if(n instanceof Jt)e instanceof Jt?(n.targetPosition.isEqual(e.sourcePosition)||this._setRelation(n,e,"mergeTargetNotMoved"),n.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(n,e,"mergeSourceNotMoved"),n.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(n,e,"mergeSameElement")):e instanceof Pt?n.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(n,e,"splitAtSource"):e instanceof _t&&e.howMany>0&&(n.sourcePosition.isEqual(e.sourcePosition.getShiftedBy(e.howMany))&&this._setRelation(n,e,"mergeSourceAffected"),n.targetPosition.isEqual(e.sourcePosition)&&this._setRelation(n,e,"mergeTargetWasBefore"));else if(n instanceof Jn){const t=n.newRange;if(!t)return;if(e instanceof Jt){const r=t.start.isEqual(e.targetPosition),o=t.start.isEqual(e.deletionPosition),s=t.end.isEqual(e.deletionPosition),l=t.end.isEqual(e.sourcePosition);(r||o||s||l)&&this._setRelation(n,e,{wasInLeftElement:r,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:s,wasInRightElement:l})}}}getContext(n,e,t){return{aIsStrong:t,aWasUndone:this._wasUndone(n),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(n,e):null,baRelation:this._useRelations?this._getRelation(e,n):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(n){const e=this.originalOperations.get(n);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(n,e){const t=this.originalOperations.get(e),r=this._history.getUndoneOperation(t);if(!r)return null;const o=this.originalOperations.get(n),s=this._relations.get(o);return s&&s.get(r)||null}_setRelation(n,e,t){const r=this.originalOperations.get(n),o=this.originalOperations.get(e);let s=this._relations.get(r);s||(s=new Map,this._relations.set(r,s)),s.set(o,t)}}function Wg(i,n){for(const e of i)e.baseVersion=n++}function Hg(i){const n=new Map;for(let e=0;e<i.length;e++){const t=i[e];t instanceof Jn&&(t.baseVersion!==-1?n.set(t.name,{op:t,ranges:t.newRange?[t.newRange]:[]}):(t.newRange&&n.get(t.name).ranges.push(t.newRange),i.splice(e,1),e--))}for(const{op:e,ranges:t}of n.values())t.length?e.newRange=ae._createFromRanges(t):e.newRange=null}gt(sn,sn,(i,n,e)=>{if(i.key===n.key&&i.range.start.hasSameParentAs(n.range.start)){const t=i.range.getDifference(n.range).map(o=>new sn(o,i.key,i.oldValue,i.newValue,0)),r=i.range.getIntersection(n.range);return r&&e.aIsStrong&&t.push(new sn(r,n.key,n.newValue,i.newValue,0)),t.length==0?[new vn(0)]:t}else return[i]});gt(sn,Pn,(i,n)=>{if(i.range.start.hasSameParentAs(n.position)&&i.range.containsPosition(n.position)){const t=i.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(r=>new sn(r,i.key,i.oldValue,i.newValue,i.baseVersion));if(n.shouldReceiveAttributes){const r=jb(n,i.key,i.oldValue);r&&t.unshift(r)}return t}return i.range=i.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[i]});function jb(i,n,e){const r=i.nodes.getNode(0).getAttribute(n);if(r==e)return null;const o=new ae(i.position,i.position.getShiftedBy(i.howMany));return new sn(o,n,r,e,0)}gt(sn,Jt,(i,n)=>{const e=[];i.range.start.hasSameParentAs(n.deletionPosition)&&(i.range.containsPosition(n.deletionPosition)||i.range.start.isEqual(n.deletionPosition))&&e.push(ae._createFromPositionAndShift(n.graveyardPosition,1));const t=i.range._getTransformedByMergeOperation(n);return t.isCollapsed||e.push(t),e.map(r=>new sn(r,i.key,i.oldValue,i.newValue,i.baseVersion))});gt(sn,_t,(i,n)=>tS(i.range,n).map(t=>new sn(t,i.key,i.oldValue,i.newValue,i.baseVersion)));function tS(i,n){const e=ae._createFromPositionAndShift(n.sourcePosition,n.howMany);let t=null,r=[];e.containsRange(i,!0)?t=i:i.start.hasSameParentAs(e.start)?(r=i.getDifference(e),t=i.getIntersection(e)):r=[i];const o=[];for(let s of r){s=s._getTransformedByDeletion(n.sourcePosition,n.howMany);const l=n.getMovedRangeStart(),u=s.start.hasSameParentAs(l),d=s._getTransformedByInsertion(l,n.howMany,u);o.push(...d)}return t&&o.push(t._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany,!1)[0]),o}gt(sn,Pt,(i,n)=>{if(i.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||i.range.end.offset++,[i];if(i.range.start.hasSameParentAs(n.splitPosition)&&i.range.containsPosition(n.splitPosition)){const e=i.clone();return e.range=new ae(n.moveTargetPosition.clone(),i.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),i.range.end=n.splitPosition.clone(),i.range.end.stickiness="toPrevious",[i,e]}return i.range=i.range._getTransformedBySplitOperation(n),[i]});gt(Pn,sn,(i,n)=>{const e=[i];if(i.shouldReceiveAttributes&&i.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(i.position)){const t=jb(i,n.key,n.newValue);t&&e.push(t)}return e});gt(Pn,Pn,(i,n,e)=>i.position.isEqual(n.position)&&e.aIsStrong?[i]:(i.position=i.position._getTransformedByInsertOperation(n),[i]));gt(Pn,_t,(i,n)=>(i.position=i.position._getTransformedByMoveOperation(n),[i]));gt(Pn,Pt,(i,n)=>(i.position=i.position._getTransformedBySplitOperation(n),[i]));gt(Pn,Jt,(i,n)=>(i.position=i.position._getTransformedByMergeOperation(n),[i]));gt(Jn,Pn,(i,n)=>(i.oldRange&&(i.oldRange=i.oldRange._getTransformedByInsertOperation(n)[0]),i.newRange&&(i.newRange=i.newRange._getTransformedByInsertOperation(n)[0]),[i]));gt(Jn,Jn,(i,n,e)=>{if(i.name==n.name)if(e.aIsStrong)i.oldRange=n.newRange?n.newRange.clone():null;else return[new vn(0)];return[i]});gt(Jn,Jt,(i,n)=>(i.oldRange&&(i.oldRange=i.oldRange._getTransformedByMergeOperation(n)),i.newRange&&(i.newRange=i.newRange._getTransformedByMergeOperation(n)),[i]));gt(Jn,_t,(i,n)=>{const e=[i];if(i.oldRange&&(i.oldRange=ae._createFromRanges(i.oldRange._getTransformedByMoveOperation(n))),i.newRange){const t=i.newRange._getTransformedByMoveOperation(n);i.newRange=t[0];for(let r=1;r<t.length;r++){const o=i.clone();o.oldRange=null,o.newRange=t[r],o.baseVersion=-1,e.push(o)}}return e});gt(Jn,Pt,(i,n,e)=>{if(i.oldRange&&(i.oldRange=i.oldRange._getTransformedBySplitOperation(n)),i.newRange){if(e.abRelation){const t=i.newRange._getTransformedBySplitOperation(n);return i.newRange.start.isEqual(n.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?i.newRange.start=ve._createAt(n.insertionPosition):i.newRange.start.isEqual(n.splitPosition)&&!e.abRelation.wasInLeftElement?i.newRange.start=ve._createAt(n.moveTargetPosition):i.newRange.start=t.start,i.newRange.end.isEqual(n.splitPosition)&&e.abRelation.wasInRightElement?i.newRange.end=ve._createAt(n.moveTargetPosition):i.newRange.end.isEqual(n.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?i.newRange.end=ve._createAt(n.insertionPosition):i.newRange.end=t.end,[i]}i.newRange=i.newRange._getTransformedBySplitOperation(n)}return[i]});gt(Jt,Pn,(i,n)=>(i.sourcePosition.hasSameParentAs(n.position)&&(i.howMany+=n.howMany),i.sourcePosition=i.sourcePosition._getTransformedByInsertOperation(n),i.targetPosition=i.targetPosition._getTransformedByInsertOperation(n),[i]));gt(Jt,Jt,(i,n,e)=>{if(i.sourcePosition.isEqual(n.sourcePosition)&&i.targetPosition.isEqual(n.targetPosition))if(e.bWasUndone){const t=n.graveyardPosition.path.slice();return t.push(0),i.sourcePosition=new ve(n.graveyardPosition.root,t),i.howMany=0,[i]}else return[new vn(0)];if(i.sourcePosition.isEqual(n.sourcePosition)&&!i.targetPosition.isEqual(n.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){const t=i.targetPosition.root.rootName=="$graveyard",r=n.targetPosition.root.rootName=="$graveyard";if(r&&!t||!(t&&!r)&&e.aIsStrong){const u=n.targetPosition._getTransformedByMergeOperation(n),d=i.targetPosition._getTransformedByMergeOperation(n);return[new _t(u,i.howMany,d,0)]}else return[new vn(0)]}return i.sourcePosition.hasSameParentAs(n.targetPosition)&&(i.howMany+=n.howMany),i.sourcePosition=i.sourcePosition._getTransformedByMergeOperation(n),i.targetPosition=i.targetPosition._getTransformedByMergeOperation(n),(!i.graveyardPosition.isEqual(n.graveyardPosition)||!e.aIsStrong)&&(i.graveyardPosition=i.graveyardPosition._getTransformedByMergeOperation(n)),[i]});gt(Jt,_t,(i,n,e)=>{const t=ae._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!e.bWasUndone&&i.deletionPosition.hasSameParentAs(n.sourcePosition)&&t.containsPosition(i.sourcePosition)?[new vn(0)]:(n.sourcePosition.getShiftedBy(n.howMany).isEqual(i.sourcePosition)?i.sourcePosition.stickiness="toNone":n.targetPosition.isEqual(i.sourcePosition)&&e.abRelation=="mergeSourceAffected"?i.sourcePosition.stickiness="toNext":n.sourcePosition.isEqual(i.targetPosition)?(i.targetPosition.stickiness="toNone",i.howMany-=n.howMany):n.targetPosition.isEqual(i.targetPosition)&&e.abRelation=="mergeTargetWasBefore"?(i.targetPosition.stickiness="toPrevious",i.howMany+=n.howMany):(i.sourcePosition.hasSameParentAs(n.targetPosition)&&(i.howMany+=n.howMany),i.sourcePosition.hasSameParentAs(n.sourcePosition)&&(i.howMany-=n.howMany)),i.sourcePosition=i.sourcePosition._getTransformedByMoveOperation(n),i.targetPosition=i.targetPosition._getTransformedByMoveOperation(n),i.sourcePosition.stickiness="toPrevious",i.targetPosition.stickiness="toNext",i.graveyardPosition.isEqual(n.targetPosition)||(i.graveyardPosition=i.graveyardPosition._getTransformedByMoveOperation(n)),[i])});gt(Jt,Pt,(i,n,e)=>{if(n.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),i.deletionPosition.isEqual(n.graveyardPosition)&&(i.howMany=n.howMany)),i.targetPosition.isEqual(n.splitPosition)&&(n.graveyardPosition&&i.deletionPosition.isEqual(n.graveyardPosition)||e.abRelation=="mergeTargetNotMoved"))return i.sourcePosition=i.sourcePosition._getTransformedBySplitOperation(n),[i];if(i.sourcePosition.isEqual(n.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return i.howMany=0,i.targetPosition=i.targetPosition._getTransformedBySplitOperation(n),[i];if(e.abRelation=="mergeSameElement"||i.sourcePosition.offset>0)return i.sourcePosition=n.moveTargetPosition.clone(),i.targetPosition=i.targetPosition._getTransformedBySplitOperation(n),[i]}return i.sourcePosition.hasSameParentAs(n.splitPosition)&&(i.howMany=n.splitPosition.offset),i.sourcePosition=i.sourcePosition._getTransformedBySplitOperation(n),i.targetPosition=i.targetPosition._getTransformedBySplitOperation(n),[i]});gt(_t,Pn,(i,n)=>{const t=ae._createFromPositionAndShift(i.sourcePosition,i.howMany)._getTransformedByInsertOperation(n,!1)[0];return i.sourcePosition=t.start,i.howMany=t.end.offset-t.start.offset,i.targetPosition.isEqual(n.position)||(i.targetPosition=i.targetPosition._getTransformedByInsertOperation(n)),[i]});gt(_t,_t,(i,n,e)=>{const t=ae._createFromPositionAndShift(i.sourcePosition,i.howMany),r=ae._createFromPositionAndShift(n.sourcePosition,n.howMany);let o=e.aIsStrong,s=!e.aIsStrong;e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?s=!0:(e.abRelation=="insertAfter"||e.baRelation=="insertBefore")&&(s=!1);let l;if(i.targetPosition.isEqual(n.targetPosition)&&s?l=i.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):l=i.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Ug(i,n)&&Ug(n,i))return[n.getReversed()];if(t.containsPosition(n.targetPosition)&&t.containsRange(r,!0))return t.start=t.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),t.end=t.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Ea([t],l);if(r.containsPosition(i.targetPosition)&&r.containsRange(t,!0))return t.start=t.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),t.end=t.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),Ea([t],l);const f=Yn(i.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(f=="prefix"||f=="extension")return t.start=t.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),t.end=t.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),Ea([t],l);i.type=="remove"&&n.type!="remove"&&!e.aWasUndone&&!e.forceWeakRemove?o=!0:i.type!="remove"&&n.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&(o=!1);const p=[],b=t.getDifference(r);for(const x of b){x.start=x.start._getTransformedByDeletion(n.sourcePosition,n.howMany),x.end=x.end._getTransformedByDeletion(n.sourcePosition,n.howMany);const L=Yn(x.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",j=x._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,L);p.push(...j)}const v=t.getIntersection(r);return v!==null&&o&&(v.start=v.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),v.end=v.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),p.length===0?p.push(v):p.length==1?r.start.isBefore(t.start)||r.start.isEqual(t.start)?p.unshift(v):p.push(v):p.splice(1,0,v)),p.length===0?[new vn(i.baseVersion)]:Ea(p,l)});gt(_t,Pt,(i,n,e)=>{let t=i.targetPosition.clone();(!i.targetPosition.isEqual(n.insertionPosition)||!n.graveyardPosition||e.abRelation=="moveTargetAfter")&&(t=i.targetPosition._getTransformedBySplitOperation(n));const r=ae._createFromPositionAndShift(i.sourcePosition,i.howMany);if(r.end.isEqual(n.insertionPosition))return n.graveyardPosition||i.howMany++,i.targetPosition=t,[i];if(r.start.hasSameParentAs(n.splitPosition)&&r.containsPosition(n.splitPosition)){let l=new ae(n.splitPosition,r.end);l=l._getTransformedBySplitOperation(n);const u=[new ae(r.start,n.splitPosition),l];return Ea(u,t)}i.targetPosition.isEqual(n.splitPosition)&&e.abRelation=="insertAtSource"&&(t=n.moveTargetPosition),i.targetPosition.isEqual(n.insertionPosition)&&e.abRelation=="insertBetween"&&(t=i.targetPosition);const s=[r._getTransformedBySplitOperation(n)];if(n.graveyardPosition){const l=r.start.isEqual(n.graveyardPosition)||r.containsPosition(n.graveyardPosition);i.howMany>1&&l&&!e.aWasUndone&&s.push(ae._createFromPositionAndShift(n.insertionPosition,1))}return Ea(s,t)});gt(_t,Jt,(i,n,e)=>{const t=ae._createFromPositionAndShift(i.sourcePosition,i.howMany);if(n.deletionPosition.hasSameParentAs(i.sourcePosition)&&t.containsPosition(n.sourcePosition)){if(i.type=="remove"&&!e.forceWeakRemove){if(!e.aWasUndone){const s=[];let l=n.graveyardPosition.clone(),u=n.targetPosition._getTransformedByMergeOperation(n);const d=i.targetPosition.getTransformedByOperation(n);i.howMany>1&&(s.push(new _t(i.sourcePosition,i.howMany-1,d,0)),l=l._getTransformedByMove(i.sourcePosition,d,i.howMany-1),u=u._getTransformedByMove(i.sourcePosition,d,i.howMany-1));const f=n.deletionPosition._getCombined(i.sourcePosition,d),p=new _t(l,1,f,0),b=p.getMovedRangeStart().path.slice();b.push(0);const v=new ve(p.targetPosition.root,b);u=u._getTransformedByMove(l,f,1);const x=new _t(u,n.howMany,v,0);return s.push(p),s.push(x),s}}else if(i.howMany==1)return e.bWasUndone?(i.sourcePosition=n.graveyardPosition.clone(),i.targetPosition=i.targetPosition._getTransformedByMergeOperation(n),[i]):[new vn(0)]}const o=ae._createFromPositionAndShift(i.sourcePosition,i.howMany)._getTransformedByMergeOperation(n);return i.sourcePosition=o.start,i.howMany=o.end.offset-o.start.offset,i.targetPosition=i.targetPosition._getTransformedByMergeOperation(n),[i]});gt(ar,Pn,(i,n)=>(i.position=i.position._getTransformedByInsertOperation(n),[i]));gt(ar,Jt,(i,n)=>i.position.isEqual(n.deletionPosition)?(i.position=n.graveyardPosition.clone(),i.position.stickiness="toNext",[i]):(i.position=i.position._getTransformedByMergeOperation(n),[i]));gt(ar,_t,(i,n)=>(i.position=i.position._getTransformedByMoveOperation(n),[i]));gt(ar,ar,(i,n,e)=>{if(i.position.isEqual(n.position))if(e.aIsStrong)i.oldName=n.newName;else return[new vn(0)];return[i]});gt(ar,Pt,(i,n)=>{const e=i.position.path,t=n.splitPosition.getParentPath();if(Yn(e,t)=="same"&&!n.graveyardPosition){const r=new ar(i.position.getShiftedBy(1),i.oldName,i.newName,0);return[i,r]}return i.position=i.position._getTransformedBySplitOperation(n),[i]});gt(Yi,Yi,(i,n,e)=>{if(i.root===n.root&&i.key===n.key){if(!e.aIsStrong||i.newValue===n.newValue)return[new vn(0)];i.oldValue=n.newValue}return[i]});gt(xi,xi,(i,n)=>i.rootName===n.rootName&&i.isAdd===n.isAdd?[new vn(0)]:[i]);gt(Pt,Pn,(i,n)=>(i.splitPosition.hasSameParentAs(n.position)&&i.splitPosition.offset<n.position.offset&&(i.howMany+=n.howMany),i.splitPosition=i.splitPosition._getTransformedByInsertOperation(n),i.insertionPosition=i.insertionPosition._getTransformedByInsertOperation(n),[i]));gt(Pt,Jt,(i,n,e)=>{if(!i.graveyardPosition&&!e.bWasUndone&&i.splitPosition.hasSameParentAs(n.sourcePosition)){const t=n.graveyardPosition.path.slice();t.push(0);const r=new ve(n.graveyardPosition.root,t),o=Pt.getInsertionPosition(new ve(n.graveyardPosition.root,t)),s=new Pt(r,0,o,null,0);return i.splitPosition=i.splitPosition._getTransformedByMergeOperation(n),i.insertionPosition=Pt.getInsertionPosition(i.splitPosition),i.graveyardPosition=s.insertionPosition.clone(),i.graveyardPosition.stickiness="toNext",[s,i]}return i.splitPosition.hasSameParentAs(n.deletionPosition)&&!i.splitPosition.isAfter(n.deletionPosition)&&i.howMany--,i.splitPosition.hasSameParentAs(n.targetPosition)&&(i.howMany+=n.howMany),i.splitPosition=i.splitPosition._getTransformedByMergeOperation(n),i.insertionPosition=Pt.getInsertionPosition(i.splitPosition),i.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedByMergeOperation(n)),[i]});gt(Pt,_t,(i,n,e)=>{const t=ae._createFromPositionAndShift(n.sourcePosition,n.howMany);if(i.graveyardPosition){const o=t.start.isEqual(i.graveyardPosition)||t.containsPosition(i.graveyardPosition);if(!e.bWasUndone&&o){const s=i.splitPosition._getTransformedByMoveOperation(n),l=i.graveyardPosition._getTransformedByMoveOperation(n),u=l.path.slice();u.push(0);const d=new ve(l.root,u);return[new _t(s,i.howMany,d,0)]}i.graveyardPosition=i.graveyardPosition._getTransformedByMoveOperation(n)}const r=i.splitPosition.isEqual(n.targetPosition);if(r&&(e.baRelation=="insertAtSource"||e.abRelation=="splitBefore"))return i.howMany+=n.howMany,i.splitPosition=i.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),i.insertionPosition=Pt.getInsertionPosition(i.splitPosition),[i];if(r&&e.abRelation&&e.abRelation.howMany){const{howMany:o,offset:s}=e.abRelation;return i.howMany+=o,i.splitPosition=i.splitPosition.getShiftedBy(s),[i]}if(i.splitPosition.hasSameParentAs(n.sourcePosition)&&t.containsPosition(i.splitPosition)){const o=n.howMany-(i.splitPosition.offset-n.sourcePosition.offset);return i.howMany-=o,i.splitPosition.hasSameParentAs(n.targetPosition)&&i.splitPosition.offset<n.targetPosition.offset&&(i.howMany+=n.howMany),i.splitPosition=n.sourcePosition.clone(),i.insertionPosition=Pt.getInsertionPosition(i.splitPosition),[i]}return n.sourcePosition.isEqual(n.targetPosition)||(i.splitPosition.hasSameParentAs(n.sourcePosition)&&i.splitPosition.offset<=n.sourcePosition.offset&&(i.howMany-=n.howMany),i.splitPosition.hasSameParentAs(n.targetPosition)&&i.splitPosition.offset<n.targetPosition.offset&&(i.howMany+=n.howMany)),i.splitPosition.stickiness="toNone",i.splitPosition=i.splitPosition._getTransformedByMoveOperation(n),i.splitPosition.stickiness="toNext",i.graveyardPosition?i.insertionPosition=i.insertionPosition._getTransformedByMoveOperation(n):i.insertionPosition=Pt.getInsertionPosition(i.splitPosition),[i]});gt(Pt,Pt,(i,n,e)=>{if(i.splitPosition.isEqual(n.splitPosition)){if(!i.graveyardPosition&&!n.graveyardPosition)return[new vn(0)];if(i.graveyardPosition&&n.graveyardPosition&&i.graveyardPosition.isEqual(n.graveyardPosition))return[new vn(0)];if(e.abRelation=="splitBefore")return i.howMany=0,i.graveyardPosition=i.graveyardPosition._getTransformedBySplitOperation(n),[i]}if(i.graveyardPosition&&n.graveyardPosition&&i.graveyardPosition.isEqual(n.graveyardPosition)){const t=i.splitPosition.root.rootName=="$graveyard",r=n.splitPosition.root.rootName=="$graveyard";if(r&&!t||!(t&&!r)&&e.aIsStrong){const u=[];return n.howMany&&u.push(new _t(n.moveTargetPosition,n.howMany,n.splitPosition,0)),i.howMany&&u.push(new _t(i.splitPosition,i.howMany,i.moveTargetPosition,0)),u}else return[new vn(0)]}if(i.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedBySplitOperation(n)),i.splitPosition.isEqual(n.insertionPosition)&&e.abRelation=="splitBefore")return i.howMany++,[i];if(n.splitPosition.isEqual(i.insertionPosition)&&e.baRelation=="splitBefore"){const t=n.insertionPosition.path.slice();t.push(0);const r=new ve(n.insertionPosition.root,t),o=new _t(i.insertionPosition,1,r,0);return[i,o]}return i.splitPosition.hasSameParentAs(n.splitPosition)&&i.splitPosition.offset<n.splitPosition.offset&&(i.howMany-=n.howMany),i.splitPosition=i.splitPosition._getTransformedBySplitOperation(n),i.insertionPosition=Pt.getInsertionPosition(i.splitPosition),[i]});function Ug(i,n){return i.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function Ea(i,n){const e=[];for(let t=0;t<i.length;t++){const r=i[t],o=new _t(r.start,r.end.offset-r.start.offset,n,0);e.push(o);for(let s=t+1;s<i.length;s++)i[s]=i[s]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];n=n._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return e}class sr extends At(ve){constructor(n,e,t="toNone"){if(super(n,e,t),!this.root.is("rootElement"))throw new Z("model-liveposition-root-not-rootelement",n);nS.call(this)}detach(){this.stopListening()}toPosition(){return new ve(this.root,this.path.slice(),this.stickiness)}static fromPosition(n,e){return new this(n.root,n.path.slice(),e||n.stickiness)}}sr.prototype.is=function(i){return i==="livePosition"||i==="model:livePosition"||i=="position"||i==="model:position"};function nS(){this.listenTo(this.root.document.model,"applyOperation",(i,n)=>{const e=n[0];e.isDocumentOperation&&rS.call(this,e)},{priority:"low"})}function rS(i){const n=this.getTransformedByOperation(i);if(!this.isEqual(n)){const e=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",e)}}class fa{constructor(n={}){g(this,"operations");g(this,"isUndoable");g(this,"isLocal");g(this,"isUndo");g(this,"isTyping");typeof n=="string"&&(n=n==="transparent"?{isUndoable:!1}:{},Zt("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:t=!0,isUndo:r=!1,isTyping:o=!1}=n;this.operations=[],this.isUndoable=e,this.isLocal=t,this.isUndo=r,this.isTyping=o}get type(){return Zt("batch-type-deprecated"),"default"}get baseVersion(){for(const n of this.operations)if(n.baseVersion!==null)return n.baseVersion;return null}addOperation(n){return n.batch=this,this.operations.push(n),n}}const Ml=class Ml{constructor(n){g(this,"_markerCollection");g(this,"_changesInElement",new Map);g(this,"_elementsSnapshots",new Map);g(this,"_elementChildrenSnapshots",new Map);g(this,"_elementState",new Map);g(this,"_changedMarkers",new Map);g(this,"_changedRoots",new Map);g(this,"_changeCount",0);g(this,"_cachedChanges",null);g(this,"_cachedChangesWithGraveyard",null);g(this,"_refreshedItems",new Set);this._markerCollection=n}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(n){const e=n;switch(e.type){case"insert":{if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const t of e.range.getItems({shallow:!0}))this._isInInsertedElement(t.parent)||this._markAttribute(t);break}case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const t=this._isInInsertedElement(e.sourcePosition.parent),r=this._isInInsertedElement(e.targetPosition.parent);t||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),r||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);const o=ae._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const s of o.getItems({shallow:!0}))this._setElementState(s,"move");break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const t=ae._createFromPositionAndShift(e.position,1);for(const r of this._markerCollection.getMarkersIntersectingRange(t)){const o=r.getData();this.bufferMarkerChange(r.name,o,o)}this._setElementState(e.position.nodeAfter,"rename");break}case"split":{const t=e.splitPosition.parent;if(!this._isInInsertedElement(t)){this._markRemove(t,e.splitPosition.offset,e.howMany);const r=ae._createFromPositionAndShift(e.splitPosition,e.howMany);for(const o of r.getItems({shallow:!0}))this._setElementState(o,"move")}this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&(this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1),this._setElementState(e.graveyardPosition.nodeAfter,"move"));break}case"merge":{const t=e.sourcePosition.parent;this._isInInsertedElement(t.parent)||this._markRemove(t.parent,t.startOffset,1);const r=e.graveyardPosition.parent;this._markInsert(r,e.graveyardPosition.offset,1),this._setElementState(t,"move");const o=e.targetPosition.parent;if(!this._isInInsertedElement(o)){this._markInsert(o,e.targetPosition.offset,t.maxOffset);const s=ae._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const l of s.getItems({shallow:!0}))this._setElementState(l,"move")}break}case"detachRoot":case"addRoot":{const t=e.affectedSelectable;if(!t._isLoaded||t.isAttached()==e.isAdd)return;this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!e.root._isLoaded)return;const t=e.root.rootName;this._bufferRootAttributeChange(t,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(n,e,t){e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null),t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null);let r=this._changedMarkers.get(n);r?r.newMarkerData=t:(r={newMarkerData:t,oldMarkerData:e},this._changedMarkers.set(n,r)),r.oldMarkerData.range==null&&t.range==null&&this._changedMarkers.delete(n)}getMarkersToRemove(){const n=[];for(const[e,t]of this._changedMarkers)t.oldMarkerData.range!=null&&n.push({name:e,range:t.oldMarkerData.range});return n}getMarkersToAdd(){const n=[];for(const[e,t]of this._changedMarkers)t.newMarkerData.range!=null&&n.push({name:e,range:t.newMarkerData.range});return n}getChangedMarkers(){return Array.from(this._changedMarkers).map(([n,e])=>({name:n,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:n,oldMarkerData:e}of this._changedMarkers.values()){if(n.affectsData!==e.affectsData)return!0;if(n.affectsData){const t=n.range&&!e.range,r=!n.range&&e.range,o=n.range&&e.range&&!n.range.isEqual(e.range);if(t||r||o)return!0}}return!1}getChanges(n={}){if(this._cachedChanges)return n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const t of this._changesInElement.keys()){const r=this._changesInElement.get(t).sort((f,p)=>f.offset===p.offset?f.type!=p.type?f.type=="remove"?-1:1:0:f.offset<p.offset?-1:1),o=this._elementChildrenSnapshots.get(t),s=Kg(t.getChildren()),l=iS(o.length,r);let u=0,d=0;for(const f of l)if(f==="i"){const p=this._getDiffActionForNode(s[u].node,"insert"),b=this._elementsSnapshots.get(s[u].node),v=this._getInsertDiff(t,u,p,s[u],b);e.push(v),u++}else if(f==="r"){const p=this._getDiffActionForNode(o[d].node,"remove"),b=this._getRemoveDiff(t,u,p,o[d]);e.push(b),d++}else if(f==="a"){const p=o[d].attributes,b=s[u].attributes;let v;if(s[u].name=="$text")v=new ae(ve._createAt(t,u),ve._createAt(t,u+1));else{const L=t.offsetToIndex(u);v=new ae(ve._createAt(t,u),ve._createAt(t.getChild(L),0))}const x=this._getAttributesDiff(v,p,b);e.push(...x),u++,d++}else u++,d++}e.sort((t,r)=>t.position.root!=r.position.root?t.position.root.rootName<r.position.root.rootName?-1:1:t.position.isEqual(r.position)?t.changeCount-r.changeCount:t.position.isBefore(r.position)?-1:1);for(let t=1,r=0;t<e.length;t++){const o=e[r],s=e[t],l=o.type=="remove"&&s.type=="remove"&&o.name=="$text"&&s.name=="$text"&&o.position.isEqual(s.position),u=o.type=="insert"&&s.type=="insert"&&o.name=="$text"&&s.name=="$text"&&o.position.parent==s.position.parent&&o.position.offset+o.length==s.position.offset,d=o.type=="attribute"&&s.type=="attribute"&&o.position.parent==s.position.parent&&o.range.isFlat&&s.range.isFlat&&o.position.offset+o.length==s.position.offset&&o.attributeKey==s.attributeKey&&o.attributeOldValue==s.attributeOldValue&&o.attributeNewValue==s.attributeNewValue;l||u||d?(o.length++,d&&(o.range.end=o.range.end.getShiftedBy(1)),e[t]=null):r=t}e=e.filter(t=>t);for(const t of e)delete t.changeCount,t.type=="attribute"&&(delete t.position,delete t.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(oS),n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(n=>{const e={...n};return e.state!==void 0&&delete e.attributes,e})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(n){if(this._isInInsertedElement(n.parent))return;this._markRemove(n.parent,n.startOffset,n.offsetSize),this._markInsert(n.parent,n.startOffset,n.offsetSize),this._refreshedItems.add(n),this._setElementState(n,"refresh");const e=ae._createOn(n);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const r=t.getData();this.bufferMarkerChange(t.name,r,r)}this._cachedChanges=null}_bufferRootLoad(n){if(n.isAttached()){this._bufferRootStateChange(n.rootName,!0),this._markInsert(n,0,n.maxOffset);for(const e of n.getAttributeKeys())this._bufferRootAttributeChange(n.rootName,e,null,n.getAttribute(e));for(const e of this._markerCollection)if(e.getRange().root==n){const t=e.getData();this.bufferMarkerChange(e.name,{...t,range:null},t)}}}_bufferRootStateChange(n,e){if(!this._changedRoots.has(n)){this._changedRoots.set(n,{name:n,state:e?"attached":"detached"});return}const t=this._changedRoots.get(n);t.state!==void 0?(delete t.state,t.attributes===void 0&&this._changedRoots.delete(n)):t.state=e?"attached":"detached"}_bufferRootAttributeChange(n,e,t,r){const o=this._changedRoots.get(n)||{name:n},s=o.attributes||{};if(s[e]){const l=s[e];r===l.oldValue?delete s[e]:l.newValue=r}else s[e]={oldValue:t,newValue:r};Object.entries(s).length===0?(delete o.attributes,o.state===void 0&&this._changedRoots.delete(n)):(o.attributes=s,this._changedRoots.set(n,o))}_markInsert(n,e,t){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const r={type:"insert",offset:e,howMany:t,count:this._changeCount++};this._markChange(n,r)}_markRemove(n,e,t){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const r={type:"remove",offset:e,howMany:t,count:this._changeCount++};this._markChange(n,r),this._removeAllNestedChanges(n,e,t)}_markAttribute(n){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const e={type:"attribute",offset:n.startOffset,howMany:n.offsetSize,count:this._changeCount++};this._markChange(n.parent,e)}_markChange(n,e){this._makeSnapshots(n);const t=this._getChangesForElement(n);this._handleChange(e,t),t.push(e);for(let r=0;r<t.length;r++)t[r].howMany<1&&(t.splice(r,1),r--)}_setElementState(n,e){if(!n.is("element"))return;const t=Ml._statesPriority.indexOf(this._elementState.get(n));Ml._statesPriority.indexOf(e)>t&&this._elementState.set(n,e)}_getDiffActionForNode(n,e){if(!n.is("element")||!this._elementsSnapshots.has(n))return e;const t=this._elementState.get(n);return!t||t=="move"?e:t}_getChangesForElement(n){let e;return this._changesInElement.has(n)?e=this._changesInElement.get(n):(e=[],this._changesInElement.set(n,e)),e}_makeSnapshots(n){if(this._elementChildrenSnapshots.has(n))return;const e=Kg(n.getChildren());this._elementChildrenSnapshots.set(n,e);for(const t of e)this._elementsSnapshots.set(t.node,t)}_handleChange(n,e){n.nodesToHandle=n.howMany;for(const t of e){const r=n.offset+n.howMany,o=t.offset+t.howMany;if(n.type=="insert"&&(t.type=="insert"&&(n.offset<=t.offset?t.offset+=n.howMany:n.offset<o&&(t.howMany+=n.nodesToHandle,n.nodesToHandle=0)),t.type=="remove"&&n.offset<t.offset&&(t.offset+=n.howMany),t.type=="attribute")){if(n.offset<=t.offset)t.offset+=n.howMany;else if(n.offset<o){const s=t.howMany;t.howMany=n.offset-t.offset,e.unshift({type:"attribute",offset:r,howMany:s-t.howMany,count:this._changeCount++})}}if(n.type=="remove"){if(t.type=="insert"){if(r<=t.offset)t.offset-=n.howMany;else if(r<=o)if(n.offset<t.offset){const s=r-t.offset;t.offset=n.offset,t.howMany-=s,n.nodesToHandle-=s}else t.howMany-=n.nodesToHandle,n.nodesToHandle=0;else if(n.offset<=t.offset)n.nodesToHandle-=t.howMany,t.howMany=0;else if(n.offset<o){const s=o-n.offset;t.howMany-=s,n.nodesToHandle-=s}}if(t.type=="remove"&&(r<=t.offset?t.offset-=n.howMany:n.offset<t.offset&&(n.nodesToHandle+=t.howMany,t.howMany=0)),t.type=="attribute"){if(r<=t.offset)t.offset-=n.howMany;else if(n.offset<t.offset){const s=r-t.offset;t.offset=n.offset,t.howMany-=s}else if(n.offset<o)if(r<=o){const s=t.howMany;t.howMany=n.offset-t.offset;const l=s-t.howMany-n.nodesToHandle;e.unshift({type:"attribute",offset:n.offset,howMany:l,count:this._changeCount++})}else t.howMany-=o-n.offset}}if(n.type=="attribute"){if(t.type=="insert")if(n.offset<t.offset&&r>t.offset){if(r>o){const s={type:"attribute",offset:o,howMany:r-o,count:this._changeCount++};this._handleChange(s,e),e.push(s)}n.nodesToHandle=t.offset-n.offset,n.howMany=n.nodesToHandle}else n.offset>=t.offset&&n.offset<o&&(r>o?(n.nodesToHandle=r-o,n.offset=o):n.nodesToHandle=0);if(t.type=="remove"&&n.offset<t.offset&&r>t.offset){const s={type:"attribute",offset:t.offset,howMany:r-t.offset,count:this._changeCount++};this._handleChange(s,e),e.push(s),n.nodesToHandle=t.offset-n.offset,n.howMany=n.nodesToHandle}t.type=="attribute"&&(n.offset>=t.offset&&r<=o?(n.nodesToHandle=0,n.howMany=0,n.offset=0):n.offset<=t.offset&&r>=o&&(t.howMany=0))}}n.howMany=n.nodesToHandle,delete n.nodesToHandle}_getInsertDiff(n,e,t,r,o){const s={type:"insert",position:ve._createAt(n,e),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++,action:t};return t!="insert"&&o&&(s.before={name:o.name,attributes:new Map(o.attributes)}),s}_getRemoveDiff(n,e,t,r){return{type:"remove",action:t,position:ve._createAt(n,e),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(n,e,t){const r=[];t=new Map(t);for(const[o,s]of e){const l=t.has(o)?t.get(o):null;l!==s&&r.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:o,attributeOldValue:s,attributeNewValue:l,changeCount:this._changeCount++}),t.delete(o)}for(const[o,s]of t)r.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:o,attributeOldValue:null,attributeNewValue:s,changeCount:this._changeCount++});return r}_isInInsertedElement(n){const e=n.parent;if(!e)return!1;const t=this._changesInElement.get(e),r=n.startOffset;if(t){for(const o of t)if(o.type=="insert"&&r>=o.offset&&r<o.offset+o.howMany)return!0}return this._isInInsertedElement(e)}_removeAllNestedChanges(n,e,t){const r=new ae(ve._createAt(n,e),ve._createAt(n,e+t));for(const o of r.getItems({shallow:!0}))o.is("element")&&(this._changesInElement.delete(o),this._removeAllNestedChanges(o,0,o.maxOffset))}};g(Ml,"_statesPriority",[void 0,"refresh","rename","move"]);let tf=Ml;function qg(i){return{node:i,name:i.is("$text")?"$text":i.name,attributes:new Map(i.getAttributes())}}function Kg(i){const n=[];for(const e of i)if(e.is("$text"))for(let t=0;t<e.data.length;++t)n.push(qg(e));else n.push(qg(e));return n}function iS(i,n){const e=[];let t=0,r=0;for(const o of n){if(o.offset>t){for(let s=0;s<o.offset-t;s++)e.push("e");r+=o.offset-t}if(o.type=="insert"){for(let s=0;s<o.howMany;s++)e.push("i");t=o.offset+o.howMany}else if(o.type=="remove"){for(let s=0;s<o.howMany;s++)e.push("r");t=o.offset,r+=o.howMany}else{if(o.howMany>1500)for(let s=0;s<o.howMany;s++)e.push("a");else e.push(..."a".repeat(o.howMany).split(""));t=o.offset+o.howMany,r+=o.howMany}}if(r<i)for(let o=0;o<i-r-t;o++)e.push("e");return e}function oS(i){const n="position"in i&&i.position.root.rootName=="$graveyard",e="range"in i&&i.range.root.rootName=="$graveyard";return!n&&!e}class sS{constructor(){g(this,"_operations",[]);g(this,"_undoPairs",new Map);g(this,"_undoneOperations",new Set);g(this,"_baseVersionToOperationIndex",new Map);g(this,"_version",0);g(this,"_gaps",new Map)}get version(){return this._version}set version(n){this._operations.length&&n>this._version+1&&this._gaps.set(this._version,n),this._version=n}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(n){if(n.baseVersion!==this.version)throw new Z("model-document-history-addoperation-incorrect-version",this,{operation:n,historyVersion:this.version});this._operations.push(n),this._version++,this._baseVersionToOperationIndex.set(n.baseVersion,this._operations.length-1)}getOperations(n,e=this.version){if(!this._operations.length)return[];const t=this._operations[0];n===void 0&&(n=t.baseVersion);let r=e-1;for(const[l,u]of this._gaps)n>l&&n<u&&(n=u),r>l&&r<u&&(r=l-1);if(r<t.baseVersion||n>this.lastOperation.baseVersion)return[];let o=this._baseVersionToOperationIndex.get(n);o===void 0&&(o=0);let s=this._baseVersionToOperationIndex.get(r);return s===void 0&&(s=this._operations.length-1),this._operations.slice(o,s+1)}getOperation(n){const e=this._baseVersionToOperationIndex.get(n);if(e!==void 0)return this._operations[e]}setOperationAsUndone(n,e){this._undoPairs.set(e,n),this._undoneOperations.add(n)}isUndoingOperation(n){return this._undoPairs.has(n)}isUndoneOperation(n){return this._undoneOperations.has(n)}getUndoneOperation(n){return this._undoPairs.get(n)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Fu extends Wt{constructor(e,t,r="main"){super(t);g(this,"rootName");g(this,"_document");g(this,"_isAttached",!0);g(this,"_isLoaded",!0);this._document=e,this.rootName=r}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Fu.prototype.is=function(i,n){return n?n===this.name&&(i==="rootElement"||i==="model:rootElement"||i==="element"||i==="model:element"):i==="rootElement"||i==="model:rootElement"||i==="element"||i==="model:element"||i==="node"||i==="model:node"};const Gg="$graveyard";class aS extends At(){constructor(e){super();g(this,"model");g(this,"history");g(this,"selection");g(this,"roots");g(this,"differ");g(this,"isReadOnly");g(this,"_postFixers");g(this,"_hasSelectionChangedFromTheLastChangeBlock");this.model=e,this.history=new sS,this.selection=new ii(this),this.roots=new Ko({idProperty:"rootName"}),this.differ=new tf(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Gg),this.listenTo(e,"applyOperation",(t,r)=>{const o=r[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,r)=>{const o=r[0];o.isDocumentOperation&&this.history.addOperation(o)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,r,o,s,l)=>{const u={...r.getData(),range:s};this.differ.bufferMarkerChange(r.name,l,u),o===null&&r.on("change",(d,f)=>{const p=r.getData();this.differ.bufferMarkerChange(r.name,{...p,range:f},p)})}),this.registerPostFixer(t=>{let r=!1;for(const o of this.roots)!o.isAttached()&&!o.isEmpty&&(t.remove(t.createRangeIn(o)),r=!0);for(const o of this.model.markers)o.getRange().root.isAttached()||(t.removeMarker(o),r=!0);return r})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Gg)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new Z("model-document-createroot-name-exists",this,{name:t});const r=new Fu(this,e,t);return this.roots.add(r),r}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=S1(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,r=t.schema,o=t.createPositionFromPath(e,[0]);return r.getNearestSelectionRange(o)||t.createRange(o)}_validateSelectionRange(e){return Zg(e.start)&&Zg(e.end)}_callPostFixers(e){let t=!1;do for(const r of this._postFixers)if(this.selection.refresh(),t=r(e),t)break;while(t)}}function Zg(i){const n=i.textNode;if(n){const e=n.data,t=i.offset-n.startOffset;return!Rf(e,t)&&!If(e,t)}return!0}class lS extends At(){constructor(){super(...arguments);g(this,"_markers",new Map)}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof ya?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,r=!1,o=!1){const s=e instanceof ya?e.name:e;if(s.includes(","))throw new Z("markercollection-incorrect-marker-name",this);const l=this._markers.get(s);if(l){const f=l.getData(),p=l.getRange();let b=!1;return p.isEqual(t)||(l._attachLiveRange(Wr.fromRange(t)),b=!0),r!=l.managedUsingOperations&&(l._managedUsingOperations=r,b=!0),typeof o=="boolean"&&o!=l.affectsData&&(l._affectsData=o,b=!0),b&&this.fire(`update:${s}`,l,p,t,f),l}const u=Wr.fromRange(t),d=new ya(s,u,r,o);return this._markers.set(s,d),this.fire(`update:${s}`,d,null,t,{...d.getData(),range:null}),d}_remove(e){const t=e instanceof ya?e.name:e,r=this._markers.get(t);return r?(this._markers.delete(t),this.fire(`update:${t}`,r,r.getRange(),null,r.getData()),this._destroyMarker(r),!0):!1}_refresh(e){const t=e instanceof ya?e.name:e,r=this._markers.get(t);if(!r)throw new Z("markercollection-refresh-marker-not-exists",this);const o=r.getRange();this.fire(`update:${t}`,r,o,o,r.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class ya extends At(Yo){constructor(e,t,r,o){super();g(this,"name");g(this,"_managedUsingOperations");g(this,"_affectsData");g(this,"_liveRange");this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=r,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new Z("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new Z("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new Z("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new Z("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new Z("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}ya.prototype.is=function(i){return i==="marker"||i==="model:marker"};class cS extends Cr{constructor(e,t){super(null);g(this,"sourcePosition");g(this,"howMany");this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new Z("detach-operation-on-document-node",this)}_execute(){Fb(ae._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Gi extends Yo{constructor(e){super();g(this,"markers",new Map);g(this,"_children",new Sl);e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const r of e)t=t.getChild(t.offsetToIndex(r));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const r of e)r.name?t.push(Wt.fromJSON(r)):t.push(St.fromJSON(r));return new Gi(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const r=uS(t);for(const o of r)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,t=1){const r=this._children._removeNodes(e,t);for(const o of r)o.parent=null;return r}}Gi.prototype.is=function(i){return i==="documentFragment"||i==="model:documentFragment"};function uS(i){return typeof i=="string"?[new St(i)]:(xr(i)||(i=[i]),Array.from(i).map(n=>typeof n=="string"?new St(n):n instanceof ni?new St(n.data,n.getAttributes()):n))}class dS{constructor(n,e){g(this,"model");g(this,"batch");this.model=n,this.batch=e}createText(n,e){return new St(n,e)}createElement(n,e){return new Wt(n,e)}createDocumentFragment(){return new Gi}cloneElement(n,e=!0){return n._clone(e)}insert(n,e,t=0){if(this._assertWriterUsedCorrectly(),n instanceof St&&n.data=="")return;const r=ve._createAt(e,t);if(n.parent)if(Qg(n.root,r.root)){this.move(ae._createOn(n),r);return}else{if(n.root.document)throw new Z("model-writer-insert-forbidden-move",this);this.remove(n)}const o=r.root.document?r.root.document.version:null,s=new Pn(r,n,o);if(n instanceof St&&(s.shouldReceiveAttributes=!0),this.batch.addOperation(s),this.model.applyOperation(s),n instanceof Gi)for(const[l,u]of n.markers){const d=ve._createAt(u.root,0),p={range:new ae(u.start._getCombined(d,r),u.end._getCombined(d,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,p):this.addMarker(l,p)}}insertText(n,e,t,r){e instanceof Gi||e instanceof Wt||e instanceof ve?this.insert(this.createText(n),e,t):this.insert(this.createText(n,e),t,r)}insertElement(n,e,t,r){e instanceof Gi||e instanceof Wt||e instanceof ve?this.insert(this.createElement(n),e,t):this.insert(this.createElement(n,e),t,r)}append(n,e){this.insert(n,e,"end")}appendText(n,e,t){e instanceof Gi||e instanceof Wt?this.insert(this.createText(n),e,"end"):this.insert(this.createText(n,e),t,"end")}appendElement(n,e,t){e instanceof Gi||e instanceof Wt?this.insert(this.createElement(n),e,"end"):this.insert(this.createElement(n,e),t,"end")}setAttribute(n,e,t){if(this._assertWriterUsedCorrectly(),t instanceof ae){const r=t.getMinimalFlatRanges();for(const o of r)Yg(this,n,e,o)}else Jg(this,n,e,t)}setAttributes(n,e){for(const[t,r]of Rs(n))this.setAttribute(t,r,e)}removeAttribute(n,e){if(this._assertWriterUsedCorrectly(),e instanceof ae){const t=e.getMinimalFlatRanges();for(const r of t)Yg(this,n,null,r)}else Jg(this,n,null,e)}clearAttributes(n){this._assertWriterUsedCorrectly();const e=t=>{for(const r of t.getAttributeKeys())this.removeAttribute(r,t)};if(!(n instanceof ae))e(n);else for(const t of n.getItems())e(t)}move(n,e,t){if(this._assertWriterUsedCorrectly(),!(n instanceof ae))throw new Z("writer-move-invalid-range",this);if(!n.isFlat)throw new Z("writer-move-range-not-flat",this);const r=ve._createAt(e,t);if(r.isEqual(n.start))return;if(this._addOperationForAffectedMarkers("move",n),!Qg(n.root,r.root))throw new Z("writer-move-different-document",this);const o=n.root.document?n.root.document.version:null,s=new _t(n.start,n.end.offset-n.start.offset,r,o);this.batch.addOperation(s),this.model.applyOperation(s)}remove(n){this._assertWriterUsedCorrectly();const t=(n instanceof ae?n:ae._createOn(n)).getMinimalFlatRanges().reverse();for(const r of t)this._addOperationForAffectedMarkers("move",r),hS(r.start,r.end.offset-r.start.offset,this.batch,this.model)}merge(n){this._assertWriterUsedCorrectly();const e=n.nodeBefore,t=n.nodeAfter;if(this._addOperationForAffectedMarkers("merge",n),!(e instanceof Wt))throw new Z("writer-merge-no-element-before",this);if(!(t instanceof Wt))throw new Z("writer-merge-no-element-after",this);n.root.document?this._merge(n):this._mergeDetached(n)}createPositionFromPath(n,e,t){return this.model.createPositionFromPath(n,e,t)}createPositionAt(n,e){return this.model.createPositionAt(n,e)}createPositionAfter(n){return this.model.createPositionAfter(n)}createPositionBefore(n){return this.model.createPositionBefore(n)}createRange(n,e){return this.model.createRange(n,e)}createRangeIn(n){return this.model.createRangeIn(n)}createRangeOn(n){return this.model.createRangeOn(n)}createSelection(...n){return this.model.createSelection(...n)}_mergeDetached(n){const e=n.nodeBefore,t=n.nodeAfter;this.move(ae._createIn(t),ve._createAt(e,"end")),this.remove(t)}_merge(n){const e=ve._createAt(n.nodeBefore,"end"),t=ve._createAt(n.nodeAfter,0),r=n.root.document.graveyard,o=new ve(r,[0]),s=n.root.document.version,l=new Jt(t,n.nodeAfter.maxOffset,e,o,s);this.batch.addOperation(l),this.model.applyOperation(l)}rename(n,e){if(this._assertWriterUsedCorrectly(),!(n instanceof Wt))throw new Z("writer-rename-not-element-instance",this);const t=n.root.document?n.root.document.version:null,r=new ar(ve._createBefore(n),n.name,e,t);this.batch.addOperation(r),this.model.applyOperation(r)}split(n,e){this._assertWriterUsedCorrectly();let t=n.parent;if(!t.parent)throw new Z("writer-split-element-no-parent",this);if(e||(e=t.parent),!n.parent.getAncestors({includeSelf:!0}).includes(e))throw new Z("writer-split-invalid-limit-element",this);let r,o;do{const s=t.root.document?t.root.document.version:null,l=t.maxOffset-n.offset,u=Pt.getInsertionPosition(n),d=new Pt(n,l,u,null,s);this.batch.addOperation(d),this.model.applyOperation(d),!r&&!o&&(r=t,o=n.parent.nextSibling),n=this.createPositionAfter(n.parent),t=n.parent}while(t!==e);return{position:n,range:new ae(ve._createAt(r,"end"),ve._createAt(o,0))}}wrap(n,e){if(this._assertWriterUsedCorrectly(),!n.isFlat)throw new Z("writer-wrap-range-not-flat",this);const t=e instanceof Wt?e:new Wt(e);if(t.childCount>0)throw new Z("writer-wrap-element-not-empty",this);if(t.parent!==null)throw new Z("writer-wrap-element-attached",this);this.insert(t,n.start);const r=new ae(n.start.getShiftedBy(1),n.end.getShiftedBy(1));this.move(r,ve._createAt(t,0))}unwrap(n){if(this._assertWriterUsedCorrectly(),n.parent===null)throw new Z("writer-unwrap-element-no-parent",this);this.move(ae._createIn(n),this.createPositionAfter(n)),this.remove(n)}addMarker(n,e){if(this._assertWriterUsedCorrectly(),!e||typeof e.usingOperation!="boolean")throw new Z("writer-addmarker-no-usingoperation",this);const t=e.usingOperation,r=e.range,o=e.affectsData===void 0?!1:e.affectsData;if(this.model.markers.has(n))throw new Z("writer-addmarker-marker-exists",this);if(!r)throw new Z("writer-addmarker-no-range",this);return t?(wl(this,n,null,r,o),this.model.markers.get(n)):this.model.markers._set(n,r,t,o)}updateMarker(n,e){this._assertWriterUsedCorrectly();const t=typeof n=="string"?n:n.name,r=this.model.markers.get(t);if(!r)throw new Z("writer-updatemarker-marker-not-exists",this);if(!e){Zt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:t}),this.model.markers._refresh(r);return}const o=typeof e.usingOperation=="boolean",s=typeof e.affectsData=="boolean",l=s?e.affectsData:r.affectsData;if(!o&&!e.range&&!s)throw new Z("writer-updatemarker-wrong-options",this);const u=r.getRange(),d=e.range?e.range:u;if(o&&e.usingOperation!==r.managedUsingOperations){e.usingOperation?wl(this,t,null,d,l):(wl(this,t,u,null,l),this.model.markers._set(t,d,void 0,l));return}r.managedUsingOperations?wl(this,t,u,d,l):this.model.markers._set(t,d,void 0,l)}removeMarker(n){this._assertWriterUsedCorrectly();const e=typeof n=="string"?n:n.name;if(!this.model.markers.has(e))throw new Z("writer-removemarker-no-marker",this);const t=this.model.markers.get(e);if(!t.managedUsingOperations){this.model.markers._remove(e);return}const r=t.getRange();wl(this,e,r,null,t.affectsData)}addRoot(n,e="$root"){this._assertWriterUsedCorrectly();const t=this.model.document.getRoot(n);if(t&&t.isAttached())throw new Z("writer-addroot-root-exists",this);const r=this.model.document,o=new xi(n,e,!0,r,r.version);return this.batch.addOperation(o),this.model.applyOperation(o),this.model.document.getRoot(n)}detachRoot(n){this._assertWriterUsedCorrectly();const e=typeof n=="string"?this.model.document.getRoot(n):n;if(!e||!e.isAttached())throw new Z("writer-detachroot-no-root",this);for(const o of this.model.markers)o.getRange().root===e&&this.removeMarker(o);for(const o of e.getAttributeKeys())this.removeAttribute(o,e);this.remove(this.createRangeIn(e));const t=this.model.document,r=new xi(e.rootName,e.name,!1,t,t.version);this.batch.addOperation(r),this.model.applyOperation(r)}setSelection(...n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...n)}setSelectionFocus(n,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(n,e)}setSelectionAttribute(n,e){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._setSelectionAttribute(n,e);else for(const[t,r]of Rs(n))this._setSelectionAttribute(t,r)}removeSelectionAttribute(n){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._removeSelectionAttribute(n);else for(const e of n)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(n){this.model.document.selection._restoreGravity(n)}_setSelectionAttribute(n,e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const r=ii._getStoreAttributeKey(n);this.setAttribute(r,e,t.anchor.parent)}t._setAttribute(n,e)}_removeSelectionAttribute(n){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const t=ii._getStoreAttributeKey(n);this.removeAttribute(t,e.anchor.parent)}e._removeAttribute(n)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new Z("writer-incorrect-use",this)}_addOperationForAffectedMarkers(n,e){for(const t of this.model.markers){if(!t.managedUsingOperations)continue;const r=t.getRange();let o=!1;if(n==="move"){const s=e;o=s.containsPosition(r.start)||s.start.isEqual(r.start)||s.containsPosition(r.end)||s.end.isEqual(r.end)}else{const s=e,l=s.nodeBefore,u=s.nodeAfter,d=r.start.parent==l&&r.start.isAtEnd,f=r.end.parent==u&&r.end.offset==0,p=r.end.nodeAfter==u,b=r.start.nodeAfter==u;o=d||f||p||b}o&&this.updateMarker(t.name,{range:r})}}}function Yg(i,n,e,t){const r=i.model,o=r.document;let s=t.start,l,u,d;for(const p of t.getWalker({shallow:!0}))d=p.item.getAttribute(n),l&&u!=d&&(u!=e&&f(),s=l),l=p.nextPosition,u=d;l instanceof ve&&l!=s&&u!=e&&f();function f(){const p=new ae(s,l),b=p.root.document?o.version:null,v=new sn(p,n,u,e,b);i.batch.addOperation(v),r.applyOperation(v)}}function Jg(i,n,e,t){const r=i.model,o=r.document,s=t.getAttribute(n);let l,u;if(s!=e){if(t.root===t){const f=t.document?o.version:null;u=new Yi(t,n,s,e,f)}else{l=new ae(ve._createBefore(t),i.createPositionAfter(t));const f=l.root.document?o.version:null;u=new sn(l,n,s,e,f)}i.batch.addOperation(u),r.applyOperation(u)}}function wl(i,n,e,t,r){const o=i.model,s=o.document,l=new Jn(n,e,t,o.markers,!!r,s.version);i.batch.addOperation(l),o.applyOperation(l)}function hS(i,n,e,t){let r;if(i.root.document){const o=t.document,s=new ve(o.graveyard,[0]);r=new _t(i,n,s,o.version)}else r=new cS(i,n);e.addOperation(r),t.applyOperation(r)}function Qg(i,n){return i===n||i instanceof Fu&&n instanceof Fu}function fS(i,n,e={}){if(n.isCollapsed)return;const t=n.getFirstRange();if(t.root.rootName=="$graveyard")return;const r=i.schema;i.change(o=>{if(!e.doNotResetEntireContent&&kS(r,n)){_S(o,n);return}const s={};if(!e.doNotAutoparagraph){const d=n.getSelectedElement();d&&Object.assign(s,r.getAttributesWithProperty(d,"copyOnReplace",!0))}const[l,u]=pS(t);l.isTouching(u)||o.remove(o.createRange(l,u)),e.leaveUnmerged||(gS(o,l,u),r.removeDisallowedAttributes(l.parent.getChildren(),o)),Ub(o,n,l),!e.doNotAutoparagraph&&yS(r,l)&&Hb(o,l,n,s),l.detach(),u.detach()})}function pS(i){const n=i.root.document.model,e=i.start;let t=i.end;if(n.hasContent(i,{ignoreMarkers:!0})){const r=mS(t);if(r&&t.isTouching(n.createPositionAt(r,0))){const o=n.createSelection(i);n.modifySelection(o,{direction:"backward"});const s=o.getLastPosition(),l=n.createRange(s,t);n.hasContent(l,{ignoreMarkers:!0})||(t=s)}}return[sr.fromPosition(e,"toPrevious"),sr.fromPosition(t,"toNext")]}function mS(i){const n=i.parent,e=n.root.document.model.schema,t=n.getAncestors({parentFirst:!0,includeSelf:!0});for(const r of t){if(e.isLimit(r))return null;if(e.isBlock(r))return r}}function gS(i,n,e){const t=i.model;if(!$f(i.model.schema,n,e))return;const[r,o]=wS(n,e);!r||!o||(!t.hasContent(r,{ignoreMarkers:!0})&&t.hasContent(o,{ignoreMarkers:!0})?Wb(i,n,e,r.parent):$b(i,n,e,r.parent))}function $b(i,n,e,t){const r=n.parent,o=e.parent;if(!(r==t||o==t)){for(n=i.createPositionAfter(r),e=i.createPositionBefore(o),e.isEqual(n)||i.insert(o,n),i.merge(n);e.parent.isEmpty;){const s=e.parent;e=i.createPositionBefore(s),i.remove(s)}$f(i.model.schema,n,e)&&$b(i,n,e,t)}}function Wb(i,n,e,t){const r=n.parent,o=e.parent;if(!(r==t||o==t)){for(n=i.createPositionAfter(r),e=i.createPositionBefore(o),e.isEqual(n)||i.insert(r,e);n.parent.isEmpty;){const s=n.parent;n=i.createPositionBefore(s),i.remove(s)}e=i.createPositionBefore(o),bS(i,e),$f(i.model.schema,n,e)&&Wb(i,n,e,t)}}function bS(i,n){const e=n.nodeBefore,t=n.nodeAfter;e.name!=t.name&&i.rename(e,t.name),i.clearAttributes(e),i.setAttributes(Object.fromEntries(t.getAttributes()),e),i.merge(n)}function $f(i,n,e){const t=n.parent,r=e.parent;return t==r||i.isLimit(t)||i.isLimit(r)?!1:vS(n,e,i)}function wS(i,n){const e=i.getAncestors(),t=n.getAncestors();let r=0;for(;e[r]&&e[r]==t[r];)r++;return[e[r],t[r]]}function yS(i,n){const e=i.checkChild(n,"$text"),t=i.checkChild(n,"paragraph");return!e&&t}function vS(i,n,e){const t=new ae(i,n);for(const r of t.getWalker())if(e.isLimit(r.item))return!1;return!0}function Hb(i,n,e,t={}){const r=i.createElement("paragraph");i.model.schema.setAllowedAttributes(r,t,i),i.insert(r,n),Ub(i,e,i.createPositionAt(r,0))}function _S(i,n){const e=i.model.schema.getLimitElement(n);i.remove(i.createRangeIn(e)),Hb(i,i.createPositionAt(e,0),n)}function kS(i,n){const e=i.getLimitElement(n);if(!n.containsEntireContent(e))return!1;const t=n.getFirstRange();return t.start.parent==t.end.parent?!1:i.checkChild(e,"paragraph")}function Ub(i,n,e){n instanceof ii?i.setSelection(e):n.setTo(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ES(i,n){return i.change(e=>{const t=e.createDocumentFragment(),r=n.getFirstRange();if(!r||r.isCollapsed)return t;const o=r.start.root,s=r.start.getCommonPath(r.end),l=o.getNodeByPath(s);let u;r.start.parent==r.end.parent?u=r:u=e.createRange(e.createPositionAt(l,r.start.path[s.length]),e.createPositionAt(l,r.end.path[s.length]+1));const d=u.end.offset-u.start.offset;for(const f of u.getItems({shallow:!0}))f.is("$textProxy")?e.appendText(f.data,f.getAttributes(),t):e.append(e.cloneElement(f,!0),t);if(u!=r){const f=r._getTransformedByMove(u.start,e.createPositionAt(t,0),d)[0],p=e.createRange(e.createPositionAt(t,0),f.start),b=e.createRange(f.end,e.createPositionAt(t,"end"));Xg(b,e),Xg(p,e)}return t})}function Xg(i,n){const e=[];Array.from(i.getItems({direction:"backward"})).map(t=>n.createRangeOn(t)).filter(t=>(t.start.isAfter(i.start)||t.start.isEqual(i.start))&&(t.end.isBefore(i.end)||t.end.isEqual(i.end))).forEach(t=>{e.push(t.start.parent),n.remove(t)}),e.forEach(t=>{let r=t;for(;r.parent&&r.isEmpty;){const o=n.createRangeOn(r);r=r.parent,n.remove(o)}})}function xS(i,n,e){return i.change(t=>{const r=e||i.document.selection;r.isCollapsed||i.deleteContent(r,{doNotAutoparagraph:!0});const o=new CS(i,t,r.anchor),s=[];let l;if(n.is("documentFragment")){if(n.markers.size){const f=[];for(const[p,b]of n.markers){const{start:v,end:x}=b,L=v.isEqual(x);f.push({position:v,name:p,isCollapsed:L},{position:x,name:p,isCollapsed:L})}f.sort(({position:p},{position:b})=>p.isBefore(b)?1:-1);for(const{position:p,name:b,isCollapsed:v}of f){let x=null,L=null;const j=p.parent===n&&p.isAtStart,N=p.parent===n&&p.isAtEnd;!j&&!N?(x=t.createElement("$marker"),t.insert(x,p)):v&&(L=j?"start":"end"),s.push({name:b,element:x,collapsed:L})}}l=n.getChildren()}else l=[n];o.handleNodes(l);let u=o.getSelectionRange();if(n.is("documentFragment")&&s.length){const f=u?Wr.fromRange(u):null,p={};for(let b=s.length-1;b>=0;b--){const{name:v,element:x,collapsed:L}=s[b],j=!p[v];if(j&&(p[v]=[]),x){const N=t.createPositionAt(x,"before");p[v].push(N),t.remove(x)}else{const N=o.getAffectedRange();if(!N){L&&p[v].push(o.position);continue}L?p[v].push(N[L]):p[v].push(j?N.start:N.end)}}for(const[b,[v,x]]of Object.entries(p))v&&x&&v.root===x.root&&v.root.document&&!t.model.markers.has(b)&&t.addMarker(b,{usingOperation:!0,affectsData:!0,range:new ae(v,x)});f&&(u=f.toRange(),f.detach())}/* istanbul ignore else -- @preserve */u&&(r instanceof ii?t.setSelection(u):r.setTo(u));const d=o.getAffectedRange()||i.createRange(r.anchor);return o.destroy(),d})}class CS{constructor(n,e,t){g(this,"model");g(this,"writer");g(this,"position");g(this,"canMergeWith");g(this,"schema");g(this,"_documentFragment");g(this,"_documentFragmentPosition");g(this,"_firstNode",null);g(this,"_lastNode",null);g(this,"_lastAutoParagraph",null);g(this,"_filterAttributesOf",[]);g(this,"_affectedStart",null);g(this,"_affectedEnd",null);g(this,"_nodeToSelect",null);this.model=n,this.writer=e,this.position=t,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(n){for(const e of Array.from(n))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(n){const e=this.writer.createPositionAfter(this._lastNode),t=this.writer.createPositionAfter(n);if(t.isAfter(e)){this._lastNode=n;/* istanbul ignore if -- @preserve */if(this.position.parent!=n||!this.position.isAtEnd)throw new Z("insertcontent-invalid-insertion-position",this);this.position=t,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ae._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ae(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(n){if(!this._checkAndSplitToAllowedPosition(n)){this.schema.isObject(n)||this._handleDisallowedNode(n);return}this._appendToFragment(n),this._firstNode||(this._firstNode=n),this._lastNode=n}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const n=sr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=n.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=n.toPosition(),n.detach()}_handleDisallowedNode(n){n.is("element")&&this.handleNodes(n.getChildren())}_appendToFragment(n){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,n))throw new Z("insertcontent-wrong-position",this,{node:n,position:this.position});this.writer.insert(n,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(n.offsetSize),this.schema.isObject(n)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=n:this._nodeToSelect=null,this._filterAttributesOf.push(n)}_setAffectedBoundaries(n){this._affectedStart||(this._affectedStart=sr.fromPosition(n,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(n))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=sr.fromPosition(n,"toNext"))}_mergeOnLeft(){const n=this._firstNode;if(!(n instanceof Wt)||!this._canMergeLeft(n))return;const e=sr._createBefore(n);e.stickiness="toNext";const t=sr.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=sr._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=sr._createAt(e.nodeBefore,"end","toNext")),this.position=t.toPosition(),t.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const n=this._lastNode;if(!(n instanceof Wt)||!this._canMergeRight(n))return;const e=sr._createAfter(n);e.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(e))throw new Z("insertcontent-invalid-insertion-position",this);this.position=ve._createAt(e.nodeBefore,"end");const t=sr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=sr._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=sr._createAt(e.nodeBefore,0,"toPrevious")),this.position=t.toPosition(),t.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(n){const e=n.previousSibling;return e instanceof Wt&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,n)}_canMergeRight(n){const e=n.nextSibling;return e instanceof Wt&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(n,e)}_insertAutoParagraph(){this._insertPartialFragment();const n=this.writer.createElement("paragraph");this.writer.insert(n,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=n,this.position=this.writer.createPositionAt(n,0)}_checkAndSplitToAllowedPosition(n){const e=this._getAllowedIn(this.position.parent,n);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===e&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,n)||this._insertAutoParagraph(),!0}_getAllowedIn(n,e){return this.schema.checkChild(n,e)||this.schema.checkChild(n,"paragraph")&&this.schema.checkChild("paragraph",e)?n:this.schema.isLimit(n)?null:this._getAllowedIn(n.parent,e)}}function TS(i,n,e,t={}){if(!i.schema.isObject(n))throw new Z("insertobject-element-not-an-object",i,{object:n});const r=e||i.document.selection;let o=r;t.findOptimalPosition&&i.schema.isBlock(n)&&(o=i.createSelection(i.schema.findOptimalInsertionRange(r,t.findOptimalPosition)));const s=Ls(r.getSelectedBlocks()),l={};return s&&Object.assign(l,i.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),i.change(u=>{o.isCollapsed||i.deleteContent(o,{doNotAutoparagraph:!0});let d=n;const f=o.anchor.parent;!i.schema.checkChild(f,n)&&i.schema.checkChild(f,"paragraph")&&i.schema.checkChild("paragraph",n)&&(d=u.createElement("paragraph"),u.insert(n,d)),i.schema.setAllowedAttributes(d,l,u);const p=i.insertContent(d,o);return p.isCollapsed||t.setSelection&&SS(u,n,t.setSelection,l),p})}function SS(i,n,e,t){const r=i.model;if(e=="on"){i.setSelection(n,"on");return}if(e!="after")throw new Z("insertobject-invalid-place-parameter-value",r);let o=n.nextSibling;if(r.schema.isInline(n)){i.setSelection(n,"after");return}!(o&&r.schema.checkChild(o,"$text"))&&r.schema.checkChild(n.parent,"paragraph")&&(o=i.createElement("paragraph"),r.schema.setAllowedAttributes(o,t,i),r.insertContent(o,i.createPositionAfter(n))),o&&i.setSelection(o,0)}const PS=' ,.?!:;"-()';function AS(i,n,e={}){const t=i.schema,r=e.direction!="backward",o=e.unit?e.unit:"character",s=!!e.treatEmojiAsSingleUnit,l=n.focus,u=new Zi({boundaries:IS(l,r),singleCharacters:!0,direction:r?"forward":"backward"}),d={walker:u,schema:t,isForward:r,unit:o,treatEmojiAsSingleUnit:s};let f;for(;f=u.next();){if(f.done)return;const p=OS(d,f.value);if(p){n instanceof ii?i.change(b=>{b.setSelectionFocus(p)}):n.setFocus(p);return}}}function OS(i,n){const{isForward:e,walker:t,unit:r,schema:o,treatEmojiAsSingleUnit:s}=i,{type:l,item:u,nextPosition:d}=n;if(l=="text")return i.unit==="word"?RS(t,e):MS(t,r,s);if(l==(e?"elementStart":"elementEnd")){if(o.isSelectable(u))return ve._createAt(u,e?"after":"before");if(o.checkChild(d,"$text"))return d}else{if(o.isLimit(u)){t.skip(()=>!0);return}if(o.checkChild(d,"$text"))return d}}function MS(i,n,e){const t=i.position.textNode;if(t){const r=t.data;let o=i.position.offset-t.startOffset;for(;Rf(r,o)||n=="character"&&If(r,o)||e&&nb(r,o);)i.next(),o=i.position.offset-t.startOffset}return i.position}function RS(i,n){let e=i.position.textNode;for(e||(e=n?i.position.nodeAfter:i.position.nodeBefore);e&&e.is("$text");){const t=i.position.offset-e.startOffset;if(DS(e,t,n))e=n?i.position.nodeAfter:i.position.nodeBefore;else{if(NS(e.data,t,n))break;i.next()}}return i.position}function IS(i,n){const e=i.root,t=ve._createAt(e,n?"end":0);return n?new ae(i,t):new ae(t,i)}function NS(i,n,e){const t=n+(e?0:-1);return PS.includes(i.charAt(t))}function DS(i,n,e){return n===(e?i.offsetSize:0)}let LS=class extends on(){constructor(){super();g(this,"markers");g(this,"document");g(this,"schema");g(this,"_pendingChanges");g(this,"_currentWriter");this.markers=new lS,this.document=new aS(this),this.schema=new xT,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),mT(this),this.document.registerPostFixer(Mb),this.on("insertContent",(e,[t,r])=>{e.return=xS(this,t,r)}),this.on("insertObject",(e,[t,r,o])=>{e.return=TS(this,t,r,o)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new fa,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){/* istanbul ignore next -- @preserve */Z.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new fa):e instanceof fa||(e=new fa(e)):e=new fa,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(r){/* istanbul ignore next -- @preserve */Z.rethrowUnexpectedError(r,this)}}applyOperation(e){e._execute()}insertContent(e,t,r,...o){const s=kh(t,r);return this.fire("insertContent",[e,s,r,...o])}insertObject(e,t,r,o,...s){const l=kh(t,r);return this.fire("insertObject",[e,l,o,o,...s])}deleteContent(e,t){fS(this,e,t)}modifySelection(e,t){AS(this,e,t)}getSelectedContent(e){return ES(this,e)}hasContent(e,t={}){const r=e instanceof ae?e:ae._createIn(e);if(r.isCollapsed)return!1;const{ignoreWhitespaces:o=!1,ignoreMarkers:s=!1}=t;if(!s){for(const l of this.markers.getMarkersIntersectingRange(r))if(l.affectsData)return!0}for(const l of r.getItems())if(this.schema.isContent(l))if(l.is("$textProxy"))if(o){if(l.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const t=kh(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,r){return new ve(e,t,r)}createPositionAt(e,t){return ve._createAt(e,t)}createPositionAfter(e){return ve._createAfter(e)}createPositionBefore(e){return ve._createBefore(e)}createRange(e,t){return new ae(e,t)}createRangeIn(e){return ae._createIn(e)}createRangeOn(e){return ae._createOn(e)}createSelection(...e){return new vr(...e)}createBatch(e){return new fa(e)}createOperationFromJSON(e){return YT.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new dS(this,t);const r=this._pendingChanges[0].callback(this._currentWriter);e.push(r),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}};function kh(i,n){if(i)return i instanceof vr||i instanceof ii?i:i instanceof Vs?n||n===0?new vr(i,n):i.is("rootElement")?new vr(i,"in"):new vr(i,"on"):new vr(i)}class qb extends Va{constructor(){super(...arguments);g(this,"domEventType",["mousedown","mouseup","mouseover","mouseout"])}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kb{constructor(n){g(this,"crashes",[]);g(this,"state","initializing");g(this,"_crashNumberLimit");g(this,"_now",Date.now);g(this,"_minimumNonErrorTimePeriod");g(this,"_boundErrorHandler");g(this,"_listeners");if(this.crashes=[],this._crashNumberLimit=typeof n.crashNumberLimit=="number"?n.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof n.minimumNonErrorTimePeriod=="number"?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const t="error"in e?e.error:e.reason;t instanceof Error&&this._handleError(t,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,e){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(e)}off(n,e){this._listeners[n]=this._listeners[n].filter(t=>t!==e)}_fire(n,...e){const t=this._listeners[n]||[];for(const r of t)r.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,e){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const t=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:t}),t?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&n.context!==void 0&&n.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(n)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const n=this.crashes[this.crashes.length-1].date,e=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(n-e)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nf(i,n=new Set){const e=[i],t=new Set;let r=0;for(;e.length>r;){const o=e[r++];if(!(t.has(o)||!BS(o)||n.has(o)))if(t.add(o),Symbol.iterator in o)try{for(const s of o)e.push(s)}catch{}else for(const s in o)s!=="defaultValue"&&e.push(o[s])}return t}function BS(i){const n=Object.prototype.toString.call(i),e=typeof i;return!(e==="number"||e==="boolean"||e==="string"||e==="symbol"||e==="function"||n==="[object Date]"||n==="[object RegExp]"||n==="[object Module]"||i===void 0||i===null||i._watchdogExcluded||i instanceof EventTarget||i instanceof Event)}function Gb(i,n,e=new Set){if(i===n&&FS(i))return!0;const t=nf(i,e),r=nf(n,e);for(const o of t)if(r.has(o))return!0;return!1}function FS(i){return typeof i=="object"&&i!==null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zb extends Kb{constructor(e,t={}){super(t);g(this,"_editor",null);g(this,"_lifecyclePromise",null);g(this,"_throttledSave");g(this,"_data");g(this,"_lastDocumentVersion");g(this,"_elementOrData");g(this,"_initUsingData",!0);g(this,"_editables",{});g(this,"_config");g(this,"_excludedProps");this._throttledSave=Nu(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(r,o)=>e.create(r,o)),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],r=this._config.rootsAttributes||{},o={};for(const[l,u]of Object.entries(this._data.roots))u.isLoaded?(e[l]="",o[l]=r[l]||{}):t.push(l);const s={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:o,_watchdogInitialData:this._data};return delete s.initialData,s.extraPlugins.push(VS),this._initUsingData?this.create(e,s,s.context):Ms(this._elementOrData)?this.create(this._elementOrData,s,s.context):this.create(this._editables,s,s.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,r){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=r,this._creator(e,this._config))).then(o=>{this._editor=o,o.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=o.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(u=>u.isAttached()&&u.rootName!="$graveyard"),{plugins:r}=e,o=r.has("CommentsRepository")&&r.get("CommentsRepository"),s=r.has("TrackChanges")&&r.get("TrackChanges"),l={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(u=>{l.roots[u.rootName]={content:JSON.stringify(Array.from(u.getChildren())),attributes:JSON.stringify(Array.from(u.getAttributes())),isLoaded:u._isLoaded}});for(const u of e.model.markers)u._affectsData&&(l.markers[u.name]={rangeJSON:u.getRange().toJSON(),usingOperation:u._managedUsingOperations,affectsData:u._affectsData});return o&&(l.commentThreads=JSON.stringify(o.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),s&&(l.suggestions=JSON.stringify(s.getSuggestions({toJSON:!0,skipNotAttached:!0}))),l}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const r=this.editor.ui.getEditableElement(t);r&&(e[t]=r)}return e}_isErrorComingFromThisItem(e){return Gb(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Tf(e,(t,r)=>{if(Ms(t)||r==="context")return t})}}class VS{constructor(n){g(this,"editor");g(this,"_data");this.editor=n,this._data=n.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",n=>{n.stop(),this.editor.model.enqueueChange({isUndoable:!1},e=>{this._restoreCollaborationData(),this._restoreEditorData(e)}),this.editor.data.fire("ready")},{priority:999})}_createNode(n,e){if("name"in e){const t=n.createElement(e.name,e.attributes);if(e.children)for(const r of e.children)t._appendChild(this._createNode(n,r));return t}else return n.createText(e.data,e.attributes)}_restoreEditorData(n){const e=this.editor;Object.entries(this._data.roots).forEach(([t,{content:r,attributes:o}])=>{const s=JSON.parse(r),l=JSON.parse(o),u=e.model.document.getRoot(t);for(const[d,f]of l)n.setAttribute(d,f,u);for(const d of s){const f=this._createNode(n,d);n.insert(f,u,"end")}}),Object.entries(this._data.markers).forEach(([t,r])=>{const{document:o}=e.model,{rangeJSON:{start:s,end:l},...u}=r,d=o.getRoot(s.root),f=n.createPositionFromPath(d,s.path,s.stickiness),p=n.createPositionFromPath(d,l.path,l.stickiness),b=n.createRange(f,p);n.addMarker(t,{range:b,...u})})}_restoreCollaborationData(){const n=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);n.forEach(t=>{const r=this.editor.config.get("collaboration.channelId"),o=this.editor.plugins.get("CommentsRepository");o.hasCommentThread(t.threadId)&&o.getCommentThread(t.threadId).remove(),o.addCommentThread({channelId:r,...t})}),e.forEach(t=>{const r=this.editor.plugins.get("TrackChangesEditing");if(r.hasSuggestion(t.id)){const o=r.getSuggestion(t.id);o.attributes=t.attributes}else r.addSuggestionData(t)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ol=Symbol("MainQueueId");class zS extends Kb{constructor(e,t={}){super(t);g(this,"_watchdogs",new Map);g(this,"_watchdogConfig");g(this,"_context",null);g(this,"_contextProps",new Set);g(this,"_actionQueues",new jS);g(this,"_contextConfig");g(this,"_item");this._watchdogConfig=t,this._creator=r=>e.create(r),this._destructor=r=>r.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Ol,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=e0(e);return Promise.all(t.map(r=>this._actionQueues.enqueue(r.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let o;if(this._watchdogs.has(r.id))throw new Error(`Item with the given id is already added: '${r.id}'.`);if(r.type==="editor")return o=new Zb(null,this._watchdogConfig),o.setCreator(r.creator),o._setExcludedProperties(this._contextProps),r.destructor&&o.setDestructor(r.destructor),this._watchdogs.set(r.id,o),o.on("error",(s,{error:l,causesRestart:u})=>{this._fire("itemError",{itemId:r.id,error:l}),u&&this._actionQueues.enqueue(r.id,()=>new Promise(d=>{const f=()=>{o.off("restart",f),this._fire("itemRestart",{itemId:r.id}),d()};o.on("restart",f)}))}),o.create(r.sourceElementOrData,r.config,this._context);throw new Error(`Not supported item type: '${r.type}'.`)})))}remove(e){const t=e0(e);return Promise.all(t.map(r=>this._actionQueues.enqueue(r,()=>{const o=this._getWatchdog(r);return this._watchdogs.delete(r),o.destroy()})))}destroy(){return this._actionQueues.enqueue(Ol,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Ol,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=nf(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return Gb(this._context,e.context)}}class jS{constructor(){g(this,"_onEmptyCallbacks",[]);g(this,"_queues",new Map);g(this,"_activeActions",0)}onEmpty(n){this._onEmptyCallbacks.push(n)}enqueue(n,e){const t=n===Ol;this._activeActions++,this._queues.get(n)||this._queues.set(n,Promise.resolve());const o=(t?Promise.all(this._queues.values()):Promise.all([this._queues.get(Ol),this._queues.get(n)])).then(e),s=o.catch(()=>{});return this._queues.set(n,s),o.finally(()=>{this._activeActions--,this._queues.get(n)===s&&this._activeActions===0&&this._onEmptyCallbacks.forEach(l=>l())})}}function e0(i){return Array.isArray(i)?i:[i]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lt extends on(){constructor(e){super();g(this,"editor");g(this,"_disableStack",new Set);this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",t0,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",t0),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function t0(i){i.return=!1,i.stop()}class Qn extends on(){constructor(e){super();g(this,"editor");g(this,"_isEnabledBasedOnSelection");g(this,"_affectsData");g(this,"_disableStack");this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const r=e.model.document.selection,s=!(r.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(r);(e.isReadOnly||this._isEnabledBasedOnSelection&&!s)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",n0,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",n0),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function n0(i){i.return=!1,i.stop()}class Yb extends At(){constructor(e,t=[],r=[]){super();g(this,"_context");g(this,"_plugins",new Map);g(this,"_availablePlugins");g(this,"_contextPlugins");this._context=e,this._availablePlugins=new Map;for(const o of t)o.pluginName&&this._availablePlugins.set(o.pluginName,o);this._contextPlugins=new Map;for(const[o,s]of r)this._contextPlugins.set(o,s),this._contextPlugins.set(s,o),o.pluginName&&this._availablePlugins.set(o.pluginName,o)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let r=e;throw typeof e=="function"&&(r=e.pluginName||e.name),new Z("plugincollection-plugin-not-loaded",this._context,{plugin:r})}return t}has(e){return this._plugins.has(e)}init(e,t=[],r=[]){const o=this,s=this._context;x(e),j(e);const l=e.filter(G=>!b(G,t)),u=[...L(l)];F(u,r);const d=z(u);return U(d,"init").then(()=>U(d,"afterInit")).then(()=>d);function f(G){return typeof G=="function"}function p(G){return f(G)&&!!G.isContextPlugin}function b(G,q){return q.some(D=>D===G||v(G)===D||v(D)===G)}function v(G){return f(G)?G.pluginName||G.name:G}function x(G,q=new Set){G.forEach(D=>{f(D)&&(q.has(D)||(q.add(D),D.pluginName&&!o._availablePlugins.has(D.pluginName)&&o._availablePlugins.set(D.pluginName,D),D.requires&&x(D.requires,q)))})}function L(G,q=new Set){return G.map(D=>f(D)?D:o._availablePlugins.get(D)).reduce((D,V)=>q.has(V)?D:(q.add(V),V.requires&&(j(V.requires,V),L(V.requires,q).forEach(ce=>D.add(ce))),D.add(V)),new Set)}function j(G,q=null){G.map(D=>f(D)?D:o._availablePlugins.get(D)||D).forEach(D=>{N(D,q),$(D,q),R(D,q)})}function N(G,q){if(!f(G))throw q?new Z("plugincollection-soft-required",s,{missingPlugin:G,requiredBy:v(q)}):new Z("plugincollection-plugin-not-found",s,{plugin:G})}function $(G,q){if(p(q)&&!p(G))throw new Z("plugincollection-context-required",s,{plugin:v(G),requiredBy:v(q)})}function R(G,q){if(q&&b(G,t))throw new Z("plugincollection-required",s,{plugin:v(G),requiredBy:v(q)})}function z(G){return G.map(q=>{let D=o._contextPlugins.get(q);return D=D||new q(s),o._add(q,D),D})}function U(G,q){return G.reduce((D,V)=>!V[q]||o._contextPlugins.has(V)?D:D.then(V[q].bind(V)),Promise.resolve())}function F(G,q){for(const D of q){if(typeof D!="function")throw new Z("plugincollection-replace-plugin-invalid-type",null,{pluginItem:D});const V=D.pluginName;if(!V)throw new Z("plugincollection-replace-plugin-missing-name",null,{pluginItem:D});if(D.requires&&D.requires.length)throw new Z("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:V});const ce=o._availablePlugins.get(V);if(!ce)throw new Z("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:V});const de=G.indexOf(ce);if(de===-1){if(o._contextPlugins.has(ce))return;throw new Z("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:V})}if(ce.requires&&ce.requires.length)throw new Z("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:V});G.splice(de,1,D),o._availablePlugins.set(V,D)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const r=e.pluginName;if(r){if(this._plugins.has(r))throw new Z("plugincollection-plugin-name-conflict",null,{pluginName:r,plugin1:this._plugins.get(r).constructor,plugin2:e});this._plugins.set(r,t)}}}class Vu{constructor(n){g(this,"config");g(this,"plugins");g(this,"locale");g(this,"t");g(this,"editors");g(this,"_contextOwner",null);const{translations:e,...t}=n||{};this.config=new $1(t,this.constructor.defaultConfig);const r=this.constructor.builtinPlugins;this.config.define("plugins",r),this.plugins=new Yb(this,r);const o=this.config.get("language")||{};this.locale=new X5({uiLanguage:typeof o=="string"?o:o.ui,contentLanguage:this.config.get("language.content"),translations:e}),this.t=this.locale.t,this.editors=new Ko}initPlugins(){const n=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const t of n.concat(e)){if(typeof t!="function")throw new Z("context-initplugins-constructor-only",null,{Plugin:t});if(t.isContextPlugin!==!0)throw new Z("context-initplugins-invalid-plugin",null,{Plugin:t})}return this.plugins.init(n,[],e)}destroy(){return Promise.all(Array.from(this.editors,n=>n.destroy())).then(()=>this.plugins.destroy())}_addEditor(n,e){if(this._contextOwner)throw new Z("context-addeditor-private-context");this.editors.add(n),e&&(this._contextOwner=n)}_removeEditor(n){return this.editors.has(n)&&this.editors.remove(n),this._contextOwner===n?this.destroy():Promise.resolve()}_getEditorConfig(){const n={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(n[e]=this.config.get(e));return n}static create(n){return new Promise(e=>{const t=new this(n);e(t.initPlugins().then(()=>t))})}}g(Vu,"defaultConfig"),g(Vu,"builtinPlugins");class $S{constructor(){g(this,"_commands");this._commands=new Map}add(n,e){this._commands.set(n,e)}get(n){return this._commands.get(n)}execute(n,...e){const t=this.get(n);if(!t)throw new Z("commandcollection-command-not-found",this,{commandName:n});return t.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const n of this.commands())n.destroy()}}class WS extends Zo{constructor(e){super();g(this,"editor");this.editor=e}set(e,t,r={}){if(typeof t=="string"){const o=t;t=(s,l)=>{this.editor.execute(o),l()}}super.set(e,t,r)}}const Eh="contentEditing",r0="common";class HS{constructor(n){g(this,"keystrokeInfos",new Map);g(this,"_editor");this._editor=n;const e=n.config.get("menuBar.isVisible"),t=n.locale.t;this.addKeystrokeInfoCategory({id:Eh,label:t("Content editing keystrokes"),description:t("These keyboard shortcuts allow for quick access to content editing features.")});const r=[{label:t("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:t("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:t("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:t("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:t("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:t("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];e&&r.push({label:t("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:t("User interface and content navigation keystrokes"),description:t("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:r}]})}addKeystrokeInfoCategory({id:n,label:e,description:t,groups:r}){this.keystrokeInfos.set(n,{id:n,label:e,description:t,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:n,id:r0}),r&&r.forEach(o=>{this.addKeystrokeInfoGroup({categoryId:n,...o})})}addKeystrokeInfoGroup({categoryId:n=Eh,id:e,label:t,keystrokes:r}){const o=this.keystrokeInfos.get(n);if(!o)throw new Z("accessibility-unknown-keystroke-info-category",this._editor,{groupId:e,categoryId:n});o.groups.set(e,{id:e,label:t,keystrokes:r||[]})}addKeystrokeInfos({categoryId:n=Eh,groupId:e=r0,keystrokes:t}){if(!this.keystrokeInfos.has(n))throw new Z("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:n,keystrokes:t});const r=this.keystrokeInfos.get(n);if(!r.groups.has(e))throw new Z("accessibility-unknown-keystroke-info-group",this._editor,{groupId:e,categoryId:n,keystrokes:t});r.groups.get(e).keystrokes.push(...t)}}class va extends on(){constructor(e={}){super();g(this,"accessibility");g(this,"commands");g(this,"config");g(this,"conversion");g(this,"data");g(this,"editing");g(this,"locale");g(this,"model");g(this,"plugins");g(this,"keystrokes");g(this,"t");g(this,"_context");g(this,"_readOnlyLocks");if("sanitizeHtml"in e)throw new Z("editor-config-sanitizehtml-not-supported");const t=this.constructor,{translations:r,...o}=t.defaultConfig||{},{translations:s=r,...l}=e,u=e.language||o.language;this._context=e.context||new Vu({language:u,translations:s}),this._context._addEditor(this,!e.context);const d=Array.from(t.builtinPlugins||[]);this.config=new $1(l,o),this.config.define("plugins",d),this.config.define(this._context._getEditorConfig()),this.plugins=new Yb(this,d,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new $S,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new LS,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const f=new Ex;this.data=new qT(this.model,f),this.editing=new _T(this.model,f),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new GT([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new WS(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new HS(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new Z("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new Z("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new Z("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),r=e.get("removePlugins")||[],o=e.get("extraPlugins")||[],s=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(o),r,s)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(r){/* istanbul ignore next -- @preserve */Z.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}g(va,"defaultConfig"),g(va,"builtinPlugins"),g(va,"Context",Vu),g(va,"EditorWatchdog",Zb),g(va,"ContextWatchdog",zS);function US(i){if(!Ps(i.updateSourceElement))throw new Z("attachtoform-missing-elementapi-interface",i);const n=i.sourceElement;if(qS(n)&&n.form){let e;const t=n.form,r=()=>i.updateSourceElement();Ps(t.submit)&&(e=t.submit,t.submit=()=>{r(),e.apply(t)}),t.addEventListener("submit",r),i.on("destroy",()=>{t.removeEventListener("submit",r),e&&(t.submit=e)})}}function qS(i){return!!i&&i.tagName.toLowerCase()==="textarea"}function rf(i){class n extends i{constructor(){super(...arguments);g(this,"sourceElement")}updateSourceElement(r){if(!this.sourceElement)throw new Z("editor-missing-sourceelement",this);const o=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!o&&!s){cg(this.sourceElement,"");return}const l=typeof r=="string"?r:this.data.get();cg(this.sourceElement,l)}}return n}rf.updateSourceElement=rf(Object).prototype.updateSourceElement;var KS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',GS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',ZS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',YS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',JS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',QS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',XS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',eP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',nP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',rP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',iP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',oP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',sP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',aP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',lP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',cP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',uP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',dP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',hP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',fP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',pP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',mP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',gP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',bP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',wP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',yP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',vP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',_P='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',kP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',EP='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',xP='<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',CP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',TP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',SP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',PP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',AP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',OP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',MP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',RP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',IP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',NP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',DP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',LP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',BP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',FP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',VP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',zP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',jP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',$P='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',WP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',HP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',UP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',qP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',KP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',GP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',ZP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',YP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',JP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',QP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',XP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',eA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',tA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>';const fn={bold:IP,cancel:KS,caption:GS,check:ZS,cog:YS,colorPalette:JS,eraser:QS,history:XS,image:oP,imageUpload:sP,imageAssetManager:aP,imageUrl:lP,lowVision:eP,textAlternative:tP,loupe:nP,previousArrow:rP,nextArrow:iP,importExport:BP,paragraph:NP,plus:DP,text:LP,alignBottom:cP,alignMiddle:uP,alignTop:dP,alignLeft:hP,alignCenter:fP,alignRight:pP,alignJustify:mP,objectLeft:_P,objectCenter:bP,objectRight:kP,objectFullWidth:yP,objectInline:vP,objectBlockLeft:gP,objectBlockRight:wP,objectSizeCustom:xP,objectSizeFull:EP,objectSizeLarge:CP,objectSizeSmall:TP,objectSizeMedium:SP,pencil:PP,pilcrow:AP,quote:OP,threeVerticalDots:MP,dragIndicator:RP,redo:FP,undo:VP,bulletedList:zP,numberedList:jP,todoList:$P,codeBlock:WP,browseFiles:HP,heading1:UP,heading2:qP,heading3:KP,heading4:GP,heading5:ZP,heading6:YP,horizontalLine:JP,html:QP,indent:XP,outdent:eA,table:tA};function nA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var rA={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const ql=rA,Jb={};for(const i of Object.keys(ql))Jb[ql[i]]=i;const De={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var Qb=De;for(const i of Object.keys(De)){if(!("channels"in De[i]))throw new Error("missing channels property: "+i);if(!("labels"in De[i]))throw new Error("missing channel labels property: "+i);if(De[i].labels.length!==De[i].channels)throw new Error("channel and label counts mismatch: "+i);const{channels:n,labels:e}=De[i];delete De[i].channels,delete De[i].labels,Object.defineProperty(De[i],"channels",{value:n}),Object.defineProperty(De[i],"labels",{value:e})}De.rgb.hsl=function(i){const n=i[0]/255,e=i[1]/255,t=i[2]/255,r=Math.min(n,e,t),o=Math.max(n,e,t),s=o-r;let l,u;o===r?l=0:n===o?l=(e-t)/s:e===o?l=2+(t-n)/s:t===o&&(l=4+(n-e)/s),l=Math.min(l*60,360),l<0&&(l+=360);const d=(r+o)/2;return o===r?u=0:d<=.5?u=s/(o+r):u=s/(2-o-r),[l,u*100,d*100]};De.rgb.hsv=function(i){let n,e,t,r,o;const s=i[0]/255,l=i[1]/255,u=i[2]/255,d=Math.max(s,l,u),f=d-Math.min(s,l,u),p=function(b){return(d-b)/6/f+1/2};return f===0?(r=0,o=0):(o=f/d,n=p(s),e=p(l),t=p(u),s===d?r=t-e:l===d?r=1/3+n-t:u===d&&(r=2/3+e-n),r<0?r+=1:r>1&&(r-=1)),[r*360,o*100,d*100]};De.rgb.hwb=function(i){const n=i[0],e=i[1];let t=i[2];const r=De.rgb.hsl(i)[0],o=1/255*Math.min(n,Math.min(e,t));return t=1-1/255*Math.max(n,Math.max(e,t)),[r,o*100,t*100]};De.rgb.cmyk=function(i){const n=i[0]/255,e=i[1]/255,t=i[2]/255,r=Math.min(1-n,1-e,1-t),o=(1-n-r)/(1-r)||0,s=(1-e-r)/(1-r)||0,l=(1-t-r)/(1-r)||0;return[o*100,s*100,l*100,r*100]};function iA(i,n){return(i[0]-n[0])**2+(i[1]-n[1])**2+(i[2]-n[2])**2}De.rgb.keyword=function(i){const n=Jb[i];if(n)return n;let e=1/0,t;for(const r of Object.keys(ql)){const o=ql[r],s=iA(i,o);s<e&&(e=s,t=r)}return t};De.keyword.rgb=function(i){return ql[i]};De.rgb.xyz=function(i){let n=i[0]/255,e=i[1]/255,t=i[2]/255;n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92;const r=n*.4124+e*.3576+t*.1805,o=n*.2126+e*.7152+t*.0722,s=n*.0193+e*.1192+t*.9505;return[r*100,o*100,s*100]};De.rgb.lab=function(i){const n=De.rgb.xyz(i);let e=n[0],t=n[1],r=n[2];e/=95.047,t/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const o=116*t-16,s=500*(e-t),l=200*(t-r);return[o,s,l]};De.hsl.rgb=function(i){const n=i[0]/360,e=i[1]/100,t=i[2]/100;let r,o,s;if(e===0)return s=t*255,[s,s,s];t<.5?r=t*(1+e):r=t+e-t*e;const l=2*t-r,u=[0,0,0];for(let d=0;d<3;d++)o=n+1/3*-(d-1),o<0&&o++,o>1&&o--,6*o<1?s=l+(r-l)*6*o:2*o<1?s=r:3*o<2?s=l+(r-l)*(2/3-o)*6:s=l,u[d]=s*255;return u};De.hsl.hsv=function(i){const n=i[0];let e=i[1]/100,t=i[2]/100,r=e;const o=Math.max(t,.01);t*=2,e*=t<=1?t:2-t,r*=o<=1?o:2-o;const s=(t+e)/2,l=t===0?2*r/(o+r):2*e/(t+e);return[n,l*100,s*100]};De.hsv.rgb=function(i){const n=i[0]/60,e=i[1]/100;let t=i[2]/100;const r=Math.floor(n)%6,o=n-Math.floor(n),s=255*t*(1-e),l=255*t*(1-e*o),u=255*t*(1-e*(1-o));switch(t*=255,r){case 0:return[t,u,s];case 1:return[l,t,s];case 2:return[s,t,u];case 3:return[s,l,t];case 4:return[u,s,t];case 5:return[t,s,l]}};De.hsv.hsl=function(i){const n=i[0],e=i[1]/100,t=i[2]/100,r=Math.max(t,.01);let o,s;s=(2-e)*t;const l=(2-e)*r;return o=e*r,o/=l<=1?l:2-l,o=o||0,s/=2,[n,o*100,s*100]};De.hwb.rgb=function(i){const n=i[0]/360;let e=i[1]/100,t=i[2]/100;const r=e+t;let o;r>1&&(e/=r,t/=r);const s=Math.floor(6*n),l=1-t;o=6*n-s,s&1&&(o=1-o);const u=e+o*(l-e);let d,f,p;switch(s){default:case 6:case 0:d=l,f=u,p=e;break;case 1:d=u,f=l,p=e;break;case 2:d=e,f=l,p=u;break;case 3:d=e,f=u,p=l;break;case 4:d=u,f=e,p=l;break;case 5:d=l,f=e,p=u;break}return[d*255,f*255,p*255]};De.cmyk.rgb=function(i){const n=i[0]/100,e=i[1]/100,t=i[2]/100,r=i[3]/100,o=1-Math.min(1,n*(1-r)+r),s=1-Math.min(1,e*(1-r)+r),l=1-Math.min(1,t*(1-r)+r);return[o*255,s*255,l*255]};De.xyz.rgb=function(i){const n=i[0]/100,e=i[1]/100,t=i[2]/100;let r,o,s;return r=n*3.2406+e*-1.5372+t*-.4986,o=n*-.9689+e*1.8758+t*.0415,s=n*.0557+e*-.204+t*1.057,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[r*255,o*255,s*255]};De.xyz.lab=function(i){let n=i[0],e=i[1],t=i[2];n/=95.047,e/=100,t/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116;const r=116*e-16,o=500*(n-e),s=200*(e-t);return[r,o,s]};De.lab.xyz=function(i){const n=i[0],e=i[1],t=i[2];let r,o,s;o=(n+16)/116,r=e/500+o,s=o-t/200;const l=o**3,u=r**3,d=s**3;return o=l>.008856?l:(o-16/116)/7.787,r=u>.008856?u:(r-16/116)/7.787,s=d>.008856?d:(s-16/116)/7.787,r*=95.047,o*=100,s*=108.883,[r,o,s]};De.lab.lch=function(i){const n=i[0],e=i[1],t=i[2];let r;r=Math.atan2(t,e)*360/2/Math.PI,r<0&&(r+=360);const s=Math.sqrt(e*e+t*t);return[n,s,r]};De.lch.lab=function(i){const n=i[0],e=i[1],r=i[2]/360*2*Math.PI,o=e*Math.cos(r),s=e*Math.sin(r);return[n,o,s]};De.rgb.ansi16=function(i,n=null){const[e,t,r]=i;let o=n===null?De.rgb.hsv(i)[2]:n;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(r/255)<<2|Math.round(t/255)<<1|Math.round(e/255));return o===2&&(s+=60),s};De.hsv.ansi16=function(i){return De.rgb.ansi16(De.hsv.rgb(i),i[2])};De.rgb.ansi256=function(i){const n=i[0],e=i[1],t=i[2];return n===e&&e===t?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(e/255*5)+Math.round(t/255*5)};De.ansi16.rgb=function(i){let n=i%10;if(n===0||n===7)return i>50&&(n+=3.5),n=n/10.5*255,[n,n,n];const e=(~~(i>50)+1)*.5,t=(n&1)*e*255,r=(n>>1&1)*e*255,o=(n>>2&1)*e*255;return[t,r,o]};De.ansi256.rgb=function(i){if(i>=232){const o=(i-232)*10+8;return[o,o,o]}i-=16;let n;const e=Math.floor(i/36)/5*255,t=Math.floor((n=i%36)/6)/5*255,r=n%6/5*255;return[e,t,r]};De.rgb.hex=function(i){const e=(((Math.round(i[0])&255)<<16)+((Math.round(i[1])&255)<<8)+(Math.round(i[2])&255)).toString(16).toUpperCase();return"000000".substring(e.length)+e};De.hex.rgb=function(i){const n=i.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];let e=n[0];n[0].length===3&&(e=e.split("").map(l=>l+l).join(""));const t=parseInt(e,16),r=t>>16&255,o=t>>8&255,s=t&255;return[r,o,s]};De.rgb.hcg=function(i){const n=i[0]/255,e=i[1]/255,t=i[2]/255,r=Math.max(Math.max(n,e),t),o=Math.min(Math.min(n,e),t),s=r-o;let l,u;return s<1?l=o/(1-s):l=0,s<=0?u=0:r===n?u=(e-t)/s%6:r===e?u=2+(t-n)/s:u=4+(n-e)/s,u/=6,u%=1,[u*360,s*100,l*100]};De.hsl.hcg=function(i){const n=i[1]/100,e=i[2]/100,t=e<.5?2*n*e:2*n*(1-e);let r=0;return t<1&&(r=(e-.5*t)/(1-t)),[i[0],t*100,r*100]};De.hsv.hcg=function(i){const n=i[1]/100,e=i[2]/100,t=n*e;let r=0;return t<1&&(r=(e-t)/(1-t)),[i[0],t*100,r*100]};De.hcg.rgb=function(i){const n=i[0]/360,e=i[1]/100,t=i[2]/100;if(e===0)return[t*255,t*255,t*255];const r=[0,0,0],o=n%1*6,s=o%1,l=1-s;let u=0;switch(Math.floor(o)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=l,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=l,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=l}return u=(1-e)*t,[(e*r[0]+u)*255,(e*r[1]+u)*255,(e*r[2]+u)*255]};De.hcg.hsv=function(i){const n=i[1]/100,e=i[2]/100,t=n+e*(1-n);let r=0;return t>0&&(r=n/t),[i[0],r*100,t*100]};De.hcg.hsl=function(i){const n=i[1]/100,t=i[2]/100*(1-n)+.5*n;let r=0;return t>0&&t<.5?r=n/(2*t):t>=.5&&t<1&&(r=n/(2*(1-t))),[i[0],r*100,t*100]};De.hcg.hwb=function(i){const n=i[1]/100,e=i[2]/100,t=n+e*(1-n);return[i[0],(t-n)*100,(1-t)*100]};De.hwb.hcg=function(i){const n=i[1]/100,t=1-i[2]/100,r=t-n;let o=0;return r<1&&(o=(t-r)/(1-r)),[i[0],r*100,o*100]};De.apple.rgb=function(i){return[i[0]/65535*255,i[1]/65535*255,i[2]/65535*255]};De.rgb.apple=function(i){return[i[0]/255*65535,i[1]/255*65535,i[2]/255*65535]};De.gray.rgb=function(i){return[i[0]/100*255,i[0]/100*255,i[0]/100*255]};De.gray.hsl=function(i){return[0,0,i[0]]};De.gray.hsv=De.gray.hsl;De.gray.hwb=function(i){return[0,100,i[0]]};De.gray.cmyk=function(i){return[0,0,0,i[0]]};De.gray.lab=function(i){return[i[0],0,0]};De.gray.hex=function(i){const n=Math.round(i[0]/100*255)&255,t=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return"000000".substring(t.length)+t};De.rgb.gray=function(i){return[(i[0]+i[1]+i[2])/3/255*100]};const zu=Qb;function oA(){const i={},n=Object.keys(zu);for(let e=n.length,t=0;t<e;t++)i[n[t]]={distance:-1,parent:null};return i}function sA(i){const n=oA(),e=[i];for(n[i].distance=0;e.length;){const t=e.pop(),r=Object.keys(zu[t]);for(let o=r.length,s=0;s<o;s++){const l=r[s],u=n[l];u.distance===-1&&(u.distance=n[t].distance+1,u.parent=t,e.unshift(l))}}return n}function aA(i,n){return function(e){return n(i(e))}}function lA(i,n){const e=[n[i].parent,i];let t=zu[n[i].parent][i],r=n[i].parent;for(;n[r].parent;)e.unshift(n[r].parent),t=aA(zu[n[r].parent][r],t),r=n[r].parent;return t.conversion=e,t}var cA=function(i){const n=sA(i),e={},t=Object.keys(n);for(let r=t.length,o=0;o<r;o++){const s=t[o];n[s].parent!==null&&(e[s]=lA(s,n))}return e};const of=Qb,uA=cA,yl={},dA=Object.keys(of);function hA(i){const n=function(...e){const t=e[0];return t==null?t:(t.length>1&&(e=t),i(e))};return"conversion"in i&&(n.conversion=i.conversion),n}function fA(i){const n=function(...e){const t=e[0];if(t==null)return t;t.length>1&&(e=t);const r=i(e);if(typeof r=="object")for(let o=r.length,s=0;s<o;s++)r[s]=Math.round(r[s]);return r};return"conversion"in i&&(n.conversion=i.conversion),n}dA.forEach(i=>{yl[i]={},Object.defineProperty(yl[i],"channels",{value:of[i].channels}),Object.defineProperty(yl[i],"labels",{value:of[i].labels});const n=uA(i);Object.keys(n).forEach(t=>{const r=n[t];yl[i][t]=fA(r),yl[i][t].raw=hA(r)})});/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zs extends Ko{constructor(e=[]){super(e,{idProperty:"viewUid"});g(this,"_parentElement");this.on("add",(t,r,o)=>{this._renderViewIntoCollectionParent(r,o)}),this.on("remove",(t,r)=>{r.element&&this._parentElement&&r.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!pA(e))throw new Z("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const r of this)for(const o of e)r.delegate(o).to(t);this.on("add",(r,o)=>{for(const s of e)o.delegate(s).to(t)}),this.on("remove",(r,o)=>{for(const s of e)o.stopDelegating(s,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function pA(i){return i.every(n=>typeof n=="string")}const mA="http://www.w3.org/1999/xhtml";class Ci extends At(){constructor(e){super();g(this,"ns");g(this,"tag");g(this,"text");g(this,"attributes");g(this,"children");g(this,"eventListeners");g(this,"_isRendered");g(this,"_revertData");Object.assign(this,o0(i0(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=l0(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new Z("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const r of t.children)ju(r)?yield r:Wf(r)&&(yield*e(r))}yield*e(this)}static bind(e,t){return{to(r,o){return new gA({eventNameOrFunction:r,attribute:r,observable:e,emitter:t,callback:o})},if(r,o,s){return new Xb({observable:e,emitter:t,attribute:r,valueIfTrue:o,callback:s})}}}static extend(e,t){if(e._isRendered)throw new Z("template-extend-render",[this,e]);rw(e,o0(i0(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new Z("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||mA,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),xu(this.text)?this._bindToObservable({schema:this.text,updater:wA(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,r=e.revertData;for(const o in this.attributes){const s=t.getAttribute(o),l=this.attributes[o];r&&(r.attributes[o]=s);const u=a0(l)?l[0].ns:null;if(xu(l)){const d=a0(l)?l[0].value:l;r&&c0(o)&&d.unshift(s),this._bindToObservable({schema:d,updater:yA(t,o,u),data:e})}else if(o=="style"&&typeof l[0]!="string")this._renderStyleAttribute(l[0],e);else{r&&s&&c0(o)&&l.unshift(s);const d=l.map(f=>f&&(f.value||f)).reduce((f,p)=>f.concat(p),[]).reduce(nw,"");Ma(d)||t.setAttributeNS(u,o,d)}}}_renderStyleAttribute(e,t){const r=t.node;for(const o in e){const s=e[o];xu(s)?this._bindToObservable({schema:[s],updater:vA(r,o),data:t}):r.style[o]=s}}_renderElementChildren(e){const t=e.node,r=e.intoFragment?document.createDocumentFragment():t,o=e.isApplying;let s=0;for(const l of this.children)if(Hf(l)){if(!o){l.setParent(t);for(const u of l)r.appendChild(u.element)}}else if(ju(l))o||(l.isRendered||l.render(),r.appendChild(l.element));else if(Wo(l))r.appendChild(l);else if(o){const u=e.revertData,d=l0();u.children.push(d),l._renderNode({intoFragment:!1,node:r.childNodes[s++],isApplying:!0,revertData:d})}else r.appendChild(l.render());e.intoFragment&&t.appendChild(r)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const r=this.eventListeners[t].map(o=>{const[s,l]=t.split("@");return o.activateDomEventListener(s,l,e)});e.revertData&&e.revertData.bindings.push(r)}}_bindToObservable({schema:e,updater:t,data:r}){const o=r.revertData;ew(e,t,r);const s=e.filter(l=>!Ma(l)).filter(l=>l.observable).map(l=>l.activateAttributeListener(e,t,r));o&&o.bindings.push(s)}_revertTemplateFromNode(e,t){for(const o of t.bindings)for(const s of o)s();if(t.text){e.textContent=t.text;return}const r=e;for(const o in t.attributes){const s=t.attributes[o];s===null?r.removeAttribute(o):r.setAttribute(o,s)}for(let o=0;o<t.children.length;++o)this._revertTemplateFromNode(r.childNodes[o],t.children[o])}}class tc{constructor(n){g(this,"attribute");g(this,"observable");g(this,"emitter");g(this,"callback");this.attribute=n.attribute,this.observable=n.observable,this.emitter=n.emitter,this.callback=n.callback}getValue(n){const e=this.observable[this.attribute];return this.callback?this.callback(e,n):e}activateAttributeListener(n,e,t){const r=()=>ew(n,e,t);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,r),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,r)}}}class gA extends tc{constructor(e){super(e);g(this,"eventNameOrFunction");this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,r){const o=(s,l)=>{(!t||l.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(l):this.observable.fire(this.eventNameOrFunction,l))};return this.emitter.listenTo(r.node,e,o),()=>{this.emitter.stopListening(r.node,e,o)}}}class Xb extends tc{constructor(e){super(e);g(this,"valueIfTrue");this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return Ma(t)?!1:this.valueIfTrue||!0}}function xu(i){return i?(i.value&&(i=i.value),Array.isArray(i)?i.some(xu):i instanceof tc):!1}function bA(i,n){return i.map(e=>e instanceof tc?e.getValue(n):e)}function ew(i,n,{node:e}){const t=bA(i,e);let r;i.length==1&&i[0]instanceof Xb?r=t[0]:r=t.reduce(nw,""),Ma(r)?n.remove():n.set(r)}function wA(i){return{set(n){i.textContent=n},remove(){i.textContent=""}}}function yA(i,n,e){return{set(t){i.setAttributeNS(e,n,t)},remove(){i.removeAttributeNS(e,n)}}}function vA(i,n){return{set(e){i.style[n]=e},remove(){i.style[n]=null}}}function i0(i){return Tf(i,e=>{if(e&&(e instanceof tc||Wf(e)||ju(e)||Hf(e)))return e})}function o0(i){if(typeof i=="string"?i=EA(i):i.text&&xA(i),i.on&&(i.eventListeners=kA(i.on),delete i.on),!i.text){i.attributes&&_A(i.attributes);const n=[];if(i.children)if(Hf(i.children))n.push(i.children);else for(const e of i.children)Wf(e)||ju(e)||Wo(e)?n.push(e):n.push(new Ci(e));i.children=n}return i}function _A(i){for(const n in i)i[n].value&&(i[n].value=Ht(i[n].value)),tw(i,n)}function kA(i){for(const n in i)tw(i,n);return i}function EA(i){return{text:[i]}}function xA(i){i.text=Ht(i.text)}function tw(i,n){i[n]=Ht(i[n])}function nw(i,n){return Ma(n)?i:Ma(i)?n:`${i} ${n}`}function s0(i,n){for(const e in n)i[e]?i[e].push(...n[e]):i[e]=n[e]}function rw(i,n){if(n.attributes&&(i.attributes||(i.attributes={}),s0(i.attributes,n.attributes)),n.eventListeners&&(i.eventListeners||(i.eventListeners={}),s0(i.eventListeners,n.eventListeners)),n.text&&i.text.push(...n.text),n.children&&n.children.length){if(i.children.length!=n.children.length)throw new Z("ui-template-extend-children-mismatch",i);let e=0;for(const t of n.children)rw(i.children[e++],t)}}function Ma(i){return!i&&i!==0}function ju(i){return i instanceof ut}function Wf(i){return i instanceof Ci}function Hf(i){return i instanceof zs}function a0(i){return qt(i[0])&&i[0].ns}function l0(){return{children:[],bindings:[],attributes:{}}}function c0(i){return i=="class"||i=="style"}class ut extends ai(on()){constructor(e){super();g(this,"element");g(this,"isRendered");g(this,"locale");g(this,"t");g(this,"template");g(this,"_viewCollections");g(this,"_unboundChildren");g(this,"_bindTemplate");this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Ko,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,r)=>{r.locale=e,r.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Ci.bind(this,this)}createCollection(e){const t=new zs(e);return this._viewCollections.add(t),t}registerChild(e){xr(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){xr(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Ci(e)}extendTemplate(e){Ci.extend(this.template,e)}render(){if(this.isRendered)throw new Z("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function iw({emitter:i,activator:n,callback:e,contextElements:t,listenerOptions:r}){i.listenTo(document,"mousedown",(o,s)=>{if(!n())return;const l=typeof s.composedPath=="function"?s.composedPath():[],u=typeof t=="function"?t():t;for(const d of u)if(d.contains(s.target)||l.includes(d))return;e()},r)}const Uu=class Uu extends ut{constructor(){super();const n=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",n.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",n.if("isColorInherited","ck-icon_inherit-color")],viewBox:n.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");t&&(this.viewBox=t);for(const{name:r,value:o}of Array.from(e.attributes))Uu.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,o);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(n=>{n.style.fill=this.fillColor})}};g(Uu,"presentationalAttributeNames",["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"]);let eo=Uu;class ow extends ut{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const n=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("style"),id:n.to("id")},children:[{text:n.to("text")}]})}}class lr extends ut{constructor(e,t=new ow){super(e);g(this,"children");g(this,"labelView");g(this,"iconView");g(this,"keystrokeView");g(this,"_focusDelayed",null);const r=this.bindTemplate,o=oo();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${o}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new eo,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const s={tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",l=>!l),r.if("isVisible","ck-hidden",l=>!l),r.to("isOn",l=>l?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],role:r.to("role"),type:r.to("type",l=>l||"button"),tabindex:r.to("tabindex"),"aria-checked":r.to("_ariaChecked"),"aria-pressed":r.to("_ariaPressed"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy"),"aria-disabled":r.if("isEnabled",!0,l=>!l),"data-cke-tooltip-text":r.to("_tooltipString"),"data-cke-tooltip-position":r.to("tooltipPosition")},children:this.children,on:{click:r.to(l=>{this.isEnabled?this.fire("execute"):l.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(l,u,d)=>!u||u0(d)?!1:String(!!l)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(l,u,d)=>!u||!u0(d)?!1:String(!!l)),Xe.isSafari&&(this._focusDelayed||(this._focusDelayed=Mf(()=>this.focus(),0)),s.on.mousedown=r.to(()=>{this._focusDelayed()}),s.on.mouseup=r.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(s)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new ut;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>Lu(t))}]}),e}_getTooltipString(e,t,r){return e?typeof e=="string"?e:(r&&(r=Lu(r)),e instanceof Function?e(t,r):`${t}${r?` (${r})`:""}`):""}}function u0(i){switch(i){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class CA extends ut{constructor(e,t={}){super(e);g(this,"children");g(this,"iconView");const r=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",r.to("class")]},children:this.children}),t.icon&&(this.iconView=new eo,this.iconView.content=t.icon,this.children.add(this.iconView));const o=new ut(e);o.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:r.to("label")}]}),this.children.add(o)}}class nc extends At(){constructor(e){super();g(this,"focusables");g(this,"focusTracker");g(this,"keystrokeHandler");g(this,"actions");if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let r=e.actions[t];typeof r=="string"&&(r=[r]);for(const o of r)e.keystrokeHandler.set(o,(s,l)=>{this[t](),l()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(xh)||null}get last(){return this.focusables.filter(xh).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,r)=>{const o=t.element===this.focusTracker.focusedElement;return o&&(e=r),o}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const t=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",r=>{const o=t();this.focusNext(),o!==t()&&r.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",r=>{const o=t();this.focusPrevious(),o!==t()&&r.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const r=this.current;if(r===null)return this[e===1?"first":"last"];let o=this.focusables.get(r),s=(r+t+e)%t;do{const l=this.focusables.get(s);if(xh(l)){o=l;break}s=(s+t+e)%t}while(s!==r);return o}}function xh(i){return rc(i)&&Qi(i.element)}function rc(i){return"focus"in i&&typeof i.focus=="function"}function TA(i){return rc(i)&&"focusCycler"in i&&i.focusCycler instanceof nc}function SA(i){class n extends i{constructor(...r){super(...r);g(this,"_onDragBound",this._onDrag.bind(this));g(this,"_onDragEndBound",this._onDragEnd.bind(this));g(this,"_lastDraggingCoordinates",{x:0,y:0});this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(Le.document,"mouseup",this._onDragEndBound),this.listenTo(Le.document,"touchend",this._onDragEndBound),this.listenTo(Le.document,"mousemove",this._onDragBound),this.listenTo(Le.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(Le.document,"mouseup",this._onDragEndBound),this.stopListening(Le.document,"touchend",this._onDragEndBound),this.stopListening(Le.document,"mousemove",this._onDragBound),this.stopListening(Le.document,"touchmove",this._onDragBound)}_onDragStart(r,o){if(!this._isHandleElementPressed(o))return;this._attachDragListeners();let s=0,l=0;o instanceof MouseEvent?(s=o.clientX,l=o.clientY):(s=o.touches[0].clientX,l=o.touches[0].clientY),this._lastDraggingCoordinates={x:s,y:l},this.isDragging=!0}_onDrag(r,o){if(!this.isDragging){this._detachDragListeners();return}let s=0,l=0;o instanceof MouseEvent?(s=o.clientX,l=o.clientY):(s=o.touches[0].clientX,l=o.touches[0].clientY),o.preventDefault(),this.fire("drag",{deltaX:Math.round(s-this._lastDraggingCoordinates.x),deltaY:Math.round(l-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:s,y:l}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(r){return this.dragHandleElement?this.dragHandleElement===r.target||r.target instanceof HTMLElement&&this.dragHandleElement.contains(r.target):!1}}return n}class PA extends ut{constructor(e){super(e);g(this,"children");g(this,"keystrokes");g(this,"focusCycler");g(this,"_focusTracker");g(this,"_focusables");this.children=this.createCollection(),this.keystrokes=new Zo,this._focusTracker=new Go,this._focusables=new zs,this.focusCycler=new nc({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const r=new lr(this.locale);let o;r.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(r);for(o in t)o!="onExecute"&&o!="onCreate"&&r.set(o,t[o]);this.children.add(r)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class AA extends ut{constructor(e){super(e);g(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const Jr={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},d0=rd("px"),qu=class qu extends SA(ut){constructor(e,{getCurrentDomRoot:t,getViewportOffset:r}){super(e);g(this,"parts");g(this,"headerView");g(this,"closeButtonView");g(this,"actionsView");g(this,"contentView");g(this,"keystrokes");g(this,"focusTracker");g(this,"wasMoved",!1);g(this,"_getCurrentDomRoot");g(this,"_getViewportOffset");g(this,"_focusables");g(this,"_focusCycler");const o=this.bindTemplate,s=e.t;this.set("className",""),this.set("ariaLabel",s("Editor dialog")),this.set("isModal",!1),this.set("position",Jr.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=t,this._getViewportOffset=r,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Zo,this.focusTracker=new Go,this._focusables=new zs,this._focusCycler=new nc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",o.if("isModal","ck-dialog-overlay__transparent",l=>!l),o.if("_isVisible","ck-hidden",l=>!l)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",o.to("className")],role:"dialog","aria-label":o.to("ariaLabel"),style:{top:o.to("_top",l=>d0(l)),left:o.to("_left",l=>d0(l)),visibility:o.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,t)=>{this.fire("close",{source:"escKeyPress"}),t()}),this.on("drag",(e,{deltaX:t,deltaY:r})=>{this.wasMoved=!0,this.moveBy(t,r)}),this.listenTo(Le.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(Le.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,t,r)=>{r&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:e,title:t,hasCloseButton:r=!0,content:o,actionButtons:s}){t&&(this.headerView=new CA(this.locale,{icon:e}),r&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=t,this.ariaLabel=t,this.parts.add(this.headerView,0)),o&&(o instanceof ut&&(o=[o]),this.contentView=new AA(this.locale),this.contentView.children.addMany(o),this.parts.add(this.contentView)),s&&(this.actionsView=new PA(this.locale),this.actionsView.setButtons(s),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const r=this._getViewportRect(),o=this._getDialogRect();e+o.width>r.right&&(e=r.right-o.width),e<r.left&&(e=r.left),t<r.top&&(t=r.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t=this.position,r;this._getCurrentDomRoot()?r=this._getVisibleDomRootRect(e):t=Jr.SCREEN_CENTER;const o=qu.defaultOffset,s=this._getDialogRect();switch(t){case Jr.EDITOR_TOP_SIDE:{if(r){const l=this.locale.contentLanguageDirection==="ltr"?r.right-s.width-o:r.left+o;this.moveTo(l,r.top+o)}else this._moveOffScreen();break}case Jr.EDITOR_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),Math.round(r.top+r.height/2-s.height/2)):this._moveOffScreen();break}case Jr.SCREEN_CENTER:{this.moveTo(Math.round((e.width-s.width)/2),Math.round((e.height-s.height)/2));break}case Jr.EDITOR_TOP_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.top+o):this._moveOffScreen();break}case Jr.EDITOR_BOTTOM_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.bottom-s.height-o):this._moveOffScreen();break}case Jr.EDITOR_ABOVE_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.top-s.height-o):this._moveOffScreen();break}case Jr.EDITOR_BELOW_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.bottom+o):this._moveOffScreen();break}}}_getVisibleDomRootRect(e){let t=new ft(this._getCurrentDomRoot()).getVisible();if(t){if(t=e.getIntersection(t),!t)return null}else return null;return t}_getDialogRect(){return new ft(this.element.firstElementChild)}_getViewportRect(){return OA(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)rc(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element),TA(t)&&this._focusCycler.chain(t.focusCycler)})}_createCloseButton(){const e=new lr(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:fn.cancel}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}};g(qu,"defaultOffset",15);let Kl=qu;function OA(i){i=Object.assign({top:0,bottom:0,left:0,right:0},i);const n=new ft(Le.window);return n.top+=i.top,n.height-=i.top,n.bottom-=i.bottom,n.height-=i.bottom,n.left+=i.left,n.right-=i.right,n.width-=i.left+i.right,n}const ki=class ki extends lt{constructor(e){super(e);g(this,"view");g(this,"_onHide");const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{ki._visibleDialogPlugin&&ki._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,r)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),r())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const r of t)r.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:r,hasCloseButton:o=!0,content:s,actionButtons:l,className:u,isModal:d,position:f,onHide:p}){const b=this.editor;this.view=new Kl(b.locale,{getCurrentDomRoot:()=>b.editing.view.getDomRoot(b.model.document.selection.anchor.root.rootName),getViewportOffset:()=>b.ui.viewportOffset});const v=this.view;v.on("close",()=>{this.hide()}),b.ui.view.body.add(v),b.keystrokes.listenTo(v.element),f||(f=d?Jr.SCREEN_CENTER:Jr.EDITOR_CENTER),v.set({position:f,_isVisible:!0,className:u,isModal:d}),v.setupParts({icon:t,title:r,hasCloseButton:o,content:s,actionButtons:l}),this.id=e,p&&(this._onHide=p),this.isOpen=!0,ki._visibleDialogPlugin=this}hide(){ki._visibleDialogPlugin&&ki._visibleDialogPlugin.fire(`hide:${ki._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,ki._visibleDialogPlugin=null}};g(ki,"_visibleDialogPlugin");let sf=ki;class Ra extends lr{constructor(e,t=new ow){super(e,t);g(this,"_checkIconHolderView",new MA);this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const r=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",r.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(o,s)=>o||s)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,t,r)=>{const{children:o,_checkIconHolderView:s}=this;r?o.add(s,0):o.remove(s)})}}class MA extends ut{constructor(){super();g(this,"children");g(this,"_checkIconView",this._createCheckIconView());const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",t=>t?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,t,r)=>{const{children:o,_checkIconView:s}=this;r&&!o.has(s)?o.add(s):!r&&o.has(s)&&o.remove(s)})}_createCheckIconView(){const e=new eo;return e.content=fn.check,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class ao extends Ra{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class Uf extends ut{constructor(e){super(e);g(this,"id");this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${oo()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class RA extends ut{constructor(n,e){super(n);const t=n.t,r=new Uf;r.text=t("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":r.id,role:"document",tabindex:-1},children:[Qr(document,"p",{},t("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(e.values())),r]})}focus(){this.element.focus()}_createCategories(n){return n.map(e=>{const t=[Qr(document,"h3",{},e.label),...Array.from(e.groups.values()).map(r=>this._createGroup(r)).flat()];return e.description&&t.splice(1,0,Qr(document,"p",{},e.description)),Qr(document,"section",{},t)})}_createGroup(n){const e=n.keystrokes.sort((r,o)=>r.label.localeCompare(o.label)).map(r=>this._createGroupRow(r)).flat(),t=[Qr(document,"dl",{},e)];return n.label&&t.unshift(Qr(document,"h4",{},n.label)),t}_createGroupRow(n){const e=this.locale.t,t=Qr(document,"dt"),r=Qr(document,"dd"),o=NA(n.keystroke),s=[];for(const l of o)s.push(l.map(IA).join(""));return t.innerHTML=n.label,r.innerHTML=s.join(", ")+(n.mayRequireFn&&Xe.isMac?` ${e("(may require <kbd>Fn</kbd>)")}`:""),[t,r]}}function IA(i){return Lu(i).split("+").map(n=>`<kbd>${n}</kbd>`).join("+")}function NA(i){return typeof i=="string"?[[i]]:typeof i[0]=="string"?[i]:i}var h0='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';class DA extends lt{constructor(){super(...arguments);g(this,"contentView",null)}static get requires(){return[sf]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const r=this._createButton(lr);return r.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),r}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const r=this._createButton(ao);return r.label=t("Accessibility"),r}),e.keystrokes.set("Alt+0",(r,o)=>{this._toggleDialog(),o()}),this._setupRootLabels()}_createButton(e){const t=this.editor,r=t.plugins.get("Dialog"),o=t.locale,s=new e(o);return s.set({keystroke:"Alt+0",icon:h0,isToggleable:!0}),s.on("execute",()=>this._toggleDialog()),s.bind("isOn").to(r,"id",l=>l==="accessibilityHelp"),s}_setupRootLabels(){const e=this.editor,t=e.editing.view,r=e.t;e.ui.on("ready",()=>{t.change(s=>{for(const l of t.document.roots)o(s,l)}),e.on("addRoot",(s,l)=>{const u=e.editing.view.document.getRoot(l.rootName);t.change(d=>o(d,u))},{priority:"low"})});function o(s,l){const d=[l.getAttribute("aria-label"),r("Press %0 for help.",[Lu("Alt+0")])].filter(f=>f).join(". ");s.setAttribute("aria-label",d,l)}}_toggleDialog(){const e=this.editor,t=e.plugins.get("Dialog"),r=e.locale.t;this.contentView||(this.contentView=new RA(e.locale,e.accessibility.keystrokeInfos)),t.id==="accessibilityHelp"?t.hide():t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:r("Accessibility help"),icon:h0,hasCloseButton:!0,content:this.contentView})}}class LA extends zs{constructor(e,t=[]){super(t);g(this,"locale");g(this,"_bodyCollectionContainer");this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Ci({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Qr(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}class sw extends lr{constructor(e){super(e);g(this,"toggleSwitchView");this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new ut;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class BA extends FA(Ra){}function FA(i){class n extends i{constructor(...r){super(...r);g(this,"buttonView");g(this,"_fileInputView");this.buttonView=this,this._fileInputView=new VA(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}return n}class VA extends ut{constructor(n){super(n),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}var qf='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class zA extends ut{constructor(e){super(e);g(this,"children");const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",r=>`ck-dropdown__panel_${r}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Zt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}const xa=class xa extends ut{constructor(e,t,r){super(e);g(this,"buttonView");g(this,"panelView");g(this,"focusTracker");g(this,"keystrokes");g(this,"listView");g(this,"toolbarView");g(this,"menuView");const o=this.bindTemplate;this.buttonView=t,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Zo,this.focusTracker=new Go,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",s=>!s)],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[t,r]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":o.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(t,r,o)=>{if(o)if(this.panelPosition==="auto"){const s=xa._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(t,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(t,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:r,southWest:o,northEast:s,northWest:l,southMiddleEast:u,southMiddleWest:d,northMiddleEast:f,northMiddleWest:p}=xa.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,o,u,d,e,s,l,f,p,t]:[o,r,d,u,e,l,s,p,f,t]}};g(xa,"defaultPanelPositions",{south:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),southMiddleEast:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}),southMiddleWest:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)*3/4,name:"smw"}),north:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),northMiddleEast:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}),northMiddleWest:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)*3/4,name:"nmw"})}),g(xa,"_getOptimalPosition",Pf);let af=xa;class jA extends lr{constructor(e){super(e);g(this,"arrowView");this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new eo;return e.content=qf,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Ho extends ut{constructor(e){super(e);g(this,"children");const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",r=>!r)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Kf extends ut{constructor(n){super(n),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Cu extends ut{constructor(e,t=new Uf){super(e);g(this,"labelView");g(this,"items");g(this,"children");const r=this.bindTemplate,o=new Gf(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,o]),o.set({role:"group",ariaLabelledBy:t.id}),o.focusTracker.destroy(),o.keystrokes.destroy(),this.items=o.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",r.if("isVisible","ck-hidden",s=>!s)]},children:this.children})}focus(){if(this.items){const e=this.items.find(t=>!(t instanceof Kf));e&&e.focus()}}}class Gf extends ut{constructor(e){super(e);g(this,"focusables");g(this,"items");g(this,"focusTracker");g(this,"keystrokes");g(this,"_focusCycler");g(this,"_listItemGroupToChangeListeners",new WeakMap);const t=this.bindTemplate;this.focusables=new zs,this.items=this.createCollection(),this.focusTracker=new Go,this.keystrokes=new Zo,this._focusCycler=new nc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof Cu?this._registerFocusableItemsGroup(e):e instanceof Ho&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const r of t.removed)r instanceof Cu?this._deregisterFocusableItemsGroup(r):r instanceof Ho&&this._deregisterFocusableListItem(r);for(const r of Array.from(t.added).reverse())r instanceof Cu?this._registerFocusableItemsGroup(r,t.index):this._registerFocusableListItem(r,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,r)=>{for(const o of r.removed)this._deregisterFocusableListItem(o);for(const o of Array.from(r.added).reverse())this._registerFocusableListItem(o,this.items.getIndex(e)+r.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((o,s)=>{const l=typeof t<"u"?t+s:void 0;this._registerFocusableListItem(o,l)});const r=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,r),e.items.on("change",r)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}const f0=rd("px"),$A={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},wr=class wr extends ut{constructor(e){super(e);g(this,"content");g(this,"_pinWhenIsVisibleCallback");g(this,"_resizeObserver");const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",r=>`ck-balloon-panel_${r}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",f0),left:t.to("left",f0)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const t=Tu(e.target);if(t&&!Qi(t))return!1;this.show();const r=wr.defaultPositions,o=Object.assign({},{element:this.element,positions:[r.southArrowNorth,r.southArrowNorthMiddleWest,r.southArrowNorthMiddleEast,r.southArrowNorthWest,r.southArrowNorthEast,r.northArrowSouth,r.northArrowSouthMiddleWest,r.northArrowSouthMiddleEast,r.northArrowSouthWest,r.northArrowSouthEast,r.viewportStickyNorth],limiter:Le.document.body,fitInViewport:!0},e),s=wr._getOptimalPosition(o)||$A,l=parseInt(s.left),u=parseInt(s.top),d=s.name,f=s.config||{},{withArrow:p=!0}=f;return this.top=u,this.left=l,this.position=d,this.withArrow=p,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let t=Tu(e.target);const r=e.limiter?Tu(e.limiter):Le.document.body;if(this.listenTo(Le.document,"scroll",(o,s)=>{const l=s.target,u=t&&l.contains(t),d=r&&l.contains(r);(u||d||!t||!r)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(Le.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(t&&Gt(t)&&(t=t.parentElement),t)){const o=()=>{Qi(t)||this.unpin()};this._resizeObserver=new Bl(t,o)}return!0}_stopPinning(){this.stopListening(Le.document,"scroll"),this.stopListening(Le.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:t=wr.arrowSideOffset,heightOffset:r=wr.arrowHeightOffset,stickyVerticalOffset:o=wr.stickyVerticalOffset,config:s}=e;return{northWestArrowSouthWest:(d,f)=>({top:l(d,f),left:d.left-t,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(d,f)=>({top:l(d,f),left:d.left-f.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(d,f)=>({top:l(d,f),left:d.left-f.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(d,f)=>({top:l(d,f),left:d.left-f.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(d,f)=>({top:l(d,f),left:d.left-f.width+t,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(d,f)=>({top:l(d,f),left:d.left+d.width/2-t,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(d,f)=>({top:l(d,f),left:d.left+d.width/2-f.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(d,f)=>({top:l(d,f),left:d.left+d.width/2-f.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(d,f)=>({top:l(d,f),left:d.left+d.width/2-f.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(d,f)=>({top:l(d,f),left:d.left+d.width/2-f.width+t,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(d,f)=>({top:l(d,f),left:d.right-t,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(d,f)=>({top:l(d,f),left:d.right-f.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(d,f)=>({top:l(d,f),left:d.right-f.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(d,f)=>({top:l(d,f),left:d.right-f.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(d,f)=>({top:l(d,f),left:d.right-f.width+t,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:d=>({top:u(d),left:d.left-t,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(d,f)=>({top:u(d),left:d.left-f.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(d,f)=>({top:u(d),left:d.left-f.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(d,f)=>({top:u(d),left:d.left-f.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(d,f)=>({top:u(d),left:d.left-f.width+t,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:d=>({top:u(d),left:d.left+d.width/2-t,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(d,f)=>({top:u(d),left:d.left+d.width/2-f.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(d,f)=>({top:u(d),left:d.left+d.width/2-f.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(d,f)=>({top:u(d),left:d.left+d.width/2-f.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(d,f)=>({top:u(d),left:d.left+d.width/2-f.width+t,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:d=>({top:u(d),left:d.right-t,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(d,f)=>({top:u(d),left:d.right-f.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(d,f)=>({top:u(d),left:d.right-f.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(d,f)=>({top:u(d),left:d.right-f.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(d,f)=>({top:u(d),left:d.right-f.width+t,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(d,f)=>({top:d.top+d.height/2-f.height/2,left:d.left-f.width-r,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(d,f)=>({top:d.top+d.height/2-f.height/2,left:d.right+r,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(d,f,p,b)=>{const v=b||p;return!d.getIntersection(v)||v.height-d.height>o?null:{top:v.top+o,left:d.left+d.width/2-f.width/2,name:"arrowless",config:{withArrow:!1,...s}}}};function l(d,f){return d.top-f.height-r}function u(d){return d.bottom+r}}};g(wr,"arrowSideOffset",25),g(wr,"arrowHeightOffset",10),g(wr,"stickyVerticalOffset",20),g(wr,"_getOptimalPosition",Pf),g(wr,"defaultPositions",wr.generatePositions());let Gl=wr;function Tu(i){return Ms(i)?i:nd(i)?i.commonAncestorContainer:typeof i=="function"?Tu(i()):null}class aw extends ut{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class WA extends ut{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function HA(i){return i.bindTemplate.to(n=>{n.target===i.element&&n.preventDefault()})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function lw(i){if(Array.isArray(i))return{items:i,removeItems:[]};const n={items:[],removeItems:[]};return i?{...n,...i}:n}const UA={alignLeft:fn.alignLeft,bold:fn.bold,importExport:fn.importExport,paragraph:fn.paragraph,plus:fn.plus,text:fn.text,threeVerticalDots:fn.threeVerticalDots,pilcrow:fn.pilcrow,dragIndicator:fn.dragIndicator};class cw extends ut{constructor(e,t){super(e);g(this,"options");g(this,"items");g(this,"focusTracker");g(this,"keystrokes");g(this,"itemsView");g(this,"children");g(this,"focusables");g(this,"_focusCycler");g(this,"_behavior");const r=this.bindTemplate,o=this.t;this.options=t||{},this.set("ariaLabel",o("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Go,this.keystrokes=new Zo,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new qA(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const s=e.uiLanguageDirection==="rtl";this._focusCycler=new nc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[s?"arrowright":"arrowleft","arrowup"],focusNext:[s?"arrowleft":"arrowright","arrowdown"]}});const l=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&l.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:l,role:"toolbar","aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:HA(this)}}),this._behavior=this.options.shouldGroupWhenFull?new GA(this):new KA(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,r){this.items.addMany(this._buildItemsFromConfig(e,t,r))}_buildItemsFromConfig(e,t,r){const o=lw(e),s=r||o.removeItems;return this._cleanItemsConfiguration(o.items,t,s).map(u=>qt(u)?this._createNestedToolbarDropdown(u,t,s):u==="|"?new aw:u==="-"?new WA:t.create(u)).filter(u=>!!u)}_cleanItemsConfiguration(e,t,r){const o=e.filter((s,l,u)=>s==="|"?!0:r.indexOf(s)!==-1?!1:s==="-"?this.options.shouldGroupWhenFull?(Zt("toolbarview-line-break-ignored-when-grouping-items",u),!1):!0:!qt(s)&&!t.has(s)?(Zt("toolbarview-item-unavailable",{item:s}),!1):!0);return this._cleanSeparatorsAndLineBreaks(o)}_cleanSeparatorsAndLineBreaks(e){const t=l=>l!=="-"&&l!=="|",r=e.length,o=e.findIndex(t);if(o===-1)return[];const s=r-e.slice().reverse().findIndex(t);return e.slice(o,s).filter((l,u,d)=>t(l)?!0:!(u>0&&d[u-1]===l))}_createNestedToolbarDropdown(e,t,r){let{label:o,icon:s,items:l,tooltip:u=!0,withText:d=!1}=e;if(l=this._cleanItemsConfiguration(l,t,r),!l.length)return null;const f=this.locale,p=sd(f);return o||Zt("toolbarview-nested-toolbar-dropdown-missing-label",e),p.class="ck-toolbar__nested-toolbar-dropdown",p.buttonView.set({label:o,tooltip:u,withText:!!d}),s!==!1?p.buttonView.icon=UA[s]||s||fn.threeVerticalDots:p.buttonView.withText=!0,uw(p,()=>p.toolbarView._buildItemsFromConfig(l,t,r)),p}}class qA extends ut{constructor(e){super(e);g(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class KA{constructor(n){const e=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(t=>t),n.focusables.bindTo(n.items).using(t=>rc(t)?t:null),n.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class GA{constructor(n){g(this,"view");g(this,"viewChildren");g(this,"viewFocusables");g(this,"viewItemsView");g(this,"viewFocusTracker");g(this,"viewLocale");g(this,"ungroupedItems");g(this,"groupedItems");g(this,"groupedItemsDropdown");g(this,"resizeObserver",null);g(this,"cachedPadding",null);g(this,"shouldUpdateGroupingOnNextResize",!1);g(this,"viewElement");this.view=n,this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),n.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),n.children.on("change",this._updateFocusCyclableItems.bind(this)),n.items.on("change",(e,t)=>{const r=t.index,o=Array.from(t.added);for(const s of t.removed)r>=this.ungroupedItems.length?this.groupedItems.remove(s):this.ungroupedItems.remove(s);for(let s=r;s<r+o.length;s++){const l=o[s-r];s>this.ungroupedItems.length?this.groupedItems.add(l,s-this.ungroupedItems.length):this.ungroupedItems.add(l,s)}this._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(n){this.viewElement=n.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(n)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Qi(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const n=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==n&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const n=this.viewElement,e=this.viewLocale.uiLanguageDirection,t=new ft(n.lastChild),r=new ft(n);if(!this.cachedPadding){const o=Le.window.getComputedStyle(n),s=e==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(o[s])}return e==="ltr"?t.right>r.right-this.cachedPadding:t.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let n;this.resizeObserver=new Bl(this.viewElement,e=>{(!n||n!==e.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),n=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(n){n.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new aw),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const n=this.viewLocale,e=n.t,t=sd(n);return t.class="ck-toolbar__grouped-dropdown",t.panelPosition=n.uiLanguageDirection==="ltr"?"sw":"se",uw(t,this.groupedItems),t.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:n.uiLanguageDirection==="rtl"?"se":"sw",icon:fn.threeVerticalDots}),t}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(n=>{rc(n)&&this.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class ZA extends ut{constructor(e,t){super(e);g(this,"children");g(this,"actionView");g(this,"arrowView");g(this,"keystrokes");g(this,"focusTracker");const r=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new Zo,this.focusTracker=new Go,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.to("class"),r.if("isVisible","ck-hidden",o=>!o),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new lr;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new lr,t=e.bindTemplate;return e.icon=qf,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",r=>String(r))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function sd(i,n=jA){const e=typeof n=="function"?new n(i):n,t=new zA(i),r=new af(i,e,t);return e.bind("isEnabled").to(r),e instanceof ZA?e.arrowView.bind("isOn").to(r,"isOpen"):e.bind("isOn").to(r,"isOpen"),YA(r),r}function uw(i,n,e={}){i.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),i.isOpen?p0(i,n,e):i.once("change:isOpen",()=>p0(i,n,e),{priority:"highest"}),e.enableActiveItemFocusOnDropdownOpen&&hw(i,()=>i.toolbarView.items.find(t=>t.isOn))}function p0(i,n,e){const t=i.locale,r=t.t,o=i.toolbarView=new cw(t),s=typeof n=="function"?n():n;o.ariaLabel=e.ariaLabel||r("Dropdown toolbar"),e.maxWidth&&(o.maxWidth=e.maxWidth),e.class&&(o.class=e.class),e.isCompact&&(o.isCompact=e.isCompact),e.isVertical&&(o.isVertical=!0),s instanceof zs?o.items.bindTo(s).using(l=>l):o.items.addMany(s),i.panelView.children.add(o),o.items.delegate("execute").to(i)}function dw(i,n,e={}){i.isOpen?m0(i,n,e):i.once("change:isOpen",()=>m0(i,n,e),{priority:"highest"}),hw(i,()=>i.listView.items.find(t=>t instanceof Ho?t.children.first.isOn:!1))}function m0(i,n,e){const t=i.locale,r=i.listView=new Gf(t),o=typeof n=="function"?n():n;r.ariaLabel=e.ariaLabel,r.role=e.role,fw(i,r.items,o,t),i.panelView.children.add(r),r.items.delegate("execute").to(i)}function hw(i,n){i.on("change:isOpen",()=>{if(!i.isOpen)return;const e=n();e&&(typeof e.focus=="function"?e.focus():Zt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:e}))},{priority:zo.low-10})}function YA(i){JA(i),QA(i),XA(i),e3(i),t3(i),n3(i)}function JA(i){iw({emitter:i,activator:()=>i.isRendered&&i.isOpen,callback:()=>{i.isOpen=!1},contextElements:()=>[i.element,...i.focusTracker.elements]})}function QA(i){i.on("execute",n=>{n.source instanceof sw||(i.isOpen=!1)})}function XA(i){i.focusTracker.on("change:isFocused",(n,e,t)=>{t||!i.isOpen||(i.isOpen=!1)})}function e3(i){i.keystrokes.set("arrowdown",(n,e)=>{i.isOpen&&(i.panelView.focus(),e())}),i.keystrokes.set("arrowup",(n,e)=>{i.isOpen&&(i.panelView.focusLast(),e())})}function t3(i){i.on("change:isOpen",(n,e,t)=>{if(t)return;i.focusTracker.elements.some(o=>o.contains(Le.document.activeElement))&&i.buttonView.focus()})}function n3(i){i.on("change:isOpen",(n,e,t)=>{t&&i.panelView.focus()},{priority:"low"})}function fw(i,n,e,t){n.on("change",()=>{const r=[...n].reduce((s,l)=>(l instanceof Ho&&l.children.first instanceof Ra&&s.push(l.children.first),s),[]),o=r.some(s=>s.isToggleable);r.forEach(s=>{s.hasCheckSpace=o})}),n.bindTo(e).using(r=>{if(r.type==="separator")return new Kf(t);if(r.type==="group"){const o=new Cu(t);return o.set({label:r.label}),fw(i,o.items,r.items,t),o.items.delegate("execute").to(i),o}else if(r.type==="button"||r.type==="switchbutton"){const o=r.model.role==="menuitemcheckbox"||r.model.role==="menuitemradio",s=new Ho(t);let l;return r.type==="button"?(l=new Ra(t),l.set({isToggleable:o})):l=new sw(t),l.bind(...Object.keys(r.model)).to(r.model),l.delegate("execute").to(s),s.children.add(l),s}return null})}class r3{constructor(n){g(this,"editor");g(this,"_components",new Map);this.editor=n}*names(){for(const n of this._components.values())yield n.originalName}add(n,e){this._components.set(Ch(n),{callback:e,originalName:n})}create(n){if(!this.has(n))throw new Z("componentfactory-item-missing",this,{name:n});return this._components.get(Ch(n)).callback(this.editor.locale)}has(n){return this._components.has(Ch(n))}}function Ch(i){return String(i).toLowerCase()}const g0="ck-tooltip",Cn=class Cn extends ai(){constructor(e){super();g(this,"tooltipTextView");g(this,"balloonPanelView");g(this,"_currentElementWithTooltip",null);g(this,"_currentTooltipPosition",null);g(this,"_mutationObserver",null);g(this,"_pinTooltipDebounced");g(this,"_unpinTooltipDebounced");g(this,"_watchdogExcluded");if(Cn._editors.add(e),Cn._instance)return Cn._instance;Cn._instance=this,this.tooltipTextView=new ut(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Gl(e.locale),this.balloonPanelView.class=g0,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=i3(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Os(this._pinTooltip,600),this._unpinTooltipDebounced=Os(this._unpinTooltip,400),this.listenTo(Le.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(Le.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Le.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Le.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Le.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Le.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;Cn._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),Cn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Cn._instance=null)}static getPositioningFunctions(e){const t=Cn.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onKeyDown(e,t){t.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),t.stopPropagation())}_onEnterOrFocus(e,{target:t}){const r=Th(t);if(!r){e.name==="focus"&&this._unpinTooltip();return}r!==this._currentElementWithTooltip&&(this._unpinTooltip(),e.name==="focus"&&!r.matches(":hover")?this._pinTooltip(r,Sh(r)):this._pinTooltipDebounced(r,Sh(r)))}_onLeaveOrBlur(e,{target:t,relatedTarget:r}){if(e.name==="mouseleave"){if(!Ms(t))return;const o=this.balloonPanelView.element,s=o&&(o===r||o.contains(r)),l=!s&&t===o;if(s){this._unpinTooltipDebounced.cancel();return}if(!l&&this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const u=Th(t),d=Th(r);(l||u&&u!==d)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:r,cssClass:o}){this._unpinTooltip();const s=Ls(Cn._editors.values()).ui.view.body;s.has(this.balloonPanelView)||s.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.class=[g0,o].filter(l=>l).join(" "),this.balloonPanelView.pin({target:e,positions:Cn.getPositioningFunctions(r)}),this._mutationObserver.attach(e);for(const l of Cn._editors)this.listenTo(l.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=r}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Cn._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=Sh(this._currentElementWithTooltip);if(!Qi(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Cn.getPositioningFunctions(e.position)})}};g(Cn,"defaultBalloonPositions",Gl.generatePositions({heightOffset:5,sideOffset:13})),g(Cn,"_editors",new Set),g(Cn,"_instance",null);let lf=Cn;function Th(i){return Ms(i)?i.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Sh(i){return{text:i.dataset.ckeTooltipText,position:i.dataset.ckeTooltipPosition||"s",cssClass:i.dataset.ckeTooltipClass||""}}function i3(i){const n=new MutationObserver(()=>{i()});return{attach(e){n.observe(e,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){n.disconnect()}}}var o3=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`;const s3=53,a3=10,l3=50,c3=350,u3="Powered by";class d3 extends ai(){constructor(e){super();g(this,"editor");g(this,"_balloonView");g(this,"_showBalloonThrottled");g(this,"_lastFocusedEditableElement");this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Nu(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor,t=!!e.config.get("ui.poweredBy.forceVisible");/* istanbul ignore next -- @preserve */!t&&ix(e.config.get("licenseKey"))==="VALID"||e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(r,o,s)=>{this._updateLastFocusedEditableElement(),s?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(r,o,s)=>{this._updateLastFocusedEditableElement(),s&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Gl,r=mw(e),o=new h3(e.locale,r.label);t.content.add(o),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=f3(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,r=e.ui.focusTracker.focusedElement;if(!t||!r){this._lastFocusedEditableElement=null;return}const o=Array.from(e.ui.getEditableElementsNames()).map(s=>e.ui.getEditableElement(s));o.includes(r)?this._lastFocusedEditableElement=r:this._lastFocusedEditableElement=o[0]}}class h3 extends ut{constructor(n,e){super(n);const t=new eo,r=this.bindTemplate;t.set({content:o3,isColorInherited:!1}),t.extendTemplate({attributes:{style:{width:s3+"px",height:a3+"px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...e?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[e]}]:[],t],on:{dragstart:r.to(o=>o.preventDefault())}}]})}}function f3(i,n){const e=mw(i),t=e.side==="right"?p3(n,e):m3(n,e);return{target:n,positions:[t]}}function p3(i,n){return pw(i,n,(e,t)=>e.left+e.width-t.width-n.horizontalOffset)}function m3(i,n){return pw(i,n,e=>e.left+n.horizontalOffset)}function pw(i,n,e){return(t,r)=>{const o=new ft(i);if(o.width<c3||o.height<l3)return null;let s;n.position==="inside"?s=o.bottom-r.height:s=o.bottom-r.height/2,s-=n.verticalOffset;const l=e(o,r),d=t.clone().moveTo(l,s).getIntersection(r.clone().moveTo(l,s)).getVisible();return!d||d.getArea()<r.getArea()?null:{top:s,left:l,name:`position_${n.position}-side_${n.side}`,config:{withArrow:!1}}}}function mw(i){const n=i.config.get("ui.poweredBy"),e=n&&n.position||"border";return{position:e,label:u3,verticalOffset:e==="inside"?5:0,horizontalOffset:5,side:i.locale.contentLanguageDirection==="ltr"?"right":"left",...n}}const b0={POLITE:"polite",ASSERTIVE:"assertive"};class g3{constructor(n){g(this,"editor");g(this,"view");this.editor=n,n.once("ready",()=>{for(const e of Object.values(b0))this.announce("",e)})}announce(n,e=b0.POLITE){const t=this.editor;if(!t.ui.view)return;this.view||(this.view=new b3(t.locale),t.ui.view.body.add(this.view));const{politeness:r,isUnsafeHTML:o}=typeof e=="string"?{politeness:e}:e;let s=this.view.regionViews.find(l=>l.politeness===r);s||(s=new w3(t,r),this.view.regionViews.add(s)),s.announce({announcement:n,isUnsafeHTML:o})}}class b3 extends ut{constructor(e){super(e);g(this,"regionViews");this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class w3 extends ut{constructor(e,t){super(e.locale);g(this,"politeness");g(this,"_domConverter");g(this,"_pruneAnnouncementsInterval");this.setTemplate({tag:"div",attributes:{"aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const r=document.createElement("li");t?this._domConverter.setContentOf(r,e):r.innerText=e,this._listElement.appendChild(r)}get _listElement(){return this.element.querySelector("ul")}}class Zf extends Ho{constructor(n,e){super(n);const t=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:t.to("mouseenter")}}),this.delegate("mouseenter").to(e)}}const bu=5,pa={toggleMenusAndFocusItemsOnHover(i){i.on("menu:mouseenter",n=>{if(!(!i.isFocusBorderEnabled&&!i.isOpen)){if(i.isOpen)for(const e of i.menus){const t=n.path[0],r=t instanceof Zf&&t.children.first===e;e.isOpen=(n.path.includes(e)||r)&&e.isEnabled}n.source.focus()}})},focusCycleMenusOnArrows(i){const n=i.locale.uiLanguageDirection==="rtl";i.on("menu:arrowright",t=>{e(t.source,n?-1:1)}),i.on("menu:arrowleft",t=>{e(t.source,n?1:-1)});function e(t,r){const o=i.children.getIndex(t),s=t.isOpen,l=i.children.length,u=i.children.get((o+l+r)%l);t.isOpen=!1,s&&(u.isOpen=!0),u.buttonView.focus()}},closeMenusWhenTheBarCloses(i){i.on("change:isOpen",()=>{i.isOpen||i.menus.forEach(n=>{n.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(i){i.on("menu:change:isOpen",(n,e,t)=>{t&&i.menus.filter(r=>n.source.parentMenuView===r.parentMenuView&&n.source!==r&&r.isOpen).forEach(r=>{r.isOpen=!1})})},closeOnClickOutside(i){iw({emitter:i,activator:()=>i.isOpen,callback:()=>i.close(),contextElements:()=>i.children.map(n=>n.element)})},enableFocusHighlightOnInteraction(i){let n=!1;i.on("change:isOpen",(e,t,r)=>{r||(n||(i.isFocusBorderEnabled=!1),n=!1)}),i.listenTo(i.element,"keydown",()=>{n=!0},{useCapture:!0}),i.listenTo(i.element,"keyup",()=>{n=!1},{useCapture:!0}),i.listenTo(i.element,"focus",()=>{n&&(i.isFocusBorderEnabled=!0)},{useCapture:!0})}},Bo={openAndFocusPanelOnArrowDownKey(i){i.keystrokes.set("arrowdown",(n,e)=>{i.focusTracker.focusedElement===i.buttonView.element&&(i.isOpen||(i.isOpen=!0),i.panelView.focus(),e())})},openOnArrowRightKey(i){const n=i.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";i.keystrokes.set(n,(e,t)=>{i.focusTracker.focusedElement!==i.buttonView.element||!i.isEnabled||(i.isOpen||(i.isOpen=!0),i.panelView.focus(),t())})},openOnButtonClick(i){i.buttonView.on("execute",()=>{i.isOpen=!0})},toggleOnButtonClick(i){i.buttonView.on("execute",()=>{i.isOpen=!i.isOpen})},openAndFocusOnEnterKeyPress(i){i.keystrokes.set("enter",(n,e)=>{i.focusTracker.focusedElement===i.buttonView.element&&(i.isOpen=!0,i.panelView.focus(),e())})},closeOnArrowLeftKey(i){const n=i.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";i.keystrokes.set(n,(e,t)=>{i.isOpen&&(i.isOpen=!1,i.focus(),t())})},closeOnEscKey(i){i.keystrokes.set("esc",(n,e)=>{i.isOpen&&(i.isOpen=!1,i.focus(),e())})},closeOnParentClose(i){i.parentMenuView.on("change:isOpen",(n,e,t)=>{!t&&n.source===i.parentMenuView&&(i.isOpen=!1)})}},y3={southEast:i=>({top:i.bottom,left:i.left,name:"se"}),southWest:(i,n)=>({top:i.bottom,left:i.left-n.width+i.width,name:"sw"}),northEast:(i,n)=>({top:i.top-n.height,left:i.left,name:"ne"}),northWest:(i,n)=>({top:i.top-n.height,left:i.left-n.width+i.width,name:"nw"}),eastSouth:i=>({top:i.top,left:i.right-bu,name:"es"}),eastNorth:(i,n)=>({top:i.top-n.height,left:i.right-bu,name:"en"}),westSouth:(i,n)=>({top:i.top,left:i.left-n.width+bu,name:"ws"}),westNorth:(i,n)=>({top:i.top-n.height,left:i.left-n.width+bu,name:"wn"})},v3=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment","menuBar:insertMergeField"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function _3(i){let n;return!("items"in i)||!i.items?n={items:si(v3),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...i}:n={items:i.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...i},n}function k3({normalizedConfig:i,locale:n,componentFactory:e,extraItems:t}){const r=si(i);return w0(i,r,t),E3(i,r),w0(i,r,r.addItems),x3(i,r,e),gw(i,r),C3(r,n),r}function E3(i,n){const e=n.removeItems,t=[];n.items=n.items.filter(({menuId:r})=>e.includes(r)?(t.push(r),!1):!0),za(n.items,r=>{r.groups=r.groups.filter(({groupId:o})=>e.includes(o)?(t.push(o),!1):!0);for(const o of r.groups)o.items=o.items.filter(s=>{const l=bw(s);return e.includes(l)?(t.push(l),!1):!0})});for(const r of e)t.includes(r)||Zt("menu-bar-item-could-not-be-removed",{menuBarConfig:i,itemName:r})}function w0(i,n,e){const t=[];if(e.length!=0){for(const r of e){const o=P3(r.position),s=A3(r.position);if(T3(r))if(!s)o==="start"?(n.items.unshift(r.menu),t.push(r)):o==="end"&&(n.items.push(r.menu),t.push(r));else{const l=n.items.findIndex(u=>u.menuId===s);l!=-1?o==="before"?(n.items.splice(l,0,r.menu),t.push(r)):o==="after"&&(n.items.splice(l+1,0,r.menu),t.push(r)):y0(n,r.menu,s,o)&&t.push(r)}else S3(r)?za(n.items,l=>{if(l.menuId===s)o==="start"?(l.groups.unshift(r.group),t.push(r)):o==="end"&&(l.groups.push(r.group),t.push(r));else{const u=l.groups.findIndex(d=>d.groupId===s);u!==-1&&(o==="before"?(l.groups.splice(u,0,r.group),t.push(r)):o==="after"&&(l.groups.splice(u+1,0,r.group),t.push(r)))}}):y0(n,r.item,s,o)&&t.push(r)}for(const r of e)t.includes(r)||Zt("menu-bar-item-could-not-be-added",{menuBarConfig:i,addedItemConfig:r})}}function y0(i,n,e,t){let r=!1;return za(i.items,o=>{for(const{groupId:s,items:l}of o.groups){if(r)return;if(s===e)t==="start"?(l.unshift(n),r=!0):t==="end"&&(l.push(n),r=!0);else{const u=l.findIndex(d=>bw(d)===e);u!==-1&&(t==="before"?(l.splice(u,0,n),r=!0):t==="after"&&(l.splice(u+1,0,n),r=!0))}}}),r}function x3(i,n,e){za(n.items,t=>{for(const r of t.groups)r.items=r.items.filter(o=>{const s=typeof o=="string"&&!e.has(o);return s&&!n.isUsingDefaultConfig&&Zt("menu-bar-item-unavailable",{menuBarConfig:i,parentMenuConfig:si(t),componentName:o}),!s})})}function gw(i,n){const e=n.isUsingDefaultConfig;let t=!1;if(n.items=n.items.filter(r=>r.groups.length?!0:(Ph(i,r,e),!1)),!n.items.length){Ph(i,i,e);return}za(n.items,r=>{r.groups=r.groups.filter(o=>o.items.length?!0:(t=!0,!1));for(const o of r.groups)o.items=o.items.filter(s=>ww(s)&&!s.groups.length?(Ph(i,s,e),t=!0,!1):!0)}),t&&gw(i,n)}function Ph(i,n,e){e||Zt("menu-bar-menu-empty",{menuBarConfig:i,emptyMenuConfig:n})}function C3(i,n){const e=n.t,t={File:e({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:e({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:e({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:e({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:e({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:e({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:e({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:e({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:e({string:"Font",id:"MENU_BAR_MENU_FONT"})};za(i.items,r=>{r.label in t&&(r.label=t[r.label])})}function za(i,n){if(Array.isArray(i))for(const t of i)e(t);function e(t){n(t);for(const r of t.groups)for(const o of r.items)ww(o)&&e(o)}}function T3(i){return typeof i=="object"&&"menu"in i}function S3(i){return typeof i=="object"&&"group"in i}function P3(i){return i.startsWith("start")?"start":i.startsWith("end")?"end":i.startsWith("after")?"after":"before"}function A3(i){const n=i.match(/^[^:]+:(.+)/);return n?n[1]:null}function bw(i){return typeof i=="string"?i:i.menuId}function ww(i){return typeof i=="object"&&"menuId"in i}class O3 extends on(){constructor(e){super();g(this,"editor");g(this,"componentFactory");g(this,"focusTracker");g(this,"tooltipManager");g(this,"poweredBy");g(this,"ariaLiveAnnouncer");g(this,"isReady",!1);g(this,"_editableElementsMap",new Map);g(this,"_focusableToolbarDefinitions",[]);g(this,"_extraMenuBarElements",[]);g(this,"_lastFocusedForeignElement",null);const t=e.editing.view;this.editor=e,this.componentFactory=new r3(e),this.focusTracker=new Go,this.tooltipManager=new lf(e),this.poweredBy=new d3(e),this.ariaLiveAnnouncer=new g3(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const r=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?r():this.once("ready",r)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}extendMenuBar(e){this._extraMenuBarElements.push(e)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(e){const t=e.element;this.focusTracker.add(t),this.editor.keystrokes.listenTo(t);const r=_3(this.editor.config.get("menuBar")||{});e.fillFromConfig(r,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(o,s)=>{t.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),s())}),this.editor.keystrokes.set("Alt+F9",(o,s)=>{t.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),s())})}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const r=e.config.get("toolbar.viewportTopOffset");return r?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:r}):{top:0}}_initFocusTracking(){const e=this.editor;let t;e.keystrokes.set("Alt+F10",(r,o)=>{this._saveLastFocusedForeignElement();const s=this._getCurrentFocusedToolbarDefinition();(!s||!t)&&(t=this._getFocusableCandidateToolbarDefinitions());for(let l=0;l<t.length;l++){const u=t.shift();if(t.push(u),u!==s&&this._focusFocusableCandidateToolbar(u)){s&&s.options.afterBlur&&s.options.afterBlur();break}}o()}),e.keystrokes.set("Esc",(r,o)=>{const s=this._getCurrentFocusedToolbarDefinition();s&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),s.options.afterBlur&&s.options.afterBlur(),o())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:r,options:o}=t;(Qi(r.element)||o.beforeFocus)&&e.push(t)}return e.sort((t,r)=>v0(t)-v0(r)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:r}}=e;return r&&r(),Qi(t.element)?(t.focus(),!0):!1}_handleScrollToTheSelection(e,t){const r={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=r.top,t.viewportOffset.bottom+=r.bottom,t.viewportOffset.left+=r.left,t.viewportOffset.right+=r.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const t of e)this.focusTracker.add(t.element);e.on("add",(t,r)=>{this.focusTracker.add(r.element)}),e.on("remove",(t,r)=>{this.focusTracker.remove(r.element)})}}function v0(i){const{toolbarView:n,options:e}=i;let t=10;return Qi(n.element)&&t--,e.isContextual&&t--,t}class M3 extends ut{constructor(e){super(e);g(this,"body");g(this,"menuBarView");this.body=new LA(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class R3 extends M3{constructor(e){super(e);g(this,"top");g(this,"main");g(this,"_voiceLabelView");this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new Uf;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class I3 extends ut{constructor(e,t,r){super(e);g(this,"name",null);g(this,"_editingView");g(this,"_editableElement");g(this,"_hasExternalElement");this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=r,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?r(this):t(this);function t(o){e.change(s=>{const l=e.document.getRoot(o.name);s.addClass(o.isFocused?"ck-focused":"ck-blurred",l),s.removeClass(o.isFocused?"ck-blurred":"ck-focused",l)})}function r(o){e.once("change:isRenderingInProgress",(s,l,u)=>{u?r(o):t(o)})}}}class N3 extends I3{constructor(e,t,r,o={}){super(e,t,r);g(this,"_options");this._options=o,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(t=>{const r=e.document.getRoot(this.name);t.setAttribute("aria-label",this.getEditableAriaLabel(),r)})}getEditableAriaLabel(){const e=this.locale.t,t=this._options.label,r=this._editableElement,o=this.name;if(typeof t=="string")return t;if(typeof t=="object")return t[o];if(typeof t=="function")return t(this);if(r){const s=r.getAttribute("aria-label");if(s)return s}return e("Rich Text Editor. Editing area: %0",o)}}class yw extends on(){constructor(n,e){super(),e&&p1(this,e),n&&this.set(n)}}const ma=rd("px");class D3 extends ut{constructor(e){super(e);g(this,"content");g(this,"contentPanelElement");g(this,"_contentPanelPlaceholder");const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Ci({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",r=>r?"block":"none"),height:t.to("isSticky",r=>r?ma(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Ci({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",r=>r?ma(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",r=>r&&ma(r)),bottom:t.to("_stickyBottomOffset",r=>r&&ma(r)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(Le.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new ft(this.limiterElement);let t=e.getVisible();if(t){const r=new ft(Le.window);r.top+=this.viewportTopOffset,r.height-=this.viewportTopOffset,t=t.getIntersection(r)}if(t&&e.top<t.top){const r=t.top;if(r+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const o=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-o>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(o):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(r):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=ma(-Le.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=ma(-Le.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new ft(this.contentPanelElement)}}class L3 extends Ra{constructor(e){super(e);g(this,"arrowView");const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new eo;return e.content=qf,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class B3 extends ut{constructor(e){super(e);g(this,"children");const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",r=>`ck-menu-bar__menu__panel_position_${r}`),t.if("isVisible","ck-hidden",r=>!r)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}const Ku=class Ku extends ut{constructor(e){super(e);g(this,"buttonView");g(this,"panelView");g(this,"focusTracker");g(this,"keystrokes");const t=this.bindTemplate;this.buttonView=new L3(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new B3(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Zo,this.focusTracker=new Go,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",t.to("class"),t.if("isEnabled","ck-disabled",r=>!r),t.if("parentMenuView","ck-menu-bar__menu_top-level",r=>!r)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Bo.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Bo.openOnButtonClick(this),Bo.openOnArrowRightKey(this),Bo.closeOnArrowLeftKey(this),Bo.openAndFocusOnEnterKeyPress(this),Bo.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Bo.openAndFocusPanelOnArrowDownKey(this),Bo.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,t)=>{this.fire("arrowright"),t()}),this.keystrokes.set("arrowleft",(e,t)=>{this.fire("arrowleft"),t()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,t,r)=>{if(!r)return;const o=Ku._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=o?o.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:r,northWest:o,westSouth:s,eastSouth:l,westNorth:u,eastNorth:d}=y3;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[l,d,s,u]:[e,t,r,o]:this.parentMenuView?[s,u,l,d]:[t,e,o,r]}};g(Ku,"_getOptimalPosition",Pf);let Sa=Ku;class cf extends Gf{constructor(n){super(n),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const n=Array.from(this.items).some(e=>{const t=_0(e);return t&&t.isToggleable});this.items.forEach(e=>{const t=_0(e);t&&(t.hasCheckSpace=n)})}}function _0(i){return i instanceof Ho?i.children.map(n=>F3(n)?n.buttonView:n).find(n=>n instanceof Ra):null}function F3(i){return typeof i=="object"&&"buttonView"in i&&i.buttonView instanceof lr}class V3 extends BA{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const k0=["mouseenter","arrowleft","arrowright","change:isOpen"];class z3 extends ut{constructor(e){super(e);g(this,"children");g(this,"menus",[]);const t=e.t,r=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",r.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t,r=[]){const o=this.locale,l=k3({normalizedConfig:e,locale:o,componentFactory:t,extraItems:r}).items.map(u=>this._createMenu({componentFactory:t,menuDefinition:u}));this.children.addMany(l)}render(){super.render(),pa.toggleMenusAndFocusItemsOnHover(this),pa.closeMenusWhenTheBarCloses(this),pa.closeMenuWhenAnotherOnTheSameLevelOpens(this),pa.focusCycleMenusOnArrows(this),pa.closeOnClickOutside(this),pa.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,t=null){t?(e.delegate(...k0).to(t),e.parentMenuView=t):e.delegate(...k0).to(this,r=>"menu:"+r),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:r}){const o=this.locale,s=new Sa(o);return this.registerMenu(s,r),s.buttonView.set({label:t.label}),s.once("change:isOpen",()=>{const l=new cf(o);l.ariaLabel=t.label,s.panelView.children.add(l),l.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:s,componentFactory:e}))}),s}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:r}){const o=this.locale,s=[];for(const l of e.groups){for(const u of l.items){const d=new Zf(o,t);if(qt(u))d.children.add(this._createMenu({componentFactory:r,menuDefinition:u,parentMenuView:t}));else{const f=this._createMenuItemContentFromFactory({componentName:u,componentFactory:r,parentMenuView:t});if(!f)continue;d.children.add(f)}s.push(d)}l!==e.groups[e.groups.length-1]&&s.push(new Kf(o))}return s}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:r}){const o=r.create(e);return o instanceof Sa||o instanceof ao||o instanceof V3?(this._registerMenuTree(o,t),o.on("execute",()=>{this.close()}),o):(Zt("menu-bar-component-unsupported",{componentName:e,componentView:o}),null)}_registerMenuTree(e,t){if(!(e instanceof Sa)){e.delegate("mouseenter").to(t);return}this.registerMenu(e,t);const r=e.panelView.children.filter(s=>s instanceof cf)[0];if(!r){e.delegate("mouseenter").to(t);return}const o=r.items.filter(s=>s instanceof Ho);for(const s of o)this._registerMenuTree(s.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,r,o)=>{clearTimeout(e),o?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(s=>s.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vw{constructor(n,e=20){g(this,"model");g(this,"limit");g(this,"_isLocked");g(this,"_size");g(this,"_batch",null);g(this,"_changeCallback");g(this,"_selectionChangeCallback");this.model=n,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(t,r)=>{r.isLocal&&r.isUndoable&&r!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(n){this._size+=n,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(n=!1){(!this.isLocked||n)&&(this._batch=null,this._size=0)}}class j3 extends Qn{constructor(e,t){super(e);g(this,"_buffer");this._buffer=new vw(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,r=t.document,o=e.text||"",s=o.length;let l=r.selection;if(e.selection?l=e.selection:e.range&&(l=t.createSelection(e.range)),!t.canEditAt(l))return;const u=e.resultRange;t.enqueueChange(this._buffer.batch,d=>{this._buffer.lock();const f=Array.from(r.selection.getAttributes());t.deleteContent(l),o&&t.insertContent(d.createText(o,f),l),u?d.setSelection(u):l.is("documentSelection")||d.setSelection(l),this._buffer.unlock(),this._buffer.input(s)})}}const _w=["insertText","insertReplacementText"],$3=[..._w,"insertCompositionText"];class W3 extends so{constructor(e){super(e);g(this,"focusObserver");this.focusObserver=e.getObserver(Bu);const t=Xe.isAndroid?$3:_w,r=e.document;r.on("beforeinput",(o,s)=>{if(!this.isEnabled)return;const{data:l,targetRanges:u,inputType:d,domEvent:f}=s;if(!t.includes(d))return;this.focusObserver.flush();const p=new Ji(r,"insertText");r.fire(p,new Oa(e,f,{text:l,selection:e.createSelection(u)})),p.stop.called&&o.stop()}),Xe.isAndroid||r.on("compositionend",(o,{data:s,domEvent:l})=>{this.isEnabled&&s&&r.fire("insertText",new Oa(e,l,{text:s}))},{priority:"lowest"})}observe(){}stopObserving(){}}class H3 extends lt{constructor(){super(...arguments);g(this,"_compositionQueue")}static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,r=e.editing.view,o=e.editing.mapper,s=t.document.selection;this._compositionQueue=new U3(e),r.addObserver(W3);const l=new j3(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",l),e.commands.add("input",l),this.listenTo(r.document,"insertText",(u,d)=>{r.document.isComposing||d.preventDefault(),Xe.isAndroid&&r.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:f,selection:p}=d;let b;p?b=Array.from(p.getRanges()).map(L=>o.toModelRange(L)):b=Array.from(s.getRanges());let v=f;if(Xe.isAndroid){const L=Array.from(b[0].getItems()).reduce((j,N)=>j+(N.is("$textProxy")?N.data:""),"");if(L&&(L.length<=v.length?v.startsWith(L)&&(v=v.substring(L.length),b[0].start=b[0].start.getShiftedBy(L.length)):L.startsWith(v)&&(b[0].start=b[0].start.getShiftedBy(v.length),v="")),v.length==0&&b[0].isCollapsed)return}const x={text:v,selection:t.createSelection(b)};Xe.isAndroid&&r.document.isComposing?this._compositionQueue.push(x):(e.execute("insertText",x),r.scrollToTheSelection())}),Xe.isAndroid?this.listenTo(r.document,"keydown",(u,d)=>{s.isCollapsed||d.keyCode!=229||!r.document.isComposing||E0(t,l)}):this.listenTo(r.document,"compositionstart",()=>{s.isCollapsed||E0(t,l)}),Xe.isAndroid?(this.listenTo(r.document,"mutations",(u,{mutations:d})=>{if(r.document.isComposing)for(const{node:f}of d){const p=K3(f,o),b=o.toModelElement(p);if(this._compositionQueue.isComposedElement(b)){this._compositionQueue.flush("mutations");return}}}),this.listenTo(r.document,"compositionend",()=>{this._compositionQueue.flush("composition end")}),this.listenTo(r.document,"compositionend",()=>{const u=[];for(const d of this._compositionQueue.flushComposedElements()){const f=o.toViewElement(d);f&&u.push({type:"children",node:f})}u.length&&r.document.fire("mutations",{mutations:u})},{priority:"lowest"})):this.listenTo(r.document,"compositionend",()=>{r.document.fire("mutations",{mutations:[]})},{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class U3{constructor(n){g(this,"editor");g(this,"flushDebounced",Os(()=>this.flush("timeout"),50));g(this,"_queue",[]);g(this,"_compositionElements",new Set);this.editor=n}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(n){const e={text:n.text};if(n.selection){e.selectionRanges=[];for(const t of n.selection.getRanges())e.selectionRanges.push(Wr.fromRange(t)),this._compositionElements.add(t.start.parent)}this._queue.push(e),this.flushDebounced()}shift(){const n=this._queue.shift(),e={text:n.text};if(n.selectionRanges){const t=n.selectionRanges.map(r=>q3(r)).filter(r=>!!r);t.length&&(e.selection=this.editor.model.createSelection(t))}return e}flush(n){const e=this.editor,t=e.model,r=e.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const s=e.commands.get("insertText").buffer;t.enqueueChange(s.batch,()=>{for(s.lock();this._queue.length;){const l=this.shift();e.execute("insertText",l)}s.unlock()}),r.scrollToTheSelection()}isComposedElement(n){return this._compositionElements.has(n)}flushComposedElements(){const n=Array.from(this._compositionElements);return this._compositionElements.clear(),n}}function E0(i,n){if(!n.isEnabled)return;const e=n.buffer;e.lock(),i.enqueueChange(e.batch,()=>{i.deleteContent(i.document.selection)}),e.unlock()}function q3(i){const n=i.toRange();return i.detach(),n.root.rootName=="$graveyard"?null:n}function K3(i,n){let e=i.is("$text")?i.parent:i;for(;!n.toModelElement(e);)e=e.parent;return e}class x0 extends Qn{constructor(e,t){super(e);g(this,"direction");g(this,"_buffer");this.direction=t,this._buffer=new vw(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,r=t.document;t.enqueueChange(this._buffer.batch,o=>{this._buffer.lock();const s=o.createSelection(e.selection||r.selection);if(!t.canEditAt(s))return;const l=e.sequence||1,u=s.isCollapsed;if(s.isCollapsed&&t.modifySelection(s,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(l)){this._replaceEntireContentWithParagraph(o);return}if(this._shouldReplaceFirstBlockWithParagraph(s,l)){this.editor.execute("paragraph",{selection:s});return}if(s.isCollapsed)return;let d=0;s.getFirstRange().getMinimalFlatRanges().forEach(f=>{d+=Hh(f.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(s,{doNotResetEntireContent:u,direction:this.direction}),this._buffer.input(d),o.setSelection(s),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,o=t.document.selection,s=t.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(s))||!t.schema.checkChild(s,"paragraph"))return!1;const u=s.getChild(0);return!(u&&u.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,o=t.document.selection,s=t.schema.getLimitElement(o),l=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(l,s),e.setSelection(l,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const r=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const o=e.getFirstPosition(),s=r.schema.getLimitElement(o),l=s.getChild(0);return!(o.parent!=l||!e.containsEntireContent(l)||!r.schema.checkChild(s,"paragraph")||l.name=="paragraph")}}const G3="character",C0="word",Z3="codePoint",Vo="selection",_a="backward",_l="forward",kw={deleteContent:{unit:Vo,direction:_a},deleteContentBackward:{unit:Z3,direction:_a},deleteWordBackward:{unit:C0,direction:_a},deleteHardLineBackward:{unit:Vo,direction:_a},deleteSoftLineBackward:{unit:Vo,direction:_a},deleteContentForward:{unit:G3,direction:_l},deleteWordForward:{unit:C0,direction:_l},deleteHardLineForward:{unit:Vo,direction:_l},deleteSoftLineForward:{unit:Vo,direction:_l}};class Y3 extends so{constructor(n){super(n);const e=n.document;let t=0;e.on("keydown",()=>{t++}),e.on("keyup",()=>{t=0}),e.on("beforeinput",(r,o)=>{if(!this.isEnabled)return;const{targetRanges:s,domEvent:l,inputType:u}=o,d=kw[u];if(!d)return;const f={direction:d.direction,unit:d.unit,sequence:t};f.unit==Vo&&(f.selectionToRemove=n.createSelection(s[0])),u==="deleteContentBackward"&&(Xe.isAndroid&&(f.sequence=1),Q3(s)&&(f.unit=Vo,f.selectionToRemove=n.createSelection(s)));const p=new Fa(e,"delete",s[0]);e.fire(p,new Oa(n,l,f)),p.stop.called&&r.stop()}),Xe.isBlink&&J3(this)}observe(){}stopObserving(){}}function J3(i){const n=i.view,e=n.document;let t=null,r=!1;e.on("keydown",(l,{keyCode:u})=>{t=u,r=!1}),e.on("keyup",(l,{keyCode:u,domEvent:d})=>{const f=e.selection,p=i.isEnabled&&u==t&&o(u)&&!f.isCollapsed&&!r;if(t=null,p){const b=f.getFirstRange(),v=new Fa(e,"delete",b),x={unit:Vo,direction:s(u),selectionToRemove:f};e.fire(v,new Oa(n,d,x))}}),e.on("beforeinput",(l,{inputType:u})=>{const d=kw[u];o(t)&&d&&d.direction==s(t)&&(r=!0)},{priority:"high"}),e.on("beforeinput",(l,{inputType:u,data:d})=>{t==pt.delete&&u=="insertText"&&d==""&&l.stop()},{priority:"high"});function o(l){return l==pt.backspace||l==pt.delete}function s(l){return l==pt.backspace?_a:_l}}function Q3(i){if(i.length!=1||i[0].isCollapsed)return!1;const n=i[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let e=0;for(const{nextPosition:t,item:r}of n){if(t.parent.is("$text")){const o=t.parent.data,s=t.offset;if(Rf(o,s)||If(o,s)||nb(o,s))continue;e++}else(r.is("containerElement")||r.is("emptyElement"))&&e++;if(e>1)return!0}return!1}class ad extends lt{constructor(){super(...arguments);g(this,"_undoOnBackspace")}static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,r=t.document,o=e.model.document;t.addObserver(Y3),this._undoOnBackspace=!1;const s=new x0(e,"forward");e.commands.add("deleteForward",s),e.commands.add("forwardDelete",s),e.commands.add("delete",new x0(e,"backward")),this.listenTo(r,"delete",(l,u)=>{r.isComposing||u.preventDefault();const{direction:d,sequence:f,selectionToRemove:p,unit:b}=u,v=d==="forward"?"deleteForward":"delete",x={sequence:f};if(b=="selection"){const L=Array.from(p.getRanges()).map(j=>e.editing.mapper.toModelRange(j));x.selection=e.model.createSelection(L)}else x.unit=b;e.execute(v,x),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(r,"delete",(l,u)=>{this._undoOnBackspace&&u.direction=="backward"&&u.sequence==1&&u.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),u.preventDefault(),l.stop())},{context:"$capture"}),this.listenTo(o,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class X3 extends lt{static get requires(){return[H3,ad]}static get pluginName(){return"Typing"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ew extends Qn{constructor(e,t){super(e);g(this,"attributeKey");this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,o=t.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;t.change(l=>{if(o.isCollapsed)s?l.setSelectionAttribute(this.attributeKey,!0):l.removeSelectionAttribute(this.attributeKey);else{const u=t.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const d of u)s?l.setAttribute(this.attributeKey,s,d):l.removeAttribute(this.attributeKey,d)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,r=e.document.selection;if(r.isCollapsed)return r.hasAttribute(this.attributeKey);for(const o of r.getRanges())for(const s of o.getItems())if(t.checkAttribute(s,this.attributeKey))return s.hasAttribute(this.attributeKey);return!1}}const ga="bold";class eO extends lt{static get pluginName(){return"BoldEditing"}init(){const n=this.editor,e=this.editor.t;n.model.schema.extend("$text",{allowAttributes:ga}),n.model.schema.setAttributeProperties(ga,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:ga,view:"strong",upcastAlso:["b",t=>{const r=t.getStyle("font-weight");return r&&(r=="bold"||Number(r)>=600)?{name:!0,styles:["font-weight"]}:null}]}),n.commands.add(ga,new Ew(n,ga)),n.keystrokes.set("CTRL+B",ga),n.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Bold text"),keystroke:"CTRL+B"}]})}}function xw({editor:i,commandName:n,plugin:e,icon:t,label:r,keystroke:o}){return s=>{const l=i.commands.get(n),u=new s(i.locale);return u.set({label:r,icon:t,keystroke:o,isToggleable:!0}),u.bind("isEnabled").to(l,"isEnabled"),u.bind("isOn").to(l,"value"),u instanceof ao?u.set({role:"menuitemcheckbox"}):u.set({tooltip:!0}),e.listenTo(u,"execute",()=>{i.execute(n),i.editing.view.focus()}),u}}const Ah="bold";class tO extends lt{static get pluginName(){return"BoldUI"}init(){const n=this.editor,e=n.locale.t,t=xw({editor:n,commandName:Ah,plugin:this,icon:fn.bold,label:e("Bold"),keystroke:"CTRL+B"});n.ui.componentFactory.add(Ah,()=>t(lr)),n.ui.componentFactory.add("menuBar:"+Ah,()=>t(ao))}}class nO extends lt{static get requires(){return[eO,tO]}static get pluginName(){return"Bold"}}const ba="italic";class rO extends lt{static get pluginName(){return"ItalicEditing"}init(){const n=this.editor,e=this.editor.t;n.model.schema.extend("$text",{allowAttributes:ba}),n.model.schema.setAttributeProperties(ba,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:ba,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),n.commands.add(ba,new Ew(n,ba)),n.keystrokes.set("CTRL+I",ba),n.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Italic text"),keystroke:"CTRL+I"}]})}}var iO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';const Oh="italic";class oO extends lt{static get pluginName(){return"ItalicUI"}init(){const n=this.editor,e=n.locale.t,t=xw({editor:n,commandName:Oh,plugin:this,icon:iO,keystroke:"CTRL+I",label:e("Italic")});n.ui.componentFactory.add(Oh,()=>t(lr)),n.ui.componentFactory.add("menuBar:"+Oh,()=>t(ao))}}class sO extends lt{static get requires(){return[rO,oO]}static get pluginName(){return"Italic"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function*Cw(i,n){for(const e of n)e&&i.getAttributeProperties(e[0]).copyOnEnter&&(yield e)}class aO extends Qn{execute(){this.editor.model.change(n=>{this.enterBlock(n),this.fire("afterExecute",{writer:n})})}enterBlock(n){const e=this.editor.model,t=e.document.selection,r=e.schema,o=t.isCollapsed,s=t.getFirstRange(),l=s.start.parent,u=s.end.parent;if(r.isLimit(l)||r.isLimit(u))return!o&&l==u&&e.deleteContent(t),!1;if(o){const d=Cw(n.model.schema,t.getAttributes());return T0(n,s.start),n.setSelectionAttribute(d),!0}else{const d=!(s.start.isAtStart&&s.end.isAtEnd),f=l==u;if(e.deleteContent(t,{leaveUnmerged:d}),d){if(f)return T0(n,t.focus),!0;n.setSelection(u,0)}}return!1}}function T0(i,n){i.split(n),i.setSelection(n.parent.nextSibling,0)}const lO={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Tw extends so{constructor(n){super(n);const e=this.document;let t=!1;e.on("keydown",(r,o)=>{t=o.shiftKey}),e.on("beforeinput",(r,o)=>{if(!this.isEnabled)return;let s=o.inputType;Xe.isSafari&&t&&s=="insertParagraph"&&(s="insertLineBreak");const l=o.domEvent,u=lO[s];if(!u)return;const d=new Fa(e,"enter",o.targetRanges[0]);e.fire(d,new Oa(n,l,{isSoft:u.isSoft})),d.stop.called&&r.stop()})}observe(){}stopObserving(){}}class Yf extends lt{static get pluginName(){return"Enter"}init(){const n=this.editor,e=n.editing.view,t=e.document,r=this.editor.t;e.addObserver(Tw),n.commands.add("enter",new aO(n)),this.listenTo(t,"enter",(o,s)=>{t.isComposing||s.preventDefault(),!s.isSoft&&(n.execute("enter"),e.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class cO extends Qn{execute(){const n=this.editor.model,e=n.document;n.change(t=>{dO(n,t,e.selection),this.fire("afterExecute",{writer:t})})}refresh(){const n=this.editor.model,e=n.document;this.isEnabled=uO(n.schema,e.selection)}}function uO(i,n){if(n.rangeCount>1)return!1;const e=n.anchor;if(!e||!i.checkChild(e,"softBreak"))return!1;const t=n.getFirstRange(),r=t.start.parent,o=t.end.parent;return!((uf(r,i)||uf(o,i))&&r!==o)}function dO(i,n,e){const t=e.isCollapsed,r=e.getFirstRange(),o=r.start.parent,s=r.end.parent,l=o==s;if(t){const u=Cw(i.schema,e.getAttributes());S0(i,n,r.end),n.removeSelectionAttribute(e.getAttributeKeys()),n.setSelectionAttribute(u)}else{const u=!(r.start.isAtStart&&r.end.isAtEnd);i.deleteContent(e,{leaveUnmerged:u}),l?S0(i,n,e.focus):u&&n.setSelection(s,0)}}function S0(i,n,e){const t=n.createElement("softBreak");i.insertContent(t,e),n.setSelection(t,"after")}function uf(i,n){return i.is("rootElement")?!1:n.isLimit(i)||uf(i.parent,n)}class hO extends lt{static get pluginName(){return"ShiftEnter"}init(){const n=this.editor,e=n.model.schema,t=n.conversion,r=n.editing.view,o=r.document,s=this.editor.t;e.register("softBreak",{allowWhere:"$text",isInline:!0}),t.for("upcast").elementToElement({model:"softBreak",view:"br"}),t.for("downcast").elementToElement({model:"softBreak",view:(l,{writer:u})=>u.createEmptyElement("br")}),r.addObserver(Tw),n.commands.add("shiftEnter",new cO(n)),this.listenTo(o,"enter",(l,u)=>{o.isComposing||u.preventDefault(),u.isSoft&&(n.execute("shiftEnter"),r.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fO extends At(){constructor(){super(...arguments);g(this,"_stack",[])}add(e,t){const r=this._stack,o=r[0];this._insertDescriptor(e);const s=r[0];o!==s&&!Mh(o,s)&&this.fire("change:top",{oldDescriptor:o,newDescriptor:s,writer:t})}remove(e,t){const r=this._stack,o=r[0];this._removeDescriptor(e);const s=r[0];o!==s&&!Mh(o,s)&&this.fire("change:top",{oldDescriptor:o,newDescriptor:s,writer:t})}_insertDescriptor(e){const t=this._stack,r=t.findIndex(s=>s.id===e.id);if(Mh(e,t[r]))return;r>-1&&t.splice(r,1);let o=0;for(;t[o]&&pO(t[o],e);)o++;t.splice(o,0,e)}_removeDescriptor(e){const t=this._stack,r=t.findIndex(o=>o.id===e);r>-1&&t.splice(r,1)}}function Mh(i,n){return i&&n&&i.priority==n.priority&&$u(i.classes)==$u(n.classes)}function pO(i,n){return i.priority>n.priority?!0:i.priority<n.priority?!1:$u(i.classes)>$u(n.classes)}function $u(i){return Array.isArray(i)?i.sort().join(","):i}var mO='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';const gO="ck-widget",P0="ck-widget_selected";function Sn(i){return i.is("element")?!!i.getCustomProperty("widget"):!1}function bO(i,n,e={}){if(!i.is("containerElement"))throw new Z("widget-to-widget-wrong-element-type",null,{element:i});return n.setAttribute("contenteditable","false",i),n.addClass(gO,i),n.setCustomProperty("widget",!0,i),i.getFillerOffset=xO,n.setCustomProperty("widgetLabel",[],i),e.label&&_O(i,e.label),e.hasSelectionHandle&&CO(i,n),vO(i,n),i}function wO(i,n,e){if(n.classes&&e.addClass(Ht(n.classes),i),n.attributes)for(const t in n.attributes)e.setAttribute(t,n.attributes[t],i)}function yO(i,n,e){if(n.classes&&e.removeClass(Ht(n.classes),i),n.attributes)for(const t in n.attributes)e.removeAttribute(t,i)}function vO(i,n,e=wO,t=yO){const r=new fO;r.on("change:top",(l,u)=>{u.oldDescriptor&&t(i,u.oldDescriptor,u.writer),u.newDescriptor&&e(i,u.newDescriptor,u.writer)});const o=(l,u,d)=>r.add(u,d),s=(l,u,d)=>r.remove(u,d);n.setCustomProperty("addHighlight",o,i),n.setCustomProperty("removeHighlight",s,i)}function _O(i,n){i.getCustomProperty("widgetLabel").push(n)}function kO(i){return i.getCustomProperty("widgetLabel").reduce((e,t)=>typeof t=="function"?e?e+". "+t():t():e?e+". "+t:t,"")}function EO(i,n){return(e,t)=>{const{mapper:r,viewPosition:o}=t,s=r.findMappedViewAncestor(o);if(!n(s))return;const l=r.toModelElement(s);t.modelPosition=i.createPositionAt(l,o.isAtStart?"before":"after")}}function xO(){return null}function CO(i,n){const e=n.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(t){const r=this.toDomElement(t),o=new eo;return o.set("content",mO),o.render(),r.appendChild(o.element),r});n.insert(n.createPositionAt(i,0),e),n.addClass(["ck-widget_with-selection-handle"],i)}const Ki="widget-type-around";function xs(i,n,e){return!!i&&Sn(i)&&!e.isInline(n)}function TO(i){return i.closest(".ck-widget__type-around__button")}function SO(i){return i.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function PO(i,n){const e=i.closest(".ck-widget");return n.mapDomToView(e)}function Cs(i){return i.getAttribute(Ki)}var AO='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';const Sw=["before","after"],OO=new DOMParser().parseFromString(AO,"image/svg+xml").firstChild,A0="ck-widget__type-around_disabled";class MO extends lt{constructor(){super(...arguments);g(this,"_currentFakeCaretModelElement",null)}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Yf,ad]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(r,o,s)=>{t.change(l=>{for(const u of t.document.roots)s?l.removeClass(A0,u):l.addClass(A0,u)}),s||e.model.change(l=>{l.removeSelectionAttribute(Ki)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const r=this.editor,o=r.editing.view,s=r.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);r.execute("insertParagraph",{position:r.model.createPositionAt(e,t),attributes:s}),o.focus(),o.scrollToTheSelection()}_listenToIfEnabled(e,t,r,o){this.listenTo(e,t,(...s)=>{this.isEnabled&&r(...s)},o)}_insertParagraphAccordingToFakeCaretPosition(){const r=this.editor.model.document.selection,o=Cs(r);if(!o)return!1;const s=r.getSelectedElement();return this._insertParagraph(s,o),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,r=e.locale.t,o={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(s,l,u)=>{const d=u.mapper.toViewElement(l.item);d&&xs(d,l.item,t)&&(RO(u.writer,o,d),d.getCustomProperty("widgetLabel").push(()=>this.isEnabled?r("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,r=t.document.selection,o=t.schema,s=e.editing.view;this._listenToIfEnabled(s.document,"arrowKey",(u,d)=>{this._handleArrowKeyPress(u,d)},{context:[Sn,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",(u,d)=>{d.directChange&&e.model.change(f=>{f.removeSelectionAttribute(Ki)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const u=r.getSelectedElement();if(u){const d=e.editing.mapper.toViewElement(u);if(xs(d,u,o))return}e.model.change(d=>{d.removeSelectionAttribute(Ki)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(u,d,f)=>{const p=f.writer;if(this._currentFakeCaretModelElement){const L=f.mapper.toViewElement(this._currentFakeCaretModelElement);L&&(p.removeClass(Sw.map(l),L),this._currentFakeCaretModelElement=null)}const b=d.selection.getSelectedElement();if(!b)return;const v=f.mapper.toViewElement(b);if(!xs(v,b,o))return;const x=Cs(d.selection);x&&(p.addClass(l(x),v),this._currentFakeCaretModelElement=b)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(u,d,f)=>{f||e.model.change(p=>{p.removeSelectionAttribute(Ki)})});function l(u){return`ck-widget_type-around_show-fake-caret_${u}`}}_handleArrowKeyPress(e,t){const r=this.editor,o=r.model,s=o.document.selection,l=o.schema,u=r.editing.view,d=t.keyCode,f=U5(d,r.locale.contentLanguageDirection),p=u.document.selection.getSelectedElement(),b=r.editing.mapper.toModelElement(p);let v;xs(p,b,l)?v=this._handleArrowKeyPressOnSelectedWidget(f):s.isCollapsed?v=this._handleArrowKeyPressWhenSelectionNextToAWidget(f):t.shiftKey||(v=this._handleArrowKeyPressWhenNonCollapsedSelection(f)),v&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const r=this.editor.model,o=r.document.selection,s=Cs(o);return r.change(l=>{if(s){if(!(s===(e?"after":"before")))return l.removeSelectionAttribute(Ki),!0}else return l.setSelectionAttribute(Ki,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,r=t.model,o=r.schema,s=t.plugins.get("Widget"),l=s._getObjectElementNextToSelection(e),u=t.editing.mapper.toViewElement(l);return xs(u,l,o)?(r.change(d=>{s._setSelectionOverElement(l),d.setSelectionAttribute(Ki,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,r=t.model,o=r.schema,s=t.editing.mapper,l=r.document.selection,u=e?l.getLastPosition().nodeBefore:l.getFirstPosition().nodeAfter,d=s.toViewElement(u);return xs(d,u,o)?(r.change(f=>{f.setSelection(u,"on"),f.setSelectionAttribute(Ki,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(r,o)=>{const s=TO(o.domTarget);if(!s)return;const l=SO(s),u=PO(s,t.domConverter),d=e.editing.mapper.toModelElement(u);this._insertParagraph(d,l),o.preventDefault(),r.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,r=e.editing.view;this._listenToIfEnabled(r.document,"enter",(o,s)=>{if(o.eventPhase!="atTarget")return;const l=t.getSelectedElement(),u=e.editing.mapper.toViewElement(l),d=e.model.schema;let f;this._insertParagraphAccordingToFakeCaretPosition()?f=!0:xs(u,l,d)&&(this._insertParagraph(l,s.isSoft?"before":"after"),f=!0),f&&(s.preventDefault(),o.stop())},{context:Sn})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(r,o)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(o.selection=t.selection)},{priority:"high"}),Xe.isAndroid?this._listenToIfEnabled(t,"keydown",(r,o)=>{o.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,r=e.model,o=r.schema;this._listenToIfEnabled(t.document,"delete",(s,l)=>{if(s.eventPhase!="atTarget")return;const u=Cs(r.document.selection);if(!u)return;const d=l.direction,f=r.document.selection.getSelectedElement(),p=u==="before",b=d=="forward";if(p===b)e.execute("delete",{selection:r.createSelection(f,"on")});else{const x=o.getNearestSelectionRange(r.createPositionAt(f,u),d);if(x)if(!x.isCollapsed)r.change(L=>{L.setSelection(x),e.execute(b?"deleteForward":"delete")});else{const L=r.createSelection(x.start);if(r.modifySelection(L,{direction:d}),!L.focus.isEqual(x.start))r.change(j=>{j.setSelection(x),e.execute(b?"deleteForward":"delete")});else{const j=DO(o,x.start.parent);r.deleteContent(r.createSelection(j,"on"),{doNotAutoparagraph:!0})}}}l.preventDefault(),s.stop()},{context:Sn})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,r=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(o,[s,l])=>{if(l&&!l.is("documentSelection"))return;const u=Cs(r);if(u)return o.stop(),t.change(d=>{const f=r.getSelectedElement(),p=t.createPositionAt(f,u),b=d.createSelection(p),v=t.insertContent(s,b);return d.setSelection(b),v})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(o,s)=>{const[,l,u={}]=s;if(l&&!l.is("documentSelection"))return;const d=Cs(r);d&&(u.findOptimalPosition=d,s[3]=u)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(o,[s])=>{if(s&&!s.is("documentSelection"))return;Cs(r)&&o.stop()},{priority:"high"})}}function RO(i,n,e){const t=i.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(r){const o=this.toDomElement(r);return IO(o,n),NO(o),o});i.insert(i.createPositionAt(e,"end"),t)}function IO(i,n){for(const e of Sw){const t=new Ci({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${e}`],title:n[e],"aria-hidden":"true"},children:[i.ownerDocument.importNode(OO,!0)]});i.appendChild(t.render())}}function NO(i){const n=new Ci({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});i.appendChild(n.render())}function DO(i,n){let e=n;for(const t of n.getAncestors({parentFirst:!0})){if(t.childCount>1||i.isLimit(t))break;e=t}return e}function LO(i){const n=i.model;return(e,t)=>{const r=t.keyCode==pt.arrowup,o=t.keyCode==pt.arrowdown,s=t.shiftKey,l=n.document.selection;if(!r&&!o)return;const u=o;if(s&&VO(l,u))return;const d=BO(i,l,u);if(d){if(d.isCollapsed){if(l.isCollapsed)return;if(s)return}(d.isCollapsed||FO(i,d,u))&&(n.change(f=>{const p=u?d.end:d.start;if(s){const b=n.createSelection(l.anchor);b.setFocus(p),f.setSelection(b)}else f.setSelection(p)}),e.stop(),t.preventDefault(),t.stopPropagation())}}}function BO(i,n,e){const t=i.model;if(e){const r=n.isCollapsed?n.focus:n.getLastPosition(),o=O0(t,r,"forward");if(!o)return null;const s=t.createRange(r,o),l=M0(t.schema,s,"backward");return l?t.createRange(r,l):null}else{const r=n.isCollapsed?n.focus:n.getFirstPosition(),o=O0(t,r,"backward");if(!o)return null;const s=t.createRange(o,r),l=M0(t.schema,s,"forward");return l?t.createRange(l,r):null}}function O0(i,n,e){const t=i.schema,r=i.createRangeIn(n.root),o=e=="forward"?"elementStart":"elementEnd";for(const{previousPosition:s,item:l,type:u}of r.getWalker({startPosition:n,direction:e})){if(t.isLimit(l)&&!t.isInline(l))return s;if(u==o&&t.isBlock(l))return null}return null}function M0(i,n,e){const t=e=="backward"?n.end:n.start;if(i.checkChild(t,"$text"))return t;for(const{nextPosition:r}of n.getWalker({direction:e}))if(i.checkChild(r,"$text"))return r;return null}function FO(i,n,e){const t=i.model,r=i.view.domConverter;if(e){const d=t.createSelection(n.start);t.modifySelection(d),!d.focus.isAtEnd&&!n.start.isEqual(d.focus)&&(n=t.createRange(d.focus,n.end))}const o=i.mapper.toViewRange(n),s=r.viewRangeToDom(o),l=ft.getDomRangeRects(s);let u;for(const d of l){if(u===void 0){u=Math.round(d.bottom);continue}if(Math.round(d.top)>=u)return!1;u=Math.max(u,Math.round(d.bottom))}return!0}function VO(i,n){return!i.isCollapsed&&i.isBackward==n}class Pw extends lt{constructor(){super(...arguments);g(this,"_previouslySelected",new Set)}static get pluginName(){return"Widget"}static get requires(){return[MO,ad]}init(){const e=this.editor,t=e.editing.view,r=t.document,o=e.t;this.editor.editing.downcastDispatcher.on("selection",(s,l,u)=>{const d=u.writer,f=l.selection;if(f.isCollapsed)return;const p=f.getSelectedElement();if(!p)return;const b=e.editing.mapper.toViewElement(p);Sn(b)&&u.consumable.consume(f,"selection")&&d.setSelection(d.createRangeOn(b),{fake:!0,label:kO(b)})}),this.editor.editing.downcastDispatcher.on("selection",(s,l,u)=>{this._clearPreviouslySelectedWidgets(u.writer);const d=u.writer,f=d.document.selection;let p=null;for(const b of f.getRanges())for(const v of b){const x=v.item;Sn(x)&&!$O(x,p)&&(d.addClass(P0,x),this._previouslySelected.add(x),p=x)}},{priority:"low"}),t.addObserver(qb),this.listenTo(r,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(r,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[Sn,"$text"]}),this.listenTo(r,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(r,"arrowKey",LO(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",(s,l)=>{this._handleDelete(l.direction=="forward")&&(l.preventDefault(),s.stop())},{context:"$root"}),this.listenTo(r,"tab",(s,l)=>{s.eventPhase=="atTarget"&&(l.shiftKey||this._selectFirstNestedEditable()&&(l.preventDefault(),s.stop()))},{context:Sn,priority:"low"}),this.listenTo(r,"tab",(s,l)=>{l.shiftKey&&this._selectAncestorWidget()&&(l.preventDefault(),s.stop())},{priority:"low"}),this.listenTo(r,"keydown",(s,l)=>{l.keystroke==pt.esc&&this._selectAncestorWidget()&&(l.preventDefault(),s.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:o("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:o("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:o("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:o("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:o("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:o("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const r=this.editor,o=r.editing.view,s=o.document;let l=t.target;if(!l)return;if(t.domEvent.detail>=3){this._selectBlockContent(l)&&t.preventDefault();return}if(!Sn(l)){const d=zO(l);if(!d)return;if(Sn(d))l=d;else{const f=jO(o,t);if(f&&Sn(f))l=f;else return}}Xe.isAndroid&&t.preventDefault(),s.isFocused||o.focus();const u=r.editing.mapper.toModelElement(l);this._setSelectionOverElement(u)}_selectBlockContent(e){const t=this.editor,r=t.model,o=t.editing.mapper,s=r.schema,l=o.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),u=WO(o.toModelElement(l),r.schema);return u?(r.change(d=>{const f=s.isLimit(u)?null:HO(d.createPositionAfter(u),s),p=d.createPositionAt(u,0),b=f?d.createPositionAt(f,0):d.createPositionAt(u,"end");d.setSelection(d.createRange(p,b))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,t){const r=t.keyCode,o=this.editor.model,s=o.schema,l=o.document.selection,u=l.getSelectedElement(),d=tb(r,this.editor.locale.contentLanguageDirection),f=d=="down"||d=="right",p=d=="up"||d=="down";if(u&&s.isObject(u)){const v=f?l.getLastPosition():l.getFirstPosition(),x=s.getNearestSelectionRange(v,f?"forward":"backward");x&&(o.change(L=>{L.setSelection(x)}),t.preventDefault(),e.stop());return}if(!l.isCollapsed&&!t.shiftKey){const v=l.getFirstPosition(),x=l.getLastPosition(),L=v.nodeAfter,j=x.nodeBefore;(L&&s.isObject(L)||j&&s.isObject(j))&&(o.change(N=>{N.setSelection(f?x:v)}),t.preventDefault(),e.stop());return}if(!l.isCollapsed)return;const b=this._getObjectElementNextToSelection(f);if(b&&s.isObject(b)){if(s.isInline(b)&&p)return;this._setSelectionOverElement(b),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const r=this.editor.model,o=r.schema,s=r.document.selection.getSelectedElement();s&&o.isObject(s)&&(t.preventDefault(),e.stop())}_handleDelete(e){const r=this.editor.model.document.selection;if(!this.editor.model.canEditAt(r)||!r.isCollapsed)return;const o=this._getObjectElementNextToSelection(e);if(o)return this.editor.model.change(s=>{let l=r.anchor.parent;for(;l.isEmpty;){const u=l;l=u.parent,s.remove(u)}this._setSelectionOverElement(o)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,r=t.schema,o=t.document.selection,s=t.createSelection(o);if(t.modifySelection(s,{direction:e?"forward":"backward"}),s.isEqual(o))return null;const l=e?s.focus.nodeBefore:s.focus.nodeAfter;return l&&r.isObject(l)?l:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(P0,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,r=this.editor.editing.view.document;for(const o of r.selection.getFirstRange().getItems())if(o.is("editableElement")){const s=e.editing.mapper.toModelElement(o);/* istanbul ignore next -- @preserve */if(!s)continue;const l=e.model.createPositionAt(s,0),u=e.model.schema.getNearestSelectionRange(l,"forward");return e.model.change(d=>{d.setSelection(u)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,o=e.editing.view.document.selection.getFirstPosition().parent,l=(o.is("$text")?o.parent:o).findAncestor(Sn);if(!l)return!1;const u=t.toModelElement(l);/* istanbul ignore next -- @preserve */return u?(e.model.change(d=>{d.setSelection(u,"on")}),!0):!1}}function zO(i){let n=i;for(;n;){if(n.is("editableElement")||Sn(n))return n;n=n.parent}return null}function jO(i,n){const e=q1(n.domEvent);let t=null;if(e?t=i.domConverter.domRangeToView(e):t=i.createRange(i.createPositionAt(n.target,0)),!t)return null;const r=t.start;if(!r.parent)return null;let o=r.parent;return r.parent.is("editableElement")&&(r.isAtEnd&&r.nodeBefore?o=r.nodeBefore:r.isAtStart&&r.nodeAfter&&(o=r.nodeAfter)),o.is("$text")?o.parent:o}function $O(i,n){return n?Array.from(i.getAncestors()).includes(n):!1}function WO(i,n){for(const e of i.getAncestors({includeSelf:!0,parentFirst:!0})){if(n.checkChild(e,"$text"))return e;if(n.isLimit(e)&&!n.isObject(e))break}return null}function HO(i,n){const e=new Zi({startPosition:i});for(const{item:t}of e){if(n.isLimit(t)||!t.is("element"))return null;if(n.checkChild(t,"$text"))return t}return null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zl extends Va{constructor(e){super(e);g(this,"domEventType",["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"]);const t=this.document;this.listenTo(t,"paste",r("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",r("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",r("dragging"),{priority:"low"});function r(o){return(s,l)=>{l.preventDefault();const u=l.dropRange?[l.dropRange]:null,d=new Ji(t,o);t.fire(d,{dataTransfer:l.dataTransfer,method:s.name,targetRanges:u,target:l.target,domEvent:l.domEvent}),d.stop.called&&l.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,r=e.type=="drop"||e.type=="paste",o={dataTransfer:new gb(t,{cacheFiles:r})};if(e.type=="drop"||e.type=="dragover"){const s=q1(e);o.dropRange=s&&this.view.domConverter.domRangeToView(s)}this.fire(e.type,e,o)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function UO(i){return i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(i.includes("</p><p>")||i.includes("<br>"))&&(i=`<p>${i}</p>`),i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function qO(i){return i.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,e)=>e.length==1?" ":e).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const R0=["figcaption","li"],I0=["ol","ul"];function Aw(i){if(i.is("$text")||i.is("$textProxy"))return i.data;if(i.is("element","img")&&i.hasAttribute("alt"))return i.getAttribute("alt");if(i.is("element","br"))return`
`;let n="",e=null;for(const t of i.getChildren())n+=KO(t,e)+Aw(t),e=t;return n}function KO(i,n){return n?i.is("element","li")&&!i.isEmpty&&i.getChild(0).is("containerElement")||I0.includes(i.name)&&I0.includes(n.name)?`

`:!i.is("containerElement")&&!n.is("containerElement")?"":R0.includes(i.name)||R0.includes(n.name)?`
`:i.is("element")&&i.getCustomProperty("dataPipeline:transparentRendering")||n.is("element")&&n.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:""}class Ow extends lt{constructor(){super(...arguments);g(this,"_markersToCopy",new Map)}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,r=o=>o.model.getSelectedContent(o.model.document.selection)){return this.editor.model.change(o=>{const s=o.model.document.selection;o.setSelection(t);const l=this._insertFakeMarkersIntoSelection(o,o.model.document.selection,e),u=r(o),d=this._removeFakeMarkersInsideElement(o,u);for(const[f,p]of Object.entries(l)){d[f]||(d[f]=o.createRangeIn(u));for(const b of p)o.remove(b)}u.markers.clear();for(const[f,p]of Object.entries(d))u.markers.set(f,p);return o.setSelection(s),u})}_pasteMarkersIntoTransformedElement(e,t){const r=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(o=>{const s=this._insertFakeMarkersElements(o,r),l=t(o),u=this._removeFakeMarkersInsideElement(o,l);for(const d of Object.values(s).flat())o.remove(d);for(const[d,f]of Object.entries(u))o.model.markers.has(d)||o.addMarker(d,{usingOperation:!0,affectsData:!0,range:f});return l})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const r of t)e.markers.set(r.name,r.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,r={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const o=this._markersToCopy.get(e);this._markersToCopy.set(e,r),t(),o?this._markersToCopy.set(e,o):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const r=this._getMarkerClipboardConfig(e);if(!r)return!1;if(!t)return!0;const{allowedActions:o}=r;return o==="all"||o.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,r){const o=this._getCopyableMarkersFromSelection(e,t,r);return this._insertFakeMarkersElements(e,o)}_getCopyableMarkersFromSelection(e,t,r){const o=Array.from(t.getRanges()),s=new Set(o.flatMap(u=>Array.from(e.model.markers.getMarkersIntersectingRange(u)))),l=u=>{if(!this._isMarkerCopyable(u.name,r))return!1;const{copyPartiallySelected:f}=this._getMarkerClipboardConfig(u.name);if(!f){const p=u.getRange();return o.some(b=>b.containsRange(p,!0))}return!0};return Array.from(s).filter(l).map(u=>({name:r==="dragstart"?this._getUniqueMarkerName(u.name):u.name,range:u.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:r}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([s,l])=>{if(!this._hasMarkerConfiguration(s))return[{name:s,range:l}];if(this._isMarkerCopyable(s,t)){const u=this._getMarkerClipboardConfig(s),d=r.markers.has(s)&&r.markers.get(s).getRange().root.rootName==="$graveyard";return(u.duplicateOnPaste||d)&&(s=this._getUniqueMarkerName(s)),[{name:s,range:l}]}return[]})}_insertFakeMarkersElements(e,t){const r={},o=t.flatMap(s=>{const{start:l,end:u}=s.range;return[{position:l,marker:s,type:"start"},{position:u,marker:s,type:"end"}]}).sort(({position:s},{position:l})=>s.isBefore(l)?1:-1);for(const{position:s,marker:l,type:u}of o){const d=e.createElement("$marker",{"data-name":l.name,"data-type":u});r[l.name]||(r[l.name]=[]),r[l.name].push(d),e.insert(d,s)}return r}_removeFakeMarkersInsideElement(e,t){const o=this._getAllFakeMarkersFromElement(e,t).reduce((s,l)=>{const u=l.markerElement&&e.createPositionBefore(l.markerElement);let d=s[l.name],f=!1;return d&&d.start&&d.end&&(this._getMarkerClipboardConfig(l.name).duplicateOnPaste?s[this._getUniqueMarkerName(l.name)]=s[l.name]:f=!0,d=null),f||(s[l.name]={...d,[l.type]:u}),l.markerElement&&e.remove(l.markerElement),s},{});return W2(o,s=>new ae(s.start||e.createPositionFromPath(t,[0]),s.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const r=Array.from(e.createRangeIn(t)).flatMap(({item:l})=>{if(!l.is("element","$marker"))return[];const u=l.getAttribute("data-name"),d=l.getAttribute("data-type");return[{markerElement:l,name:u,type:d}]}),o=[],s=[];for(const l of r)l.type==="end"&&(r.some(d=>d.name===l.name&&d.type==="start")||o.push({markerElement:null,name:l.name,type:"start"})),l.type==="start"&&(r.some(d=>d.name===l.name&&d.type==="end")||s.unshift({markerElement:null,name:l.name,type:"end"}));return[...o,...r,...s]}_getUniqueMarkerName(e){const t=e.split(":"),r=oo().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${r}`:`${t.join(":")}:${r}`}}class Ia extends lt{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Ow]}init(){this.editor.editing.view.addObserver(Zl),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(n,e,t){const r=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:t==="cut"},()=>{const o=r._copySelectedFragmentWithMarkers(t,e);this.fire("outputTransformation",{dataTransfer:n,content:o,method:t})})}_setupPasteDrop(){const n=this.editor,e=n.model,t=n.editing.view,r=t.document,o=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(r,"clipboardInput",(s,l)=>{l.method=="paste"&&!n.model.canEditAt(n.model.document.selection)&&s.stop()},{priority:"highest"}),this.listenTo(r,"clipboardInput",(s,l)=>{const u=l.dataTransfer;let d;if(l.content)d=l.content;else{let p="";u.getData("text/html")?p=qO(u.getData("text/html")):u.getData("text/plain")&&(p=UO(u.getData("text/plain"))),d=this.editor.data.htmlProcessor.toView(p)}const f=new Ji(this,"inputTransformation");this.fire(f,{content:d,dataTransfer:u,targetRanges:l.targetRanges,method:l.method}),f.stop.called&&s.stop(),t.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(s,l)=>{if(l.content.isEmpty)return;const d=this.editor.data.toModel(l.content,"$clipboardHolder");d.childCount!=0&&(s.stop(),e.change(()=>{this.fire("contentInsertion",{content:d,method:l.method,dataTransfer:l.dataTransfer,targetRanges:l.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(s,l)=>{l.resultRange=o._pasteFragmentWithMarkers(l.content)},{priority:"low"})}_setupCopyCut(){const n=this.editor,e=n.model.document,r=n.editing.view.document,o=(s,l)=>{const u=l.dataTransfer;l.preventDefault(),this._fireOutputTransformationEvent(u,e.selection,s.name)};this.listenTo(r,"copy",o,{priority:"low"}),this.listenTo(r,"cut",(s,l)=>{n.model.canEditAt(n.model.document.selection)?o(s,l):l.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(s,l)=>{const u=n.data.toView(l.content);r.fire("clipboardOutput",{dataTransfer:l.dataTransfer,content:u,method:l.method})},{priority:"low"}),this.listenTo(r,"clipboardOutput",(s,l)=>{l.content.isEmpty||(l.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(l.content)),l.dataTransfer.setData("text/plain",Aw(l.content))),l.method=="cut"&&n.model.deleteContent(e.selection)},{priority:"low"})}}const Rh=rd("px");class GO extends ut{constructor(){super();const n=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",n.if("isVisible","ck-hidden",e=>!e)],style:{left:n.to("left",e=>Rh(e)),top:n.to("top",e=>Rh(e)),width:n.to("width",e=>Rh(e))}}})}}class wu extends lt{constructor(){super(...arguments);g(this,"removeDropMarkerDelayed",Mf(()=>this.removeDropMarker(),40));g(this,"_updateDropMarkerThrottled",Nu(e=>this._updateDropMarker(e),40));g(this,"_reconvertMarkerThrottled",Nu(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0));g(this,"_dropTargetLineView",new GO);g(this,"_domEmitter",new(ai()));g(this,"_scrollables",new Map)}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,r,o,s,l){this.removeDropMarkerDelayed.cancel();const u=N0(this.editor,e,t,r,o,s,l);/* istanbul ignore next -- @preserve */if(u){if(l&&l.containsRange(u))return this.removeDropMarker();this._updateDropMarkerThrottled(u)}}getFinalDropRange(e,t,r,o,s,l){const u=N0(this.editor,e,t,r,o,s,l);return this.removeDropMarker(),u}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:r})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(r);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,r=t.model.markers;t.model.change(o=>{r.has("drop-target")?r.get("drop-target").getRange().isEqual(e)||o.updateMarker("drop-target",{range:e}):o.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const r=this.toDomElement(t);return r.append("⁠",t.createElement("span"),"⁠"),r})}_updateDropTargetLine(e){const t=this.editor.editing,r=e.start.nodeBefore,o=e.start.nodeAfter,s=e.start.parent,l=r?t.mapper.toViewElement(r):null,u=l?t.view.domConverter.mapViewToDom(l):null,d=o?t.mapper.toViewElement(o):null,f=d?t.view.domConverter.mapViewToDom(d):null,p=t.mapper.toViewElement(s);if(!p)return;const b=t.view.domConverter.mapViewToDom(p),v=this._getScrollableRect(p),{scrollX:x,scrollY:L}=Le.window,j=u?new ft(u):null,N=f?new ft(f):null,$=new ft(b).excludeScrollbarsAndBorders(),R=j?j.bottom:$.top,z=N?N.top:$.bottom,U=Le.window.getComputedStyle(b),F=R<=z?(R+z)/2:z;if(v.top<F&&F<v.bottom){const G=$.left+parseFloat(U.paddingLeft),q=$.right-parseFloat(U.paddingRight),D=Math.max(G+x,v.left),V=Math.min(q+x,v.right);this._dropTargetLineView.set({isVisible:!0,left:D,top:F+L,width:V-D})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let r;if(this._scrollables.has(t))r=this._scrollables.get(t).domElement;else{const o=this.editor.editing.view.domConverter.mapViewToDom(e);r=YO(o),this._domEmitter.listenTo(r,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const s=new Bl(r,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:r,resizeObserver:s})}return new ft(r).excludeScrollbarsAndBorders()}}function N0(i,n,e,t,r,o,s){const l=i.model,u=i.editing.mapper;let f=D0(i,n);for(;f;){if(!o){if(l.schema.checkChild(f,"$text")){if(e){const p=e[0].start,b=u.toModelPosition(p);if(!s||Array.from(s.getItems()).every(x=>l.schema.checkChild(b,x))){if(l.schema.checkChild(b,"$text"))return l.createRange(b);if(p)return yu(i,D0(i,p.parent),t,r)}}}else if(l.schema.isInline(f))return yu(i,f,t,r)}if(l.schema.isBlock(f))return yu(i,f,t,r);if(l.schema.checkChild(f,"$block")){const p=Array.from(f.getChildren()).filter(x=>x.is("element")&&!ZO(i,x));let b=0,v=p.length;if(v==0)return l.createRange(l.createPositionAt(f,"end"));for(;b<v-1;){const x=Math.floor((b+v)/2);Mw(i,p[x],t,r)=="before"?v=x:b=x}return yu(i,p[b],t,r)}f=f.parent}return null}function ZO(i,n){const e=i.editing.mapper,t=i.editing.view.domConverter,r=e.toViewElement(n);if(!r)return!0;const o=t.mapViewToDom(r);return Le.window.getComputedStyle(o).float!="none"}function yu(i,n,e,t){const r=i.model;return r.createRange(r.createPositionAt(n,Mw(i,n,e,t)))}function Mw(i,n,e,t){const r=i.editing.mapper,o=i.editing.view.domConverter,s=r.toViewElement(n),l=o.mapViewToDom(s),u=new ft(l);return i.model.schema.isInline(n)?e<(u.left+u.right)/2?"before":"after":t<(u.top+u.bottom)/2?"before":"after"}function D0(i,n){const e=i.editing.mapper,t=i.editing.view,r=e.toModelElement(n);if(r)return r;const o=t.createPositionBefore(n),s=e.findMappedViewAncestor(o);return e.toModelElement(s)}function YO(i){let n=i;do{n=n.parentElement;const e=Le.window.getComputedStyle(n).overflowY;if(e=="auto"||e=="scroll")break}while(n.tagName!="BODY");return n}class JO extends lt{constructor(){super(...arguments);g(this,"_isBlockDragging",!1);g(this,"_domEmitter",new(ai()))}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,r,o)=>{o?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),Xe.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const r=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(r,"dragstart",(o,s)=>this._handleBlockDragStart(s)),this._domEmitter.listenTo(Le.document,"dragover",(o,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(Le.document,"drop",(o,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(Le.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&r.setAttribute("draggable","true"),this.on("change:isEnabled",(o,s,l)=>{r.setAttribute("draggable",l?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,r=t.document.selection,o=this.editor.editing.view,s=Array.from(r.getSelectedBlocks()),l=t.createRange(t.createPositionBefore(s[0]),t.createPositionAfter(s[s.length-1]));t.change(u=>u.setSelection(l)),this._isBlockDragging=!0,o.focus(),o.getObserver(Zl).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),r=e.clientY,o=document.elementFromPoint(t,r),s=this.editor.editing.view;!o||!o.closest(".ck-editor__editable")||s.getObserver(Zl).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:o,clientX:t,clientY:r,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class QO extends lt{constructor(){super(...arguments);g(this,"_draggedRange");g(this,"_draggingUid");g(this,"_draggableElement");g(this,"_clearDraggableAttributesDelayed",Mf(()=>this._clearDraggableAttributes(),40));g(this,"_blockMode",!1);g(this,"_domEmitter",new(ai()));g(this,"_previewContainer")}static get pluginName(){return"DragDrop"}static get requires(){return[Ia,Pw,wu,JO]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(Zl),t.addObserver(qb),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(r,o,s)=>{s?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(r,o,s)=>{s||this._finalizeDragging(!1)}),Xe.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,r=e.editing.view,o=r.document,s=e.plugins.get(wu);this.listenTo(o,"dragstart",(l,u)=>{if(u.target&&u.target.is("editableElement")){u.preventDefault();return}if(this._prepareDraggedRange(u.target),!this._draggedRange){u.preventDefault();return}this._draggingUid=oo(),u.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",u.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const d=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(u.dataTransfer,d,"dragstart");const{dataTransfer:p,domTarget:b,domEvent:v}=u,{clientX:x}=v;this._updatePreview({dataTransfer:p,domTarget:b,clientX:x}),u.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(o,"dragend",(l,u)=>{this._finalizeDragging(!u.dataTransfer.isCanceled&&u.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(Le.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(o,"dragenter",()=>{this.isEnabled&&r.focus()}),this.listenTo(o,"dragleave",()=>{s.removeDropMarkerDelayed()}),this.listenTo(o,"dragging",(l,u)=>{if(!this.isEnabled){u.dataTransfer.dropEffect="none";return}const{clientX:d,clientY:f}=u.domEvent;s.updateDropMarker(u.target,u.targetRanges,d,f,this._blockMode,this._draggedRange),this._draggedRange||(u.dataTransfer.dropEffect="copy"),Xe.isGecko||(u.dataTransfer.effectAllowed=="copy"?u.dataTransfer.dropEffect="copy":["all","copyMove"].includes(u.dataTransfer.effectAllowed)&&(u.dataTransfer.dropEffect="move")),l.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,r=e.editing.view.document,o=e.plugins.get(wu);this.listenTo(r,"clipboardInput",(s,l)=>{if(l.method!="drop")return;const{clientX:u,clientY:d}=l.domEvent,f=o.getFinalDropRange(l.target,l.targetRanges,u,d,this._blockMode,this._draggedRange);if(!f){this._finalizeDragging(!1),s.stop();return}if(this._draggedRange&&this._draggingUid!=l.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),L0(l.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(f,!0)){this._finalizeDragging(!1),s.stop();return}l.targetRanges=[e.editing.mapper.toViewRange(f)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Ia);e.on("contentInsertion",(t,r)=>{if(!this.isEnabled||r.method!=="drop")return;const o=r.targetRanges.map(s=>this.editor.editing.mapper.toModelRange(s));this.editor.model.change(s=>s.setSelection(o))},{priority:"high"}),e.on("contentInsertion",(t,r)=>{if(!this.isEnabled||r.method!=="drop")return;const o=L0(r.dataTransfer)=="move",s=!r.resultRange||!r.resultRange.isCollapsed;this._finalizeDragging(s&&o)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,r=t.document;this.listenTo(r,"mousedown",(o,s)=>{if(Xe.isAndroid||!s)return;this._clearDraggableAttributesDelayed.cancel();let l=B0(s.target);if(Xe.isBlink&&!e.isReadOnly&&!l&&!r.selection.isCollapsed){const u=r.selection.getSelectedElement();(!u||!Sn(u))&&(l=r.selection.editableElement)}l&&(t.change(u=>{u.setAttribute("draggable","true",l)}),this._draggableElement=e.editing.mapper.toModelElement(l))}),this.listenTo(r,"mouseup",()=>{Xe.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,r=t.model;t.plugins.get(wu).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&r.change(s=>{const l=r.createSelection(this._draggedRange);r.deleteContent(l,{doNotAutoparagraph:!0});const u=l.getFirstPosition().parent;u.isEmpty&&!r.schema.checkChild(u,"$text")&&r.schema.checkChild(u,"paragraph")&&s.insertElement("paragraph",u,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,r=t.model,o=r.document.selection,s=e?B0(e):null;if(s){const f=t.editing.mapper.toModelElement(s);this._draggedRange=Wr.fromRange(r.createRangeOn(f)),this._blockMode=r.schema.isBlock(f),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(o.isCollapsed&&!o.getFirstPosition().parent.isEmpty)return;const l=Array.from(o.getSelectedBlocks()),u=o.getFirstRange();if(l.length==0){this._draggedRange=Wr.fromRange(u);return}const d=Rw(r,l);if(l.length>1)this._draggedRange=Wr.fromRange(d),this._blockMode=!0;else if(l.length==1){const f=u.start.isTouching(d.start)&&u.end.isTouching(d.end);this._draggedRange=Wr.fromRange(f?d:u),this._blockMode=f}r.change(f=>f.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:r}){const o=this.editor.editing.view,s=o.document.selection.editableElement,l=o.domConverter.mapViewToDom(s),u=Le.window.getComputedStyle(l);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Qr(Le.document,"div",{style:"position: fixed; left: -999999px;"}),Le.document.body.appendChild(this._previewContainer));const d=new ft(l);if(l.contains(t))return;const f=parseFloat(u.paddingLeft),p=Qr(Le.document,"div");p.className="ck ck-content",p.style.width=u.width,p.style.paddingLeft=`${d.left-r+f}px`,Xe.isiOS&&(p.style.backgroundColor="white"),o.domConverter.setContentOf(p,e.getData("text/html")),e.setDragImage(p,0,0),this._previewContainer.appendChild(p)}}function L0(i){return Xe.isGecko?i.dropEffect:["all","copyMove"].includes(i.effectAllowed)?"move":"copy"}function B0(i){if(i.is("editableElement"))return null;if(i.hasClass("ck-widget__selection-handle"))return i.findAncestor(Sn);if(Sn(i))return i;const n=i.findAncestor(e=>Sn(e)||e.is("editableElement"));return Sn(n)?n:null}function Rw(i,n){const e=n[0],t=n[n.length-1],r=e.getCommonAncestor(t),o=i.createPositionBefore(e),s=i.createPositionAfter(t);if(r&&r.is("element")&&!i.schema.isLimit(r)){const l=i.createRangeOn(r),u=o.isTouching(l.start),d=s.isTouching(l.end);if(u&&d)return Rw(i,[r])}return i.createRange(o,s)}class XO extends lt{static get pluginName(){return"PastePlainText"}static get requires(){return[Ia]}init(){const n=this.editor,e=n.model,t=n.editing.view,r=e.document.selection;t.addObserver(Zl),n.plugins.get(Ia).on("contentInsertion",(o,s)=>{e7(s.content,e)&&e.change(l=>{const u=Array.from(r.getAttributes()).filter(([f])=>e.schema.getAttributeProperties(f).isFormatting);r.isCollapsed||e.deleteContent(r,{doNotAutoparagraph:!0}),u.push(...r.getAttributes());const d=l.createRangeIn(s.content);for(const f of d.getItems())for(const p of u)e.schema.checkAttribute(f,p[0])&&l.setAttribute(p[0],p[1],f)})})}}function e7(i,n){let e=n.createRangeIn(i);if(i.childCount==1){const t=i.getChild(0);t.is("element")&&n.schema.isBlock(t)&&!n.schema.isObject(t)&&!n.schema.isLimit(t)&&(e=n.createRangeIn(t))}for(const t of e.getItems())if(!n.schema.isInline(t)||Array.from(t.getAttributeKeys()).find(o=>n.schema.getAttributeProperties(o).isFormatting))return!1;return!0}class t7 extends lt{static get pluginName(){return"Clipboard"}static get requires(){return[Ow,Ia,QO,XO]}init(){const n=this.editor,e=this.editor.t;n.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Copy selected content"),keystroke:"CTRL+C"},{label:e("Paste content"),keystroke:"CTRL+V"},{label:e("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class n7 extends O3{constructor(e,t){super(e);g(this,"view");g(this,"_toolbarConfig");g(this,"_elementReplacer");this.view=t,this._toolbarConfig=lw(e.config.get("toolbar")),this._elementReplacer=new C5,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,r=this.view,o=t.editing.view,s=r.editable,l=o.document.getRoot();s.name=l.rootName,r.render();const u=s.element;this.setEditableElement(s.name,u),r.editable.bind("isFocused").to(this.focusTracker),o.attachDomRoot(u),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),r.menuBarView&&this._initMenuBar(r.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.getDomRoot(e.editable.name)&&t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,r=t.document.getRoot(),o=e.sourceElement;let s;const l=e.config.get("placeholder");l&&(s=typeof l=="string"?l:l[this.view.editable.name]),!s&&o&&o.tagName.toLowerCase()==="textarea"&&(s=o.getAttribute("placeholder")),s&&(r.placeholder=s),ux({view:t,element:r,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,t=this.editor.plugins.get("ContextualBalloon");t.on("getPositionOptions",o=>{const s=o.return;if(!s||!e.isSticky||!e.element)return;const l=new ft(e.element).height,u=typeof s.target=="function"?s.target():s.target,d=typeof s.limiter=="function"?s.limiter():s.limiter;if(u&&d&&new ft(u).height>=new ft(d).height-l)return;const f={...s.viewportOffsetConfig},p=(f.top||0)+l;o.return={...s,viewportOffsetConfig:{...f,top:p}}},{priority:"low"});const r=()=>{t.visibleView&&t.updatePosition()};this.listenTo(e,"change:isSticky",r),this.listenTo(this.editor.ui,"change:viewportOffset",r)}_handleScrollToTheSelectionWithStickyPanel(e,t,r){const o=this.view.stickyPanel;if(o.isSticky){const s=new ft(o.element).height;t.viewportOffset.top+=s}else{const s=()=>{this.editor.editing.view.scrollToTheSelection(r)};this.listenTo(o,"change:isSticky",s),setTimeout(()=>{this.stopListening(o,"change:isSticky",s)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{const r=t.view;r.on("moveTo",(o,s)=>{if(!e.isSticky||r.wasMoved)return;const l=new ft(e.contentPanelElement);s[1]<l.bottom+Kl.defaultOffset&&(s[1]=l.bottom+Kl.defaultOffset)},{priority:"high"})},{priority:"low"})}}class r7 extends R3{constructor(e,t,r={}){super(e);g(this,"stickyPanel");g(this,"toolbar");g(this,"editable");this.stickyPanel=new D3(e),this.toolbar=new cw(e,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull}),r.useMenuBar&&(this.menuBarView=new z3(e)),this.editable=new N3(e,t,void 0,{label:r.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class i7 extends rf(va){constructor(e,t={}){if(!Su(e)&&t.initialData!==void 0)throw new Z("editor-create-initial-data",null);super(t);g(this,"ui");this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",o7(e)),Su(e)&&(this.sourceElement=e),this.model.document.createRoot();const r=!this.config.get("toolbar.shouldNotGroupWhenFull"),o=this.config.get("menuBar"),s=new r7(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:r,useMenuBar:o.isVisible,label:this.config.get("label")});this.ui=new n7(this,s),US(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(r=>{const o=new this(e,t);r(o.initPlugins().then(()=>o.ui.init(Su(e)?e:null)).then(()=>o.data.init(o.config.get("initialData"))).then(()=>o.fire("ready")).then(()=>o))})}}function o7(i){return Su(i)?O5(i):i}function Su(i){return Ms(i)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class s7 extends Qn{constructor(n){super(n),this.affectsData=!1}execute(){const n=this.editor.model,e=n.document.selection;let t=n.schema.getLimitElement(e);if(e.containsEntireContent(t)||!F0(n.schema,t))do if(t=t.parent,!t)return;while(!F0(n.schema,t));n.change(r=>{r.setSelection(t,"in")})}}function F0(i,n){return i.isLimit(n)&&(i.checkChild(n,"$text")||i.checkChild(n,"paragraph"))}const a7=Of("Ctrl+A");class l7 extends lt{static get pluginName(){return"SelectAllEditing"}init(){const n=this.editor,e=n.t,r=n.editing.view.document;n.commands.add("selectAll",new s7(n)),this.listenTo(r,"keydown",(o,s)=>{Aa(s)===a7&&(n.execute("selectAll"),s.preventDefault())}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Select all"),keystroke:"CTRL+A"}]})}}var c7='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class u7 extends lt{static get pluginName(){return"SelectAllUI"}init(){const n=this.editor;n.ui.componentFactory.add("selectAll",()=>{const e=this._createButton(lr);return e.set({tooltip:!0}),e}),n.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(ao))}_createButton(n){const e=this.editor,t=e.locale,r=e.commands.get("selectAll"),o=new n(e.locale),s=t.t;return o.set({label:s("Select all"),icon:c7,keystroke:"Ctrl+A"}),o.bind("isEnabled").to(r,"isEnabled"),this.listenTo(o,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),o}}class d7 extends lt{static get requires(){return[l7,u7]}static get pluginName(){return"SelectAll"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Iw extends Qn{constructor(e){super(e);g(this,"_stack",[]);g(this,"_createdBatches",new WeakSet);this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,r)=>{r[1]={...r[1]};const o=r[1];o.batchType||(o.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,r)=>{r[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,r={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:r}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,r){const o=this.editor.model,s=o.document,l=[],u=e.map(f=>f.getTransformedByOperations(r)),d=u.flat();for(const f of u){const p=f.filter(b=>b.root!=s.graveyard).filter(b=>!f7(b,d));p.length&&(h7(p),l.push(p[0]))}l.length&&o.change(f=>{f.setSelection(l,{backward:t})})}_undo(e,t){const r=this.editor.model,o=r.document;this._createdBatches.add(t);const s=e.operations.slice().filter(l=>l.isDocumentOperation);s.reverse();for(const l of s){const u=l.baseVersion+1,d=Array.from(o.history.getOperations(u)),p=XT([l.getReversed()],d,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let b of p){const v=b.affectedSelectable;v&&!r.canEditAt(v)&&(b=new vn(b.baseVersion)),t.addOperation(b),r.applyOperation(b),o.history.setOperationAsUndone(l,b)}}}}function h7(i){i.sort((n,e)=>n.start.isBefore(e.start)?-1:1);for(let n=1;n<i.length;n++){const t=i[n-1].getJoined(i[n],!0);t&&(n--,i.splice(n,2,t))}}function f7(i,n){return n.some(e=>e!==i&&e.containsRange(i,!0))}class p7 extends Iw{execute(n=null){const e=n?this._stack.findIndex(o=>o.batch==n):this._stack.length-1,t=this._stack.splice(e,1)[0],r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{this._undo(t.batch,r);const o=this.editor.model.document.history.getOperations(t.batch.baseVersion);this._restoreSelection(t.selection.ranges,t.selection.isBackward,o)}),this.fire("revert",t.batch,r),this.refresh()}}class m7 extends Iw{execute(){const n=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,()=>{const r=n.batch.operations[n.batch.operations.length-1].baseVersion+1,o=this.editor.model.document.history.getOperations(r);this._restoreSelection(n.selection.ranges,n.selection.isBackward,o),this._undo(n.batch,e)}),this.refresh()}}class g7 extends lt{constructor(){super(...arguments);g(this,"_undoCommand");g(this,"_redoCommand");g(this,"_batchRegistry",new WeakSet)}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,t=e.t;this._undoCommand=new p7(e),this._redoCommand=new m7(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(r,o)=>{const s=o[0];if(!s.isDocumentOperation)return;const l=s.batch,u=this._redoCommand.createdBatches.has(l),d=this._undoCommand.createdBatches.has(l);this._batchRegistry.has(l)||(this._batchRegistry.add(l),l.isUndoable&&(u?this._undoCommand.addBatch(l):d||(this._undoCommand.addBatch(l),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(r,o,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class b7 extends lt{static get pluginName(){return"UndoUI"}init(){const n=this.editor,e=n.locale,t=n.t,r=e.uiLanguageDirection=="ltr"?fn.undo:fn.redo,o=e.uiLanguageDirection=="ltr"?fn.redo:fn.undo;this._addButtonsToFactory("undo",t("Undo"),"CTRL+Z",r),this._addButtonsToFactory("redo",t("Redo"),"CTRL+Y",o)}_addButtonsToFactory(n,e,t,r){const o=this.editor;o.ui.componentFactory.add(n,()=>{const s=this._createButton(lr,n,e,t,r);return s.set({tooltip:!0}),s}),o.ui.componentFactory.add("menuBar:"+n,()=>this._createButton(ao,n,e,t,r))}_createButton(n,e,t,r,o){const s=this.editor,l=s.locale,u=s.commands.get(e),d=new n(l);return d.set({label:t,icon:o,keystroke:r}),d.bind("isEnabled").to(u,"isEnabled"),this.listenTo(d,"execute",()=>{s.execute(e),s.editing.view.focus()}),d}}class w7 extends lt{static get requires(){return[g7,b7]}static get pluginName(){return"Undo"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class y7 extends lt{static get requires(){return[DA,t7,Yf,d7,hO,X3,w7]}static get pluginName(){return"Essentials"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class v7 extends Qn{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}refresh(){const n=this.editor.model,e=n.document,t=Ls(e.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&V0(t,n.schema)}execute(n={}){const e=this.editor.model,t=e.document,r=n.selection||t.selection;e.canEditAt(r)&&e.change(o=>{const s=r.getSelectedBlocks();for(const l of s)!l.is("element","paragraph")&&V0(l,e.schema)&&o.rename(l,"paragraph")})}}function V0(i,n){return n.checkChild(i.parent,"paragraph")&&!n.isObject(i)}class _7 extends Qn{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}execute(n){const e=this.editor.model,t=n.attributes;let r=n.position;e.canEditAt(r)&&e.change(o=>{if(r=this._findPositionToInsertParagraph(r,o),!r)return;const s=o.createElement("paragraph");t&&e.schema.setAllowedAttributes(s,t,o),e.insertContent(s,r),o.setSelection(s,"in")})}_findPositionToInsertParagraph(n,e){const t=this.editor.model;if(t.schema.checkChild(n,"paragraph"))return n;const r=t.schema.findAllowedParent(n,"paragraph");if(!r)return null;const o=n.parent,s=t.schema.checkChild(o,"$text");return o.isEmpty||s&&n.isAtEnd?t.createPositionAfter(o):!o.isEmpty&&s&&n.isAtStart?t.createPositionBefore(o):e.split(n,r).position}}const Gu=class Gu extends lt{static get pluginName(){return"Paragraph"}init(){const n=this.editor,e=n.model;n.commands.add("paragraph",new v7(n)),n.commands.add("insertParagraph",new _7(n)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),n.conversion.elementToElement({model:"paragraph",view:"p"}),n.conversion.for("upcast").elementToElement({model:(t,{writer:r})=>!Gu.paragraphLikeElements.has(t.name)||t.isEmpty?null:r.createElement("paragraph"),view:/.+/,converterPriority:"low"})}};g(Gu,"paragraphLikeElements",new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]));let Wu=Gu;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class k7 extends Qn{constructor(e,t){super(e);g(this,"modelElements");this.modelElements=t}refresh(){const e=Ls(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>z0(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,r=t.document,o=e.value;t.change(s=>{const l=Array.from(r.selection.getSelectedBlocks()).filter(u=>z0(u,o,t.schema));for(const u of l)u.is("element",o)||s.rename(u,o)})}}function z0(i,n,e){return e.checkChild(i.parent,n)&&!e.isObject(i)}const j0="paragraph";class E7 extends lt{static get pluginName(){return"HeadingEditing"}constructor(n){super(n),n.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Wu]}init(){const n=this.editor,e=n.config.get("heading.options"),t=[];for(const r of e)r.model!=="paragraph"&&(n.model.schema.register(r.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(r),t.push(r.model));this._addDefaultH1Conversion(n),n.commands.add("heading",new k7(n,t))}afterInit(){const n=this.editor,e=n.commands.get("enter"),t=n.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(r,o)=>{const s=n.model.document.selection.getFirstPosition().parent;t.some(u=>s.is("element",u.model))&&!s.is("element",j0)&&s.childCount===0&&o.writer.rename(s,j0)})}_addDefaultH1Conversion(n){n.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:zo.low+1})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function x7(i){const n=i.t,e={Paragraph:n("Paragraph"),"Heading 1":n("Heading 1"),"Heading 2":n("Heading 2"),"Heading 3":n("Heading 3"),"Heading 4":n("Heading 4"),"Heading 5":n("Heading 5"),"Heading 6":n("Heading 6")};return i.config.get("heading.options").map(t=>{const r=e[t.title];return r&&r!=t.title&&(t.title=r),t})}class C7 extends lt{static get pluginName(){return"HeadingUI"}init(){const n=this.editor,e=n.t,t=x7(n),r=e("Choose heading"),o=e("Heading");n.ui.componentFactory.add("heading",s=>{const l={},u=new Ko,d=n.commands.get("heading"),f=n.commands.get("paragraph"),p=[d];for(const v of t){const x={type:"button",model:new yw({label:v.title,class:v.class,role:"menuitemradio",withText:!0})};v.model==="paragraph"?(x.model.bind("isOn").to(f,"value"),x.model.set("commandName","paragraph"),p.push(f)):(x.model.bind("isOn").to(d,"value",L=>L===v.model),x.model.set({commandName:"heading",commandValue:v.model})),u.add(x),l[v.model]=v.title}const b=sd(s);return dw(b,u,{ariaLabel:o,role:"menu"}),b.buttonView.set({ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),b.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),b.bind("isEnabled").toMany(p,"isEnabled",(...v)=>v.some(x=>x)),b.buttonView.bind("label").to(d,"value",f,"value",(v,x)=>{const L=x?"paragraph":v;return typeof L=="boolean"||!l[L]?r:l[L]}),b.buttonView.bind("ariaLabel").to(d,"value",f,"value",(v,x)=>{const L=x?"paragraph":v;return typeof L=="boolean"||!l[L]?o:`${l[L]}, ${o}`}),this.listenTo(b,"execute",v=>{const{commandName:x,commandValue:L}=v.source;n.execute(x,L?{value:L}:void 0),n.editing.view.focus()}),b}),n.ui.componentFactory.add("menuBar:heading",s=>{const l=new Sa(s),u=n.commands.get("heading"),d=n.commands.get("paragraph"),f=[u],p=new cf(s);l.set({class:"ck-heading-dropdown"}),p.set({ariaLabel:e("Heading"),role:"menu"}),l.buttonView.set({label:e("Heading")}),l.panelView.children.add(p);for(const b of t){const v=new Zf(s,l),x=new ao(s);v.children.add(x),p.items.add(v),x.set({isToggleable:!0,label:b.title,role:"menuitemradio",class:b.class}),x.delegate("execute").to(l),x.on("execute",()=>{const L=b.model==="paragraph"?"paragraph":"heading";n.execute(L,{value:b.model}),n.editing.view.focus()}),b.model==="paragraph"?(x.bind("isOn").to(d,"value"),f.push(d)):x.bind("isOn").to(u,"value",L=>L===b.model)}return l.bind("isEnabled").toMany(f,"isEnabled",(...b)=>b.some(v=>v)),l})}}class T7 extends lt{static get requires(){return[E7,C7]}static get pluginName(){return"Heading"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ur{constructor(n,e){g(this,"_startElement");g(this,"_referenceIndent");g(this,"_isForward");g(this,"_includeSelf");g(this,"_sameAttributes");g(this,"_sameIndent");g(this,"_lowerIndent");g(this,"_higherIndent");this._startElement=n,this._referenceIndent=n.getAttribute("listIndent"),this._isForward=e.direction=="forward",this._includeSelf=!!e.includeSelf,this._sameAttributes=Ht(e.sameAttributes||[]),this._sameIndent=!!e.sameIndent,this._lowerIndent=!!e.lowerIndent,this._higherIndent=!!e.higherIndent}static first(n,e){const r=new this(n,e)[Symbol.iterator]();return Ls(r)}*[Symbol.iterator](){const n=[];for(const{node:e}of ic(this._getStartNode(),this._isForward?"forward":"backward")){const t=e.getAttribute("listIndent");if(t<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=t}else if(t>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){n.push(e);continue}}else{if(!this._sameIndent){if(this._higherIndent){n.length&&(yield*n,n.length=0);break}continue}if(this._sameAttributes.some(r=>e.getAttribute(r)!==this._startElement.getAttribute(r)))break}n.length&&(yield*n,n.length=0),yield e}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*ic(i,n="forward"){const e=n=="forward",t=[];let r=null;for(;_n(i);){let o=null;if(r){const s=i.getAttribute("listIndent"),l=r.getAttribute("listIndent");s>l?t[l]=r:s<l?(o=t[s],t.length=s):o=r}yield{node:i,previous:r,previousNodeInList:o},r=i,i=e?i.nextSibling:i.previousSibling}}class S7{constructor(n){g(this,"_listHead");this._listHead=n}[Symbol.iterator](){return ic(this._listHead,"forward")}}class Na{static next(){return oo()}}function _n(i){return!!i&&i.is("element")&&i.hasAttribute("listItemId")}function Jf(i,n={}){return[...Uo(i,{...n,direction:"backward"}),...Uo(i,{...n,direction:"forward"})]}function Uo(i,n={}){const e=n.direction=="forward",t=Array.from(new Ur(i,{...n,includeSelf:e,sameIndent:!0,sameAttributes:"listItemId"}));return e?t:t.reverse()}function P7(i){return Array.from(new Ur(i,{direction:"forward",higherIndent:!0}))}function Nw(i,n){const e=new Ur(i,{sameIndent:!0,sameAttributes:"listType",...n}),t=new Ur(i,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...n});return[...Array.from(e).reverse(),...t]}function Is(i){return!Ur.first(i,{sameIndent:!0,sameAttributes:"listItemId"})}function $0(i){return!Ur.first(i,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function oc(i,n={}){i=Ht(i);const e=n.withNested!==!1,t=new Set;for(const r of i)for(const o of Jf(r,{higherIndent:e}))t.add(o);return js(t)}function A7(i){i=Ht(i);const n=new Set;for(const e of i)for(const t of Nw(e))n.add(t);return js(n)}function Qf(i,n){const e=Uo(i,{direction:"forward"}),t=Na.next();for(const r of e)n.setAttribute("listItemId",t,r);return e}function df(i,n,e){const t={};for(const[o,s]of n.getAttributes())o.startsWith("list")&&(t[o]=s);const r=Uo(i,{direction:"forward"});for(const o of r)e.setAttributes(t,o);return r}function hf(i,n,{expand:e,indentBy:t=1}={}){i=Ht(i);const r=e?oc(i):i;for(const o of r){const s=o.getAttribute("listIndent")+t;s<0?ld(o,n):n.setAttribute("listIndent",s,o)}return r}function O7(i,n){i=Ht(i);const e=oc(i),t=new Set,r=Math.min(...e.map(s=>s.getAttribute("listIndent"))),o=new Map;for(const s of e)o.set(s,Ur.first(s,{lowerIndent:!0}));for(const s of e){if(t.has(s))continue;t.add(s);const l=s.getAttribute("listIndent")-1;if(l<0){ld(s,n);continue}if(s.getAttribute("listIndent")==r){const u=I7(s,o.get(s),n);for(const d of u)t.add(d);if(u.length)continue}n.setAttribute("listIndent",l,s)}return js(t)}function ld(i,n){i=Ht(i);for(const e of i)e.is("element","listItem")&&n.rename(e,"paragraph");for(const e of i)for(const t of e.getAttributeKeys())t.startsWith("list")&&n.removeAttribute(t,e);return i}function Yl(i){if(!i.length)return!1;const n=i[0].getAttribute("listItemId");return n?!i.some(e=>e.getAttribute("listItemId")!=n):!1}function M7(i,n){const e=[];let t=Number.POSITIVE_INFINITY;for(const{node:r}of ic(i.nextSibling,"forward")){const o=r.getAttribute("listIndent");if(o==0)break;o<t&&(t=o);const s=o-t;n.setAttribute("listIndent",s,r),e.push(r)}return e}function js(i){return Array.from(i).filter(n=>n.root.rootName!=="$graveyard").sort((n,e)=>n.index-e.index)}function Jl(i){const n=i.document.selection.getSelectedElement();return n&&i.schema.isObject(n)&&i.schema.isBlock(n)?n:null}function Ih(i,n){return n.checkChild(i.parent,"listItem")&&n.checkChild(i,"$text")&&!n.isObject(i)}function R7(i){return i=="numbered"||i=="customNumbered"}function I7(i,n,e){return Uo(n,{direction:"forward"}).pop().index>i.index?df(i,n,e):[]}class W0 extends Qn{constructor(e,t){super(e);g(this,"_direction");this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=H0(e.document.selection);e.change(r=>{const o=[];Yl(t)&&!Is(t[0])?(this._direction=="forward"&&o.push(...hf(t,r)),o.push(...Qf(t[0],r))):this._direction=="forward"?o.push(...hf(t,r,{expand:!0})):o.push(...O7(t,r));for(const s of o){if(!s.hasAttribute("listType"))continue;const l=Ur.first(s,{sameIndent:!0});l&&r.setAttribute("listType",l.getAttribute("listType"),s)}this._fireAfterExecute(o)})}_fireAfterExecute(e){this.fire("afterExecute",js(new Set(e)))}_checkEnabled(){let e=H0(this.editor.model.document.selection),t=e[0];if(!t)return!1;if(this._direction=="backward"||Yl(e)&&!Is(e[0]))return!0;e=oc(e),t=e[0];const r=Ur.first(t,{sameIndent:!0});return r?r.getAttribute("listType")==t.getAttribute("listType"):!1}}function H0(i){const n=Array.from(i.getSelectedBlocks()),e=n.findIndex(t=>!_n(t));return e!=-1&&(n.length=e),n}class vu extends Qn{constructor(e,t,r={}){super(e);g(this,"type");g(this,"_listWalkerOptions");this.type=t,this._listWalkerOptions=r.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,r=t.document,o=Jl(t),s=Array.from(r.selection.getSelectedBlocks()).filter(u=>t.schema.checkAttribute(u,"listType")||Ih(u,t.schema)),l=e.forceValue!==void 0?!e.forceValue:this.value;t.change(u=>{if(l){const d=s[s.length-1],f=Uo(d,{direction:"forward"}),p=[];f.length>1&&p.push(...Qf(f[1],u)),p.push(...ld(s,u)),p.push(...M7(d,u)),this._fireAfterExecute(p)}else if((o||r.selection.isCollapsed)&&_n(s[0])){const d=Nw(o||s[0],this._listWalkerOptions);for(const f of d)u.setAttributes({...e.additionalAttributes,listType:this.type},f);this._fireAfterExecute(d)}else{const d=[];for(const f of s)if(!f.hasAttribute("listType"))!f.is("element","listItem")&&Ih(f,t.schema)&&u.rename(f,"listItem"),u.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:Na.next(),listType:this.type},f),d.push(f);else for(const p of oc(f,{withNested:!1}))p.getAttribute("listType")!=this.type&&(u.setAttributes({...e.additionalAttributes,listType:this.type},p),d.push(p));this._fireAfterExecute(d)}})}_fireAfterExecute(e){this.fire("afterExecute",js(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const r of t)if(r.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,r=e.document.selection,o=Array.from(r.getSelectedBlocks());if(!o.length)return!1;if(this.value)return!0;for(const s of o)if(t.checkAttribute(s,"listType")||Ih(s,t))return!0;return!1}}class U0 extends Qn{constructor(e,t){super(e);g(this,"_direction");this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const t=this.editor.model,r=t.document.selection,o=[];t.change(s=>{const{firstElement:l,lastElement:u}=this._getMergeSubjectElements(r,e),d=l.getAttribute("listIndent")||0,f=u.getAttribute("listIndent"),p=u.getAttribute("listItemId");if(d!=f){const b=P7(u);o.push(...hf([u,...b],s,{indentBy:d-f,expand:d<f}))}if(e){let b=r;r.isCollapsed&&(b=s.createSelection(s.createRange(s.createPositionAt(l,"end"),s.createPositionAt(u,0)))),t.deleteContent(b,{doNotResetEntireContent:r.isCollapsed});const v=b.getLastPosition().parent,x=v.nextSibling;o.push(v),x&&x!==u&&x.getAttribute("listItemId")==p&&o.push(...df(x,v,s))}else o.push(...df(u,l,s));this._fireAfterExecute(o)})}_fireAfterExecute(e){this.fire("afterExecute",js(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,r=Jl(e);if(t.isCollapsed||r){const o=r||t.getFirstPosition().parent;if(!_n(o))return!1;const s=this._direction=="backward"?o.previousSibling:o.nextSibling;if(!s||Yl([o,s]))return!1}else{const o=t.getLastPosition(),s=t.getFirstPosition();if(o.parent===s.parent||!_n(o.parent))return!1}return!0}_getMergeSubjectElements(e,t){const r=this.editor.model,o=Jl(r);let s,l;if(e.isCollapsed||o){const u=o||e.getFirstPosition().parent,d=Is(u);this._direction=="backward"?(l=u,d&&!t?s=Ur.first(u,{sameIndent:!0,lowerIndent:!0}):s=u.previousSibling):(s=u,l=u.nextSibling)}else s=e.getFirstPosition().parent,l=e.getLastPosition().parent;return{firstElement:s,lastElement:l}}}class q0 extends Qn{constructor(e,t){super(e);g(this,"_direction");this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(t=>{const r=Qf(this._getStartBlock(),t);this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",js(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&_n(t)&&!Is(t)}_getStartBlock(){const t=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?t:t.nextSibling}}class N7 extends lt{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(n){return A7(n)}isFirstBlockOfListItem(n){return Is(n)}isListItemBlock(n){return _n(n)}expandListBlocksToCompleteItems(n,e={}){return oc(n,e)}isNumberedListType(n){return R7(n)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function D7(i){return i.is("element","ol")||i.is("element","ul")}function ff(i){return i.is("element","li")}function L7(i){let n=0,e=i.parent;for(;e;){if(ff(e))n++;else{const t=e.previousSibling;t&&ff(t)&&n++}e=e.parent}return n}function B7(i,n,e,t=Lw(e,n)){return i.createAttributeElement(Dw(e),null,{priority:2*n/100-100,id:t})}function F7(i,n,e){return i.createAttributeElement("li",null,{priority:(2*n+1)/100-100,id:e})}function Dw(i){return i=="numbered"||i=="customNumbered"?"ol":"ul"}function Lw(i,n){return`list-${i}-${n}`}function ei(i,n){const e=i.nodeBefore;if(_n(e)){let t=e;for(const{node:r}of ic(t,"backward"))if(t=r,n.has(t))return;n.set(e,t)}else{const t=i.nodeAfter;_n(t)&&n.set(t,t)}}function V7(i,n){let e=0,t=-1,r=null,o=!1;for(const{node:s}of i){const l=s.getAttribute("listIndent");if(l>e){let u;r===null?(r=l-e,u=e):(r>l&&(r=l),u=l-r),u>t+1&&(u=t+1),n.setAttribute("listIndent",u,s),o=!0,t=u}else r=null,e=l+1,t=l}return o}function z7(i,n,e){const t=new Set;let r=!1;for(const{node:o}of i){if(t.has(o))continue;let s=o.getAttribute("listType"),l=o.getAttribute("listItemId");if(n.has(l)&&(l=Na.next()),n.add(l),o.is("element","listItem")){o.getAttribute("listItemId")!=l&&(e.setAttribute("listItemId",l,o),r=!0);continue}for(const u of Uo(o,{direction:"forward"}))t.add(u),u.getAttribute("listType")!=s&&(l=Na.next(),s=u.getAttribute("listType")),u.getAttribute("listItemId")!=l&&(e.setAttribute("listItemId",l,u),r=!0)}return r}function j7(){return(i,n,e)=>{const{writer:t,schema:r}=e;if(!n.modelRange)return;const o=Array.from(n.modelRange.getItems({shallow:!0})).filter(p=>r.checkAttribute(p,"listItemId"));if(!o.length)return;const s=Na.next(),l=L7(n.viewItem);let u=n.viewItem.parent&&n.viewItem.parent.is("element","ol")?"numbered":"bulleted";const d=o[0].getAttribute("listType");d&&(u=d);const f={listItemId:s,listIndent:l,listType:u};for(const p of o)p.hasAttribute("listItemId")||t.setAttributes(f,p);o.length>1&&o[1].getAttribute("listItemId")!=f.listItemId&&e.keepEmptyElement(o[0])}}function $7(i,n,e,t){return()=>{const l=i.document.differ.getChanges(),u=[],d=new Map,f=new Set;for(const p of l)if(p.type=="insert"&&p.name!="$text")ei(p.position,d),p.attributes.has("listItemId")?f.add(p.position.nodeAfter):ei(p.position.getShiftedBy(p.length),d);else if(p.type=="remove"&&p.attributes.has("listItemId"))ei(p.position,d);else if(p.type=="attribute"){const b=p.range.start.nodeAfter;e.includes(p.attributeKey)?(ei(p.range.start,d),p.attributeNewValue===null?(ei(p.range.start.getShiftedBy(1),d),o(b)&&u.push(b)):f.add(b)):_n(b)&&o(b)&&u.push(b)}for(const p of d.values())u.push(...r(p,f));for(const p of new Set(u))n.reconvertItem(p)};function r(l,u){const d=[],f=new Set,p=[];for(const{node:b,previous:v}of ic(l,"forward")){if(f.has(b))continue;const x=b.getAttribute("listIndent");v&&x<v.getAttribute("listIndent")&&(p.length=x+1),p[x]=Object.fromEntries(Array.from(b.getAttributes()).filter(([j])=>e.includes(j)));const L=Uo(b,{direction:"forward"});for(const j of L)f.add(j),(o(j,L)||s(j,p,u))&&d.push(j)}return d}function o(l,u){const d=n.mapper.toViewElement(l);if(!d)return!1;if(t.fire("checkElement",{modelElement:l,viewElement:d}))return!0;if(!l.is("element","paragraph")&&!l.is("element","listItem"))return!1;const p=Fw(l,e,u);return p&&d.is("element","p")?!0:!!(!p&&d.is("element","span"))}function s(l,u,d){if(d.has(l))return!1;const f=n.mapper.toViewElement(l);let p=u.length-1;for(let b=f.parent;!b.is("editableElement");b=b.parent){const v=ff(b),x=D7(b);if(!x&&!v)continue;const L=`checkAttributes:${v?"item":"list"}`;if(t.fire(L,{viewElement:b,modelAttributes:u[p]}))break;if(x&&(p--,p<0))return!1}return!0}}function K0(i,n,e,{dataPipeline:t}={}){const r=Z7(i);return(o,s,l)=>{const{writer:u,mapper:d,consumable:f}=l,p=s.item;if(!i.includes(s.attributeKey)||!r(p,f))return;const b=H7(p,d,e);Bw(b,u,d),K7(b,u);const v=q7(p,b,n,u,{dataPipeline:t});G7(p,v,n,u)}}function W7(i){return(n,e,t)=>{const{writer:r,mapper:o}=t,s=n.name.split(":")[1];if(!i.checkAttribute(s,"listItemId"))return;const l=o.toViewPosition(e.position),u=e.position.getShiftedBy(e.length),d=o.toViewPosition(u,{isPhantom:!0}),p=r.createRange(l,d).getTrimmed().end.nodeBefore;/* istanbul ignore next -- @preserve */p&&Bw(p,r,o)}}function G0(i,{dataPipeline:n}={}){return(e,{writer:t})=>{if(!Fw(e,i))return null;if(!n)return t.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const r=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}function H7(i,n,e){const t=e.createRangeOn(i);return n.toViewRange(t).getTrimmed().end.nodeBefore}function U7(i,n){return(e,t)=>{if(t.modelPosition.offset>0)return;const r=t.modelPosition.parent;if(!_n(r)||!i.some(d=>d.scope=="itemMarker"&&d.canInjectMarkerIntoElement&&d.canInjectMarkerIntoElement(r)))return;const o=t.mapper.toViewElement(r),s=n.createRangeIn(o),l=s.getWalker();let u=s.start;for(const{item:d}of l){if(d.is("element")&&t.mapper.toModelElement(d)||d.is("$textProxy"))break;d.is("element")&&d.getCustomProperty("listItemMarker")&&(u=n.createPositionAfter(d),l.skip(({previousPosition:f})=>!f.isEqual(u)))}t.viewPosition=u}}function Bw(i,n,e){for(;i.parent.is("attributeElement")&&i.parent.getCustomProperty("listItemWrapper");)n.unwrap(n.createRangeOn(i),i.parent);const t=[];r(n.createPositionBefore(i).getWalker({direction:"backward"})),r(n.createRangeIn(i).getWalker());for(const o of t)n.remove(o);function r(o){for(const{item:s}of o){if(s.is("element")&&e.toModelElement(s))break;s.is("element")&&s.getCustomProperty("listItemMarker")&&t.push(s)}}}function q7(i,n,e,t,{dataPipeline:r}){let o=t.createRangeOn(n);if(!Is(i))return o;for(const s of e){if(s.scope!="itemMarker")continue;const l=s.createElement(t,i,{dataPipeline:r});if(!l||(t.setCustomProperty("listItemMarker",!0,l),s.canInjectMarkerIntoElement&&s.canInjectMarkerIntoElement(i)?t.insert(t.createPositionAt(n,0),l):(t.insert(o.start,l),o=t.createRange(t.createPositionBefore(l),t.createPositionAfter(n))),!s.createWrapperElement||!s.canWrapElement))continue;const u=s.createWrapperElement(t,i,{dataPipeline:r});t.setCustomProperty("listItemWrapper",!0,u),s.canWrapElement(i)?o=t.wrap(o,u):(o=t.wrap(t.createRangeOn(l),u),o=t.createRange(o.start,t.createPositionAfter(n)))}return o}function K7(i,n){let e=i.parent;for(;e.is("attributeElement")&&["ul","ol","li"].includes(e.name);){const t=e.parent;n.unwrap(n.createRangeOn(i),e),e=t}}function G7(i,n,e,t){if(!i.hasAttribute("listIndent"))return;const r=i.getAttribute("listIndent");let o=i;for(let s=r;s>=0;s--){const l=F7(t,s,o.getAttribute("listItemId")),u=B7(t,s,o.getAttribute("listType"));for(const d of e)(d.scope=="list"||d.scope=="item")&&o.hasAttribute(d.attributeName)&&d.setAttributeOnDowncast(t,o.getAttribute(d.attributeName),d.scope=="list"?u:l);if(n=t.wrap(n,l),n=t.wrap(n,u),s==0||(o=Ur.first(o,{lowerIndent:!0}),!o))break}}function Z7(i){return(n,e)=>{const t=[];for(const r of i)n.hasAttribute(r)&&t.push(`attribute:${r}`);return t.every(r=>e.test(n,r)!==!1)?(t.forEach(r=>e.consume(n,r)),!0):!1}}function Fw(i,n,e=Jf(i)){if(!_n(i))return!1;for(const t of i.getAttributeKeys())if(!t.startsWith("selection:")&&!n.includes(t))return!1;return e.length<2}const Pu=["listType","listIndent","listItemId"];class Y7 extends lt{constructor(e){super(e);g(this,"_downcastStrategies",[]);e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[Yf,ad,N7,Ia]}init(){const e=this.editor,t=e.model,r=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new Z("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:Pu}),r?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const o of Pu)t.schema.setAttributeProperties(o,{copyOnReplace:!0});e.commands.add("numberedList",new vu(e,"numbered")),e.commands.add("bulletedList",new vu(e,"bulleted")),e.commands.add("customNumberedList",new vu(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new vu(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new W0(e,"forward")),e.commands.add("outdentList",new W0(e,"backward")),e.commands.add("splitListItemBefore",new q0(e,"before")),e.commands.add("splitListItemAfter",new q0(e,"after")),r&&(e.commands.add("mergeListItemBackward",new U0(e,"backward")),e.commands.add("mergeListItemForward",new U0(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const t=this.editor.commands,r=t.get("indent"),o=t.get("outdent");r&&r.registerChildCommand(t.get("indentList"),{priority:"high"}),o&&o.registerChildCommand(t.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...Pu,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),r=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(o,s)=>{const l=e.model.document.selection;Jl(e.model)||e.model.change(()=>{const u=l.getFirstPosition();if(l.isCollapsed&&s.direction=="backward"){if(!u.isAtStart)return;const d=u.parent;if(!_n(d))return;if(!Ur.first(d,{sameAttributes:"listType",sameIndent:!0})&&d.getAttribute("listIndent")===0)$0(d)||e.execute("splitListItemAfter"),e.execute("outdentList");else{if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:Z0(e.model,"backward")})}s.preventDefault(),o.stop()}else{if(l.isCollapsed&&!l.getLastPosition().isAtEnd||!r||!r.isEnabled)return;r.execute({shouldMergeOnBlocksContentLevel:Z0(e.model,"forward")}),s.preventDefault(),o.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,r=e.commands,o=r.get("enter");this.listenTo(e.editing.view.document,"enter",(s,l)=>{const u=t.document,d=u.selection.getFirstPosition().parent;if(u.selection.isCollapsed&&_n(d)&&d.isEmpty&&!l.isSoft){const f=Is(d),p=$0(d);f&&p?(e.execute("outdentList"),l.preventDefault(),s.stop()):f&&!p?(e.execute("splitListItemAfter"),l.preventDefault(),s.stop()):p&&(e.execute("splitListItemBefore"),l.preventDefault(),s.stop())}},{context:"li"}),this.listenTo(o,"afterExecute",()=>{const s=r.get("splitListItemBefore");if(s.refresh(),!s.isEnabled)return;const u=e.model.document.selection.getLastPosition().parent;Jf(u).length===2&&s.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(t,r)=>{const o=r.shiftKey?"outdentList":"indentList";this.editor.commands.get(o).isEnabled&&(e.execute(o),r.stopPropagation(),r.preventDefault(),t.stop())},{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,r=this.getListAttributeNames(),o=e.config.get("list.multiBlock"),s=o?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(u,{writer:d})=>d.createElement(s,{listType:""})}).elementToElement({view:"p",model:(u,{writer:d})=>u.parent&&u.parent.is("element","li")?d.createElement(s,{listType:""}):null,converterPriority:"high"}).add(u=>{u.on("element:li",j7())}),o||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:s,view:G0(r),converterPriority:"high"}).add(u=>{u.on("attribute",K0(r,this._downcastStrategies,t)),u.on("remove",W7(t.schema))}),e.conversion.for("dataDowncast").elementToElement({model:s,view:G0(r,{dataPipeline:!0}),converterPriority:"high"}).add(u=>{u.on("attribute",K0(r,this._downcastStrategies,t,{dataPipeline:!0}))});const l=U7(this._downcastStrategies,e.editing.view);e.editing.mapper.on("modelToViewPosition",l),e.data.mapper.on("modelToViewPosition",l),this.listenTo(t.document,"change:data",$7(t,e.editing,r,this),{priority:"high"}),this.on("checkAttributes:item",(u,{viewElement:d,modelAttributes:f})=>{d.id!=f.listItemId&&(u.return=!0,u.stop())}),this.on("checkAttributes:list",(u,{viewElement:d,modelAttributes:f})=>{(d.name!=Dw(f.listType)||d.id!=Lw(f.listType,f.listIndent))&&(u.return=!0,u.stop())})}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer(r=>J7(e,r,t,this)),this.on("postFixer",(r,{listNodes:o,writer:s})=>{r.return=V7(o,s)||r.return},{priority:"high"}),this.on("postFixer",(r,{listNodes:o,writer:s,seenIds:l})=>{r.return=z7(o,l,s)||r.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",Q7(e),{priority:"high"}),this.listenTo(t,"outputTransformation",(r,o)=>{e.change(s=>{const l=Array.from(o.content.getChildren()),u=l[l.length-1];if(l.length>1&&u.is("element")&&u.isEmpty&&l.slice(0,-1).every(_n)&&s.remove(u),o.method=="copy"||o.method=="cut"){const d=Array.from(o.content.getChildren());Yl(d)&&ld(d,s)}})})}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function J7(i,n,e,t){const r=i.document.differ.getChanges(),o=new Map,s=t.editor.config.get("list.multiBlock");let l=!1;for(const d of r){if(d.type=="insert"&&d.name!="$text"){const f=d.position.nodeAfter;if(!i.schema.checkAttribute(f,"listItemId"))for(const p of Array.from(f.getAttributeKeys()))e.includes(p)&&(n.removeAttribute(p,f),l=!0);ei(d.position,o),d.attributes.has("listItemId")||ei(d.position.getShiftedBy(d.length),o);for(const{item:p,previousPosition:b}of i.createRangeIn(f))_n(p)&&ei(b,o)}else d.type=="remove"?ei(d.position,o):d.type=="attribute"&&e.includes(d.attributeKey)&&(ei(d.range.start,o),d.attributeNewValue===null&&ei(d.range.start.getShiftedBy(1),o));if(!s&&d.type=="attribute"&&Pu.includes(d.attributeKey)){const f=d.range.start.nodeAfter;d.attributeNewValue===null&&f&&f.is("element","listItem")?(n.rename(f,"paragraph"),l=!0):d.attributeOldValue===null&&f&&f.is("element")&&f.name!="listItem"&&(n.rename(f,"listItem"),l=!0)}}const u=new Set;for(const d of o.values())l=t.fire("postFixer",{listNodes:new S7(d),listHead:d,writer:n,seenIds:u})||l;return l}function Q7(i){return(n,[e,t])=>{const r=e.is("documentFragment")?Array.from(e.getChildren()):[e];if(!r.length)return;const s=(t?i.createSelection(t):i.document.selection).getFirstPosition();let l;if(_n(s.parent))l=s.parent;else if(_n(s.nodeBefore))l=s.nodeBefore;else return;i.change(u=>{const d=l.getAttribute("listType"),f=l.getAttribute("listIndent"),p=r[0].getAttribute("listIndent")||0,b=Math.max(f-p,0);for(const v of r){const x=_n(v);l.is("element","listItem")&&v.is("element","paragraph")&&u.rename(v,"listItem"),u.setAttributes({listIndent:(x?v.getAttribute("listIndent"):0)+b,listItemId:x?v.getAttribute("listItemId"):Na.next(),listType:d},v)}})}}function Z0(i,n){const e=i.document.selection;if(!e.isCollapsed)return!Jl(i);if(n==="forward")return!0;const r=e.getFirstPosition().parent,o=r.previousSibling;return i.schema.isObject(o)?!1:o.isEmpty?!0:Yl([r,o])}function Y0(i,n,e,t){i.ui.componentFactory.add(n,()=>{const r=J0(lr,i,n,e,t);return r.set({tooltip:!0,isToggleable:!0}),r}),i.ui.componentFactory.add(`menuBar:${n}`,()=>{const r=J0(ao,i,n,e,t);return r.set({role:"menuitemcheckbox",isToggleable:!0}),r})}function J0(i,n,e,t,r){const o=n.commands.get(e),s=new i(n.locale);return s.set({label:t,icon:r}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.on("execute",()=>{n.execute(e),n.editing.view.focus()}),s}class X7 extends lt{static get pluginName(){return"ListUI"}init(){const n=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||Y0(this.editor,"numberedList",n("Numbered List"),fn.numberedList),this.editor.ui.componentFactory.has("bulletedList")||Y0(this.editor,"bulletedList",n("Bulleted List"),fn.bulletedList)}}class e4 extends lt{static get requires(){return[Y7,X7]}static get pluginName(){return"List"}}const t4=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:i,typeAttribute:n,listType:e}of t4);function Vw(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ja=Vw();function n4(i){ja=i}const r4=/[&<>"']/,i4=/[&<>"']/g,o4=/[<>"']|&(?!#?\w+;)/,s4=/[<>"']|&(?!#?\w+;)/g,a4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Q0=i=>a4[i];function Tn(i,n){if(n){if(r4.test(i))return i.replace(i4,Q0)}else if(o4.test(i))return i.replace(s4,Q0);return i}const l4=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function zw(i){return i.replace(l4,(n,e)=>(e=e.toLowerCase(),e==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const c4=/(^|[^\[])\^/g;function Mt(i,n){i=i.source||i,n=n||"";const e={replace:(t,r)=>(r=r.source||r,r=r.replace(c4,"$1"),i=i.replace(t,r),e),getRegex:()=>new RegExp(i,n)};return e}const u4=/[^\w:]/g,d4=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function X0(i,n,e){if(i){let t;try{t=decodeURIComponent(zw(e)).replace(u4,"").toLowerCase()}catch{return null}if(t.indexOf("javascript:")===0||t.indexOf("vbscript:")===0||t.indexOf("data:")===0)return null}n&&!d4.test(e)&&(e=m4(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const _u={},h4=/^[^:]+:\/*[^/]*$/,f4=/^([^:]+:)[\s\S]*$/,p4=/^([^:]+:\/*[^/]*)[\s\S]*$/;function m4(i,n){_u[" "+i]||(h4.test(i)?_u[" "+i]=i+"/":_u[" "+i]=Au(i,"/",!0)),i=_u[" "+i];const e=i.indexOf(":")===-1;return n.substring(0,2)==="//"?e?n:i.replace(f4,"$1")+n:n.charAt(0)==="/"?e?n:i.replace(p4,"$1")+n:i+n}const Hu={exec:function(){}};function li(i){let n=1,e,t;for(;n<arguments.length;n++){e=arguments[n];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}return i}function e1(i,n){const e=i.replace(/\|/g,(o,s,l)=>{let u=!1,d=s;for(;--d>=0&&l[d]==="\\";)u=!u;return u?"|":" |"}),t=e.split(/ \|/);let r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),t.length>n)t.splice(n);else for(;t.length<n;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function Au(i,n,e){const t=i.length;if(t===0)return"";let r=0;for(;r<t;){const o=i.charAt(t-r-1);if(o===n&&!e)r++;else if(o!==n&&e)r++;else break}return i.substr(0,t-r)}function g4(i,n){if(i.indexOf(n[1])===-1)return-1;const e=i.length;let t=0,r=0;for(;r<e;r++)if(i[r]==="\\")r++;else if(i[r]===n[0])t++;else if(i[r]===n[1]&&(t--,t<0))return r;return-1}function jw(i){i&&i.sanitize&&!i.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function t1(i,n){if(n<1)return"";let e="";for(;n>1;)n&1&&(e+=i),n>>=1,i+=i;return e+i}function n1(i,n,e,t){const r=n.href,o=n.title?Tn(n.title):null,s=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){t.state.inLink=!0;const l={type:"link",raw:e,href:r,title:o,text:s,tokens:t.inlineTokens(s,[])};return t.state.inLink=!1,l}else return{type:"image",raw:e,href:r,title:o,text:Tn(s)}}function b4(i,n){const e=i.match(/^(\s+)(?:```)/);if(e===null)return n;const t=e[1];return n.split(`
`).map(r=>{const o=r.match(/^\s+/);if(o===null)return r;const[s]=o;return s.length>=t.length?r.slice(t.length):r}).join(`
`)}class Xf{constructor(n){this.options=n||ja}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const t=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Au(t,`
`)}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const t=e[0],r=b4(t,e[3]||"");return{type:"code",raw:t,lang:e[2]?e[2].trim():e[2],text:r}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let t=e[2].trim();if(/#$/.test(t)){const o=Au(t,"#");(this.options.pedantic||!o||/ $/.test(o))&&(t=o.trim())}const r={type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const t=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(t,[]),text:t}}}list(n){let e=this.rules.block.list.exec(n);if(e){let t,r,o,s,l,u,d,f,p,b,v,x,L=e[1].trim();const j=L.length>1,N={type:"list",raw:"",ordered:j,start:j?+L.slice(0,-1):"",loose:!1,items:[]};L=j?`\\d{1,9}\\${L.slice(-1)}`:`\\${L}`,this.options.pedantic&&(L=j?L:"[*+-]");const $=new RegExp(`^( {0,3}${L})((?: [^\\n]*)?(?:\\n|$))`);for(;n&&(x=!1,!(!(e=$.exec(n))||this.rules.block.hr.test(n)));){if(t=e[0],n=n.substring(t.length),f=e[2].split(`
`,1)[0],p=n.split(`
`,1)[0],this.options.pedantic?(s=2,v=f.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,v=f.slice(s),s+=e[1].length),u=!1,!f&&/^ *$/.test(p)&&(t+=p+`
`,n=n.substring(p.length+1),x=!0),!x){const z=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;n&&(b=n.split(`
`,1)[0],f=b,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!z.test(f));){if(f.search(/[^ ]/)>=s||!f.trim())v+=`
`+f.slice(s);else if(!u)v+=`
`+f;else break;!u&&!f.trim()&&(u=!0),t+=b+`
`,n=n.substring(b.length+1)}}N.loose||(d?N.loose=!0:/\n *\n *$/.test(t)&&(d=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(v),r&&(o=r[0]!=="[ ] ",v=v.replace(/^\[[ xX]\] +/,""))),N.items.push({type:"list_item",raw:t,task:!!r,checked:o,loose:!1,text:v}),N.raw+=t}N.items[N.items.length-1].raw=t.trimRight(),N.items[N.items.length-1].text=v.trimRight(),N.raw=N.raw.trimRight();const R=N.items.length;for(l=0;l<R;l++){this.lexer.state.top=!1,N.items[l].tokens=this.lexer.blockTokens(N.items[l].text,[]);const z=N.items[l].tokens.filter(F=>F.type==="space"),U=z.every(F=>{const G=F.raw.split("");let q=0;for(const D of G)if(D===`
`&&(q+=1),q>1)return!0;return!1});!N.loose&&z.length&&U&&(N.loose=!0,N.items[l].loose=!0)}return N}}html(n){const e=this.rules.block.html.exec(n);if(e){const t={type:"html",raw:e[0],pre:!this.options.sanitizer&&(e[1]==="pre"||e[1]==="script"||e[1]==="style"),text:e[0]};return this.options.sanitize&&(t.type="paragraph",t.text=this.options.sanitizer?this.options.sanitizer(e[0]):Tn(e[0]),t.tokens=[],this.lexer.inline(t.text,t.tokens)),t}}def(n){const e=this.rules.block.def.exec(n);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(n){const e=this.rules.block.table.exec(n);if(e){const t={type:"table",header:e1(e[1]).map(r=>({text:r})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(t.header.length===t.align.length){t.raw=e[0];let r=t.align.length,o,s,l,u;for(o=0;o<r;o++)/^ *-+: *$/.test(t.align[o])?t.align[o]="right":/^ *:-+: *$/.test(t.align[o])?t.align[o]="center":/^ *:-+ *$/.test(t.align[o])?t.align[o]="left":t.align[o]=null;for(r=t.rows.length,o=0;o<r;o++)t.rows[o]=e1(t.rows[o],t.header.length).map(d=>({text:d}));for(r=t.header.length,s=0;s<r;s++)t.header[s].tokens=[],this.lexer.inlineTokens(t.header[s].text,t.header[s].tokens);for(r=t.rows.length,s=0;s<r;s++)for(u=t.rows[s],l=0;l<u.length;l++)u[l].tokens=[],this.lexer.inlineTokens(u[l].text,u[l].tokens);return t}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e){const t={type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:[]};return this.lexer.inline(t.text,t.tokens),t}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const t={type:"paragraph",raw:e[0],text:e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(t.text,t.tokens),t}}text(n){const e=this.rules.block.text.exec(n);if(e){const t={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(t.text,t.tokens),t}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:Tn(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Tn(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const s=Au(t.slice(0,-1),"\\");if((t.length-s.length)%2===0)return}else{const s=g4(e[2],"()");if(s>-1){const u=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,u).trim(),e[3]=""}}let r=e[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);s&&(r=s[1],o=s[3])}else o=e[3]?e[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(t)?r=r.slice(1):r=r.slice(1,-1)),n1(e,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){let r=(t[2]||t[1]).replace(/\s+/g," ");if(r=e[r.toLowerCase()],!r||!r.href){const o=t[0].charAt(0);return{type:"text",raw:o,text:o}}return n1(t,r,t[0],this.lexer)}}emStrong(n,e,t=""){let r=this.rules.inline.emStrong.lDelim.exec(n);if(!r||r[3]&&t.match(/[\p{L}\p{N}]/u))return;const o=r[1]||r[2]||"";if(!o||o&&(t===""||this.rules.inline.punctuation.exec(t))){const s=r[0].length-1;let l,u,d=s,f=0;const p=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(p.lastIndex=0,e=e.slice(-1*n.length+s);(r=p.exec(e))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(u=l.length,r[3]||r[4]){d+=u;continue}else if((r[5]||r[6])&&s%3&&!((s+u)%3)){f+=u;continue}if(d-=u,d>0)continue;if(u=Math.min(u,u+d+f),Math.min(s,u)%2){const v=n.slice(1,s+r.index+u);return{type:"em",raw:n.slice(0,s+r.index+u+1),text:v,tokens:this.lexer.inlineTokens(v,[])}}const b=n.slice(2,s+r.index+u-1);return{type:"strong",raw:n.slice(0,s+r.index+u+1),text:b,tokens:this.lexer.inlineTokens(b,[])}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let t=e[2].replace(/\n/g," ");const r=/[^ ]/.test(t),o=/^ /.test(t)&&/ $/.test(t);return r&&o&&(t=t.substring(1,t.length-1)),t=Tn(t,!0),{type:"codespan",raw:e[0],text:t}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(n,e){const t=this.rules.inline.autolink.exec(n);if(t){let r,o;return t[2]==="@"?(r=Tn(this.options.mangle?e(t[1]):t[1]),o="mailto:"+r):(r=Tn(t[1]),o=r),{type:"link",raw:t[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}url(n,e){let t;if(t=this.rules.inline.url.exec(n)){let r,o;if(t[2]==="@")r=Tn(this.options.mangle?e(t[0]):t[0]),o="mailto:"+r;else{let s;do s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(s!==t[0]);r=Tn(t[0]),t[1]==="www."?o="http://"+r:o=r}return{type:"link",raw:t[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(n,e){const t=this.rules.inline.text.exec(n);if(t){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Tn(t[0]):t[0]:r=Tn(this.options.smartypants?e(t[0]):t[0]),{type:"text",raw:t[0],text:r}}}}const He={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Hu,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};He._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;He._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;He.def=Mt(He.def).replace("label",He._label).replace("title",He._title).getRegex();He.bullet=/(?:[*+-]|\d{1,9}[.)])/;He.listItemStart=Mt(/^( *)(bull) */).replace("bull",He.bullet).getRegex();He.list=Mt(He.list).replace(/bull/g,He.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+He.def.source+")").getRegex();He._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";He._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;He.html=Mt(He.html,"i").replace("comment",He._comment).replace("tag",He._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();He.paragraph=Mt(He._paragraph).replace("hr",He.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",He._tag).getRegex();He.blockquote=Mt(He.blockquote).replace("paragraph",He.paragraph).getRegex();He.normal=li({},He);He.gfm=li({},He.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});He.gfm.table=Mt(He.gfm.table).replace("hr",He.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",He._tag).getRegex();He.gfm.paragraph=Mt(He._paragraph).replace("hr",He.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",He.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",He._tag).getRegex();He.pedantic=li({},He.normal,{html:Mt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",He._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Hu,paragraph:Mt(He.normal._paragraph).replace("hr",He.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",He.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Oe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Hu,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Hu,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Oe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Oe.punctuation=Mt(Oe.punctuation).replace(/punctuation/g,Oe._punctuation).getRegex();Oe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Oe.escapedEmSt=/\\\*|\\_/g;Oe._comment=Mt(He._comment).replace("(?:-->|$)","-->").getRegex();Oe.emStrong.lDelim=Mt(Oe.emStrong.lDelim).replace(/punct/g,Oe._punctuation).getRegex();Oe.emStrong.rDelimAst=Mt(Oe.emStrong.rDelimAst,"g").replace(/punct/g,Oe._punctuation).getRegex();Oe.emStrong.rDelimUnd=Mt(Oe.emStrong.rDelimUnd,"g").replace(/punct/g,Oe._punctuation).getRegex();Oe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Oe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Oe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Oe.autolink=Mt(Oe.autolink).replace("scheme",Oe._scheme).replace("email",Oe._email).getRegex();Oe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Oe.tag=Mt(Oe.tag).replace("comment",Oe._comment).replace("attribute",Oe._attribute).getRegex();Oe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Oe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Oe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Oe.link=Mt(Oe.link).replace("label",Oe._label).replace("href",Oe._href).replace("title",Oe._title).getRegex();Oe.reflink=Mt(Oe.reflink).replace("label",Oe._label).replace("ref",He._label).getRegex();Oe.nolink=Mt(Oe.nolink).replace("ref",He._label).getRegex();Oe.reflinkSearch=Mt(Oe.reflinkSearch,"g").replace("reflink",Oe.reflink).replace("nolink",Oe.nolink).getRegex();Oe.normal=li({},Oe);Oe.pedantic=li({},Oe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Mt(/^!?\[(label)\]\((.*?)\)/).replace("label",Oe._label).getRegex(),reflink:Mt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Oe._label).getRegex()});Oe.gfm=li({},Oe.normal,{escape:Mt(Oe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});Oe.gfm.url=Mt(Oe.gfm.url,"i").replace("email",Oe.gfm._extended_email).getRegex();Oe.breaks=li({},Oe.gfm,{br:Mt(Oe.br).replace("{2,}","*").getRegex(),text:Mt(Oe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function w4(i){return i.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function r1(i){let n="",e,t;const r=i.length;for(e=0;e<r;e++)t=i.charCodeAt(e),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n}class to{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||ja,this.options.tokenizer=this.options.tokenizer||new Xf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:He.normal,inline:Oe.normal};this.options.pedantic?(e.block=He.pedantic,e.inline=Oe.pedantic):this.options.gfm&&(e.block=He.gfm,this.options.breaks?e.inline=Oe.breaks:e.inline=Oe.gfm),this.tokenizer.rules=e}static get rules(){return{block:He,inline:Oe}}static lex(n,e){return new to(e).lex(n)}static lexInline(n,e){return new to(e).inlineTokens(n)}lex(n){n=n.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(n,this.tokens);let e;for(;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){this.options.pedantic&&(n=n.replace(/^ +$/gm,""));let t,r,o,s;for(;n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(t=l.call({lexer:this},n,e))?(n=n.substring(t.raw.length),e.push(t),!0):!1))){if(t=this.tokenizer.space(n)){n=n.substring(t.raw.length),t.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(t);continue}if(t=this.tokenizer.code(n)){n=n.substring(t.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(t);continue}if(t=this.tokenizer.fences(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.heading(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.hr(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.blockquote(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.list(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.html(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.def(n)){n=n.substring(t.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.lheading(n)){n=n.substring(t.raw.length),e.push(t);continue}if(o=n,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const u=n.slice(1);let d;this.options.extensions.startBlock.forEach(function(f){d=f.call({lexer:this},u),typeof d=="number"&&d>=0&&(l=Math.min(l,d))}),l<1/0&&l>=0&&(o=n.substring(0,l+1))}if(this.state.top&&(t=this.tokenizer.paragraph(o))){r=e[e.length-1],s&&r.type==="paragraph"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(t),s=o.length!==n.length,n=n.substring(t.raw.length);continue}if(t=this.tokenizer.text(n)){n=n.substring(t.raw.length),r=e[e.length-1],r&&r.type==="text"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(t);continue}if(n){const l="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,e}inline(n,e){this.inlineQueue.push({src:n,tokens:e})}inlineTokens(n,e=[]){let t,r,o,s=n,l,u,d;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)f.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,l.index)+"["+t1("a",l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,l.index)+"["+t1("a",l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,l.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(u||(d=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>(t=f.call({lexer:this},n,e))?(n=n.substring(t.raw.length),e.push(t),!0):!1))){if(t=this.tokenizer.escape(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.tag(n)){n=n.substring(t.raw.length),r=e[e.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):e.push(t);continue}if(t=this.tokenizer.link(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(t.raw.length),r=e[e.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):e.push(t);continue}if(t=this.tokenizer.emStrong(n,s,d)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.codespan(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.br(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.del(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.autolink(n,r1)){n=n.substring(t.raw.length),e.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(n,r1))){n=n.substring(t.raw.length),e.push(t);continue}if(o=n,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const p=n.slice(1);let b;this.options.extensions.startInline.forEach(function(v){b=v.call({lexer:this},p),typeof b=="number"&&b>=0&&(f=Math.min(f,b))}),f<1/0&&f>=0&&(o=n.substring(0,f+1))}if(t=this.tokenizer.inlineText(o,w4)){n=n.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(d=t.raw.slice(-1)),u=!0,r=e[e.length-1],r&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):e.push(t);continue}if(n){const f="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return e}}class ep{constructor(n){this.options=n||ja}code(n,e,t){const r=(e||"").match(/\S*/)[0];if(this.options.highlight){const o=this.options.highlight(n,r);o!=null&&o!==n&&(t=!0,n=o)}return n=n.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Tn(r,!0)+'">'+(t?n:Tn(n,!0))+`</code></pre>
`:"<pre><code>"+(t?n:Tn(n,!0))+`</code></pre>
`}blockquote(n){return`<blockquote>
`+n+`</blockquote>
`}html(n){return n}heading(n,e,t,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(t)+'">'+n+"</h"+e+`>
`:"<h"+e+">"+n+"</h"+e+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(n,e,t){const r=e?"ol":"ul",o=e&&t!==1?' start="'+t+'"':"";return"<"+r+o+`>
`+n+"</"+r+`>
`}listitem(n){return"<li>"+n+`</li>
`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return"<p>"+n+`</p>
`}table(n,e){return e&&(e="<tbody>"+e+"</tbody>"),`<table>
<thead>
`+n+`</thead>
`+e+`</table>
`}tablerow(n){return`<tr>
`+n+`</tr>
`}tablecell(n,e){const t=e.header?"th":"td";return(e.align?"<"+t+' align="'+e.align+'">':"<"+t+">")+n+"</"+t+`>
`}strong(n){return"<strong>"+n+"</strong>"}em(n){return"<em>"+n+"</em>"}codespan(n){return"<code>"+n+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return"<del>"+n+"</del>"}link(n,e,t){if(n=X0(this.options.sanitize,this.options.baseUrl,n),n===null)return t;let r='<a href="'+Tn(n)+'"';return e&&(r+=' title="'+e+'"'),r+=">"+t+"</a>",r}image(n,e,t){if(n=X0(this.options.sanitize,this.options.baseUrl,n),n===null)return t;let r='<img src="'+n+'" alt="'+t+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">",r}text(n){return n}}class $w{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,t){return""+t}image(n,e,t){return""+t}br(){return""}}class Ww{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let t=n,r=0;if(this.seen.hasOwnProperty(t)){r=this.seen[n];do r++,t=n+"-"+r;while(this.seen.hasOwnProperty(t))}return e||(this.seen[n]=r,this.seen[t]=0),t}slug(n,e={}){const t=this.serialize(n);return this.getNextSafeSlug(t,e.dryrun)}}class no{constructor(n){this.options=n||ja,this.options.renderer=this.options.renderer||new ep,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $w,this.slugger=new Ww}static parse(n,e){return new no(e).parse(n)}static parseInline(n,e){return new no(e).parseInline(n)}parse(n,e=!0){let t="",r,o,s,l,u,d,f,p,b,v,x,L,j,N,$,R,z,U,F;const G=n.length;for(r=0;r<G;r++){if(v=n[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[v.type]&&(F=this.options.extensions.renderers[v.type].call({parser:this},v),F!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(v.type))){t+=F||"";continue}switch(v.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{t+=this.renderer.heading(this.parseInline(v.tokens),v.depth,zw(this.parseInline(v.tokens,this.textRenderer)),this.slugger);continue}case"code":{t+=this.renderer.code(v.text,v.lang,v.escaped);continue}case"table":{for(p="",f="",l=v.header.length,o=0;o<l;o++)f+=this.renderer.tablecell(this.parseInline(v.header[o].tokens),{header:!0,align:v.align[o]});for(p+=this.renderer.tablerow(f),b="",l=v.rows.length,o=0;o<l;o++){for(d=v.rows[o],f="",u=d.length,s=0;s<u;s++)f+=this.renderer.tablecell(this.parseInline(d[s].tokens),{header:!1,align:v.align[s]});b+=this.renderer.tablerow(f)}t+=this.renderer.table(p,b);continue}case"blockquote":{b=this.parse(v.tokens),t+=this.renderer.blockquote(b);continue}case"list":{for(x=v.ordered,L=v.start,j=v.loose,l=v.items.length,b="",o=0;o<l;o++)$=v.items[o],R=$.checked,z=$.task,N="",$.task&&(U=this.renderer.checkbox(R),j?$.tokens.length>0&&$.tokens[0].type==="paragraph"?($.tokens[0].text=U+" "+$.tokens[0].text,$.tokens[0].tokens&&$.tokens[0].tokens.length>0&&$.tokens[0].tokens[0].type==="text"&&($.tokens[0].tokens[0].text=U+" "+$.tokens[0].tokens[0].text)):$.tokens.unshift({type:"text",text:U}):N+=U),N+=this.parse($.tokens,j),b+=this.renderer.listitem(N,z,R);t+=this.renderer.list(b,x,L);continue}case"html":{t+=this.renderer.html(v.text);continue}case"paragraph":{t+=this.renderer.paragraph(this.parseInline(v.tokens));continue}case"text":{for(b=v.tokens?this.parseInline(v.tokens):v.text;r+1<G&&n[r+1].type==="text";)v=n[++r],b+=`
`+(v.tokens?this.parseInline(v.tokens):v.text);t+=e?this.renderer.paragraph(b):b;continue}default:{const q='Token with "'+v.type+'" type was not found.';if(this.options.silent){console.error(q);return}else throw new Error(q)}}}return t}parseInline(n,e){e=e||this.renderer;let t="",r,o,s;const l=n.length;for(r=0;r<l;r++){if(o=n[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(s=this.options.extensions.renderers[o.type].call({parser:this},o),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type))){t+=s||"";continue}switch(o.type){case"escape":{t+=e.text(o.text);break}case"html":{t+=e.html(o.text);break}case"link":{t+=e.link(o.href,o.title,this.parseInline(o.tokens,e));break}case"image":{t+=e.image(o.href,o.title,o.text);break}case"strong":{t+=e.strong(this.parseInline(o.tokens,e));break}case"em":{t+=e.em(this.parseInline(o.tokens,e));break}case"codespan":{t+=e.codespan(o.text);break}case"br":{t+=e.br();break}case"del":{t+=e.del(this.parseInline(o.tokens,e));break}case"text":{t+=e.text(o.text);break}default:{const u='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(u);return}else throw new Error(u)}}}return t}}function Je(i,n,e){if(typeof i>"u"||i===null)throw new Error("marked(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");if(typeof n=="function"&&(e=n,n=null),n=li({},Je.defaults,n||{}),jw(n),e){const t=n.highlight;let r;try{r=to.lex(i,n)}catch(l){return e(l)}const o=function(l){let u;if(!l)try{n.walkTokens&&Je.walkTokens(r,n.walkTokens),u=no.parse(r,n)}catch(d){l=d}return n.highlight=t,l?e(l):e(null,u)};if(!t||t.length<3||(delete n.highlight,!r.length))return o();let s=0;Je.walkTokens(r,function(l){l.type==="code"&&(s++,setTimeout(()=>{t(l.text,l.lang,function(u,d){if(u)return o(u);d!=null&&d!==l.text&&(l.text=d,l.escaped=!0),s--,s===0&&o()})},0))}),s===0&&o();return}try{const t=to.lex(i,n);return n.walkTokens&&Je.walkTokens(t,n.walkTokens),no.parse(t,n)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n.silent)return"<p>An error occurred:</p><pre>"+Tn(t.message+"",!0)+"</pre>";throw t}}Je.options=Je.setOptions=function(i){return li(Je.defaults,i),n4(Je.defaults),Je};Je.getDefaults=Vw;Je.defaults=ja;Je.use=function(...i){const n=li({},...i),e=Je.defaults.extensions||{renderers:{},childTokens:{}};let t;i.forEach(r=>{if(r.extensions&&(t=!0,r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const s=e.renderers?e.renderers[o.name]:null;s?e.renderers[o.name]=function(...l){let u=o.renderer.apply(this,l);return u===!1&&(u=s.apply(this,l)),u}:e.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)})),r.renderer){const o=Je.defaults.renderer||new ep;for(const s in r.renderer){const l=o[s];o[s]=(...u)=>{let d=r.renderer[s].apply(o,u);return d===!1&&(d=l.apply(o,u)),d}}n.renderer=o}if(r.tokenizer){const o=Je.defaults.tokenizer||new Xf;for(const s in r.tokenizer){const l=o[s];o[s]=(...u)=>{let d=r.tokenizer[s].apply(o,u);return d===!1&&(d=l.apply(o,u)),d}}n.tokenizer=o}if(r.walkTokens){const o=Je.defaults.walkTokens;n.walkTokens=function(s){r.walkTokens.call(this,s),o&&o.call(this,s)}}t&&(n.extensions=e),Je.setOptions(n)})};Je.walkTokens=function(i,n){for(const e of i)switch(n.call(Je,e),e.type){case"table":{for(const t of e.header)Je.walkTokens(t.tokens,n);for(const t of e.rows)for(const r of t)Je.walkTokens(r.tokens,n);break}case"list":{Je.walkTokens(e.items,n);break}default:Je.defaults.extensions&&Je.defaults.extensions.childTokens&&Je.defaults.extensions.childTokens[e.type]?Je.defaults.extensions.childTokens[e.type].forEach(function(t){Je.walkTokens(e[t],n)}):e.tokens&&Je.walkTokens(e.tokens,n)}};Je.parseInline=function(i,n){if(typeof i>"u"||i===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");n=li({},Je.defaults,n||{}),jw(n);try{const e=to.lexInline(i,n);return n.walkTokens&&Je.walkTokens(e,n.walkTokens),no.parseInline(e,n)}catch(e){if(e.message+=`
Please report this to https://github.com/markedjs/marked.`,n.silent)return"<p>An error occurred:</p><pre>"+Tn(e.message+"",!0)+"</pre>";throw e}};Je.Parser=no;Je.parser=no.parse;Je.Renderer=ep;Je.TextRenderer=$w;Je.Lexer=to;Je.lexer=to.lex;Je.Tokenizer=Xf;Je.Slugger=Ww;Je.parse=Je;Je.options;Je.setOptions;Je.use;Je.walkTokens;Je.parseInline;no.parse;to.lex;var tp=typeof window<"u"?window:{};function y4(){var i=tp.DOMParser,n=!1;try{new i().parseFromString("","text/html")&&(n=!0)}catch{}return n}function v4(){var i=function(){};return _4()?i.prototype.parseFromString=function(n){var e=new window.ActiveXObject("htmlfile");return e.designMode="on",e.open(),e.write(n),e.close(),e}:i.prototype.parseFromString=function(n){var e=document.implementation.createHTMLDocument("");return e.open(),e.write(n),e.close(),e},i}function _4(){var i=!1;try{document.implementation.createHTMLDocument("").open()}catch{tp.ActiveXObject&&(i=!0)}return i}y4()?tp.DOMParser:v4();/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */pt.arrowup,pt.arrowdown,pt.esc;pt.enter,pt.tab;var Hw={exports:{}};/*! For license information please see inspector.js.LICENSE.txt */(function(i,n){(function(e,t){i.exports=t()})(window,function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(o,s,l){r.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},r.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,s){if(1&s&&(o=r(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var u in o)r.d(l,u,(function(d){return o[d]}).bind(null,u));return l},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=94)}([function(e,t,r){e.exports=r(21)},function(e,t,r){r.d(t,"a",function(){return s}),r.d(t,"b",function(){return l}),r.d(t,"c",function(){return u});var o=r(19);function s(f,p=!0){if(f===void 0)return"undefined";if(typeof f=="function")return"function() {…}";const b=Object(o.stringify)(f,d,null,{maxDepth:2});return p?b:b.replace(/(^"|"$)/g,"")}function l(f){const p={};for(const b in f)p[b]=f[b],p[b].value=s(p[b].value);return p}function u(f,p){return f.length>p?f.substr(0,p)+`… [${f.length-p} characters left]`:f}function d(f,p,b){return typeof f=="string"?`"${f.replace("'",'"')}"`:b(f)}},function(e,t,r){function o(x){return x&&x.name}function s(x){return x&&o(x)&&x.is("attributeElement")}function l(x){return x&&o(x)&&x.is("emptyElement")}function u(x){return x&&o(x)&&x.is("uiElement")}function d(x){return x&&o(x)&&x.is("rawElement")}function f(x){return x&&o(x)&&x.is("editableElement")}function p(x){return x&&x.is("rootElement")}function b(x){return{path:[...x.parent.getPath(),x.offset],offset:x.offset,isAtEnd:x.isAtEnd,isAtStart:x.isAtStart,parent:v(x.parent)}}function v(x){return o(x)?s(x)?"attribute:"+x.name:p(x)?"root:"+x.name:"container:"+x.name:x.data}r.d(t,"d",function(){return o}),r.d(t,"b",function(){return s}),r.d(t,"e",function(){return l}),r.d(t,"h",function(){return u}),r.d(t,"f",function(){return d}),r.d(t,"c",function(){return f}),r.d(t,"g",function(){return p}),r.d(t,"a",function(){return b})},function(e,t,r){r.d(t,"a",function(){return o});class o{static group(...l){console.group(...l)}static groupEnd(...l){console.groupEnd(...l)}static log(...l){console.log(...l)}static warn(...l){console.warn(...l)}}},function(e,t,r){function o(d){return d&&d.is("element")}function s(d){return d&&d.is("rootElement")}function l(d){return d.getPath?d.getPath():d.path}function u(d){return{path:l(d),stickiness:d.stickiness,index:d.index,isAtEnd:d.isAtEnd,isAtStart:d.isAtStart,offset:d.offset,textNode:d.textNode&&d.textNode.data}}r.d(t,"c",function(){return o}),r.d(t,"d",function(){return s}),r.d(t,"b",function(){return l}),r.d(t,"a",function(){return u})},function(e,t,r){(function(o,s){var l="[object Arguments]",u="[object Map]",d="[object Object]",f="[object Set]",p=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[l]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[u]=v["[object Number]"]=v[d]=v["[object RegExp]"]=v[f]=v["[object String]"]=v["[object WeakMap]"]=!1;var x=typeof o=="object"&&o&&o.Object===Object&&o,L=typeof self=="object"&&self&&self.Object===Object&&self,j=x||L||Function("return this")(),N=t&&!t.nodeType&&t,$=N&&typeof s=="object"&&s&&!s.nodeType&&s,R=$&&$.exports===N,z=R&&x.process,U=function(){try{return z&&z.binding&&z.binding("util")}catch{}}(),F=U&&U.isTypedArray;function G(J,ue){for(var xe=-1,Me=J==null?0:J.length;++xe<Me;)if(ue(J[xe],xe,J))return!0;return!1}function q(J){var ue=-1,xe=Array(J.size);return J.forEach(function(Me,kt){xe[++ue]=[kt,Me]}),xe}function D(J){var ue=-1,xe=Array(J.size);return J.forEach(function(Me){xe[++ue]=Me}),xe}var V,ce,de,ie=Array.prototype,he=Function.prototype,ke=Object.prototype,ne=j["__core-js_shared__"],pe=he.toString,B=ke.hasOwnProperty,le=(V=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",_e=ke.toString,Re=RegExp("^"+pe.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ce=R?j.Buffer:void 0,Ne=j.Symbol,Ae=j.Uint8Array,Ue=ke.propertyIsEnumerable,dt=ie.splice,ee=Ne?Ne.toStringTag:void 0,Q=Object.getOwnPropertySymbols,we=Ce?Ce.isBuffer:void 0,_=(ce=Object.keys,de=Object,function(J){return ce(de(J))}),E=cr(j,"DataView"),P=cr(j,"Map"),H=cr(j,"Promise"),K=cr(j,"Set"),Y=cr(j,"WeakMap"),be=cr(Object,"create"),We=ur(E),Ve=ur(P),at=ur(H),et=ur(K),pn=ur(Y),Yt=Ne?Ne.prototype:void 0,jn=Yt?Yt.valueOf:void 0;function Qt(J){var ue=-1,xe=J==null?0:J.length;for(this.clear();++ue<xe;){var Me=J[ue];this.set(Me[0],Me[1])}}function Vt(J){var ue=-1,xe=J==null?0:J.length;for(this.clear();++ue<xe;){var Me=J[ue];this.set(Me[0],Me[1])}}function Xn(J){var ue=-1,xe=J==null?0:J.length;for(this.clear();++ue<xe;){var Me=J[ue];this.set(Me[0],Me[1])}}function lo(J){var ue=-1,xe=J==null?0:J.length;for(this.__data__=new Xn;++ue<xe;)this.add(J[ue])}function an(J){var ue=this.__data__=new Vt(J);this.size=ue.size}function Dt(J,ue){var xe=Ai(J),Me=!xe&&Pi(J),kt=!xe&&!Me&&Sr(J),rt=!xe&&!Me&&!kt&&Jo(J),xt=xe||Me||kt||rt,bt=xt?function(zt,cn){for(var Wn=-1,Lt=Array(zt);++Wn<zt;)Lt[Wn]=cn(Wn);return Lt}(J.length,String):[],ln=bt.length;for(var wt in J)!B.call(J,wt)||xt&&(wt=="length"||kt&&(wt=="offset"||wt=="parent")||rt&&(wt=="buffer"||wt=="byteLength"||wt=="byteOffset")||fo(wt,ln))||bt.push(wt);return bt}function ci(J,ue){for(var xe=J.length;xe--;)if(po(J[xe][0],ue))return xe;return-1}function Tr(J){return J==null?J===void 0?"[object Undefined]":"[object Null]":ee&&ee in Object(J)?function(ue){var xe=B.call(ue,ee),Me=ue[ee];try{ue[ee]=void 0;var kt=!0}catch{}var rt=_e.call(ue);return kt&&(xe?ue[ee]=Me:delete ue[ee]),rt}(J):function(ue){return _e.call(ue)}(J)}function Si(J){return Ar(J)&&Tr(J)==l}function co(J,ue,xe,Me,kt){return J===ue||(J==null||ue==null||!Ar(J)&&!Ar(ue)?J!=J&&ue!=ue:function(rt,xt,bt,ln,wt,zt){var cn=Ai(rt),Wn=Ai(xt),Lt=cn?"[object Array]":Ot(rt),An=Wn?"[object Array]":Ot(xt),Or=(Lt=Lt==l?d:Lt)==d,Tt=(An=An==l?d:An)==d,dr=Lt==An;if(dr&&Sr(rt)){if(!Sr(xt))return!1;cn=!0,Or=!1}if(dr&&!Or)return zt||(zt=new an),cn||Jo(rt)?In(rt,xt,bt,ln,wt,zt):function(yt,Ke,ui,Dn,mo,mn,Hn){switch(ui){case"[object DataView]":if(yt.byteLength!=Ke.byteLength||yt.byteOffset!=Ke.byteOffset)return!1;yt=yt.buffer,Ke=Ke.buffer;case"[object ArrayBuffer]":return!(yt.byteLength!=Ke.byteLength||!mn(new Ae(yt),new Ae(Ke)));case"[object Boolean]":case"[object Date]":case"[object Number]":return po(+yt,+Ke);case"[object Error]":return yt.name==Ke.name&&yt.message==Ke.message;case"[object RegExp]":case"[object String]":return yt==Ke+"";case u:var On=q;case f:var Ln=1&Dn;if(On||(On=D),yt.size!=Ke.size&&!Ln)return!1;var Ri=Hn.get(yt);if(Ri)return Ri==Ke;Dn|=2,Hn.set(yt,Ke);var Rr=In(On(yt),On(Ke),Dn,mo,mn,Hn);return Hn.delete(yt),Rr;case"[object Symbol]":if(jn)return jn.call(yt)==jn.call(Ke)}return!1}(rt,xt,Lt,bt,ln,wt,zt);if(!(1&bt)){var er=Or&&B.call(rt,"__wrapped__"),Mr=Tt&&B.call(xt,"__wrapped__");if(er||Mr){var Ws=er?rt.value():rt,Hs=Mr?xt.value():xt;return zt||(zt=new an),wt(Ws,Hs,bt,ln,zt)}}return dr?(zt||(zt=new an),function(yt,Ke,ui,Dn,mo,mn){var Hn=1&ui,On=uo(yt),Ln=On.length,Ri=uo(Ke).length;if(Ln!=Ri&&!Hn)return!1;for(var Rr=Ln;Rr--;){var Un=On[Rr];if(!(Hn?Un in Ke:B.call(Ke,Un)))return!1}var jt=mn.get(yt);if(jt&&mn.get(Ke))return jt==Ke;var Xt=!0;mn.set(yt,Ke),mn.set(Ke,yt);for(var Ii=Hn;++Rr<Ln;){Un=On[Rr];var Ni=yt[Un],hr=Ke[Un];if(Dn)var kn=Hn?Dn(hr,Ni,Un,Ke,yt,mn):Dn(Ni,hr,Un,yt,Ke,mn);if(!(kn===void 0?Ni===hr||mo(Ni,hr,ui,Dn,mn):kn)){Xt=!1;break}Ii||(Ii=Un=="constructor")}if(Xt&&!Ii){var Mn=yt.constructor,qn=Ke.constructor;Mn==qn||!("constructor"in yt)||!("constructor"in Ke)||typeof Mn=="function"&&Mn instanceof Mn&&typeof qn=="function"&&qn instanceof qn||(Xt=!1)}return mn.delete(yt),mn.delete(Ke),Xt}(rt,xt,bt,ln,wt,zt)):!1}(J,ue,xe,Me,co,kt))}function $s(J){return!(!Mi(J)||function(ue){return!!le&&le in ue}(J))&&(Oi(J)?Re:p).test(ur(J))}function $n(J){if(xe=(ue=J)&&ue.constructor,Me=typeof xe=="function"&&xe.prototype||ke,ue!==Me)return _(J);var ue,xe,Me,kt=[];for(var rt in Object(J))B.call(J,rt)&&rt!="constructor"&&kt.push(rt);return kt}function In(J,ue,xe,Me,kt,rt){var xt=1&xe,bt=J.length,ln=ue.length;if(bt!=ln&&!(xt&&ln>bt))return!1;var wt=rt.get(J);if(wt&&rt.get(ue))return wt==ue;var zt=-1,cn=!0,Wn=2&xe?new lo:void 0;for(rt.set(J,ue),rt.set(ue,J);++zt<bt;){var Lt=J[zt],An=ue[zt];if(Me)var Or=xt?Me(An,Lt,zt,ue,J,rt):Me(Lt,An,zt,J,ue,rt);if(Or!==void 0){if(Or)continue;cn=!1;break}if(Wn){if(!G(ue,function(Tt,dr){if(er=dr,!Wn.has(er)&&(Lt===Tt||kt(Lt,Tt,xe,Me,rt)))return Wn.push(dr);var er})){cn=!1;break}}else if(Lt!==An&&!kt(Lt,An,xe,Me,rt)){cn=!1;break}}return rt.delete(J),rt.delete(ue),cn}function uo(J){return function(ue,xe,Me){var kt=xe(ue);return Ai(ue)?kt:function(rt,xt){for(var bt=-1,ln=xt.length,wt=rt.length;++bt<ln;)rt[wt+bt]=xt[bt];return rt}(kt,Me(ue))}(J,Qo,ho)}function Nn(J,ue){var xe,Me,kt=J.__data__;return((Me=typeof(xe=ue))=="string"||Me=="number"||Me=="symbol"||Me=="boolean"?xe!=="__proto__":xe===null)?kt[typeof ue=="string"?"string":"hash"]:kt.map}function cr(J,ue){var xe=function(Me,kt){return Me==null?void 0:Me[kt]}(J,ue);return $s(xe)?xe:void 0}Qt.prototype.clear=function(){this.__data__=be?be(null):{},this.size=0},Qt.prototype.delete=function(J){var ue=this.has(J)&&delete this.__data__[J];return this.size-=ue?1:0,ue},Qt.prototype.get=function(J){var ue=this.__data__;if(be){var xe=ue[J];return xe==="__lodash_hash_undefined__"?void 0:xe}return B.call(ue,J)?ue[J]:void 0},Qt.prototype.has=function(J){var ue=this.__data__;return be?ue[J]!==void 0:B.call(ue,J)},Qt.prototype.set=function(J,ue){var xe=this.__data__;return this.size+=this.has(J)?0:1,xe[J]=be&&ue===void 0?"__lodash_hash_undefined__":ue,this},Vt.prototype.clear=function(){this.__data__=[],this.size=0},Vt.prototype.delete=function(J){var ue=this.__data__,xe=ci(ue,J);return!(xe<0)&&(xe==ue.length-1?ue.pop():dt.call(ue,xe,1),--this.size,!0)},Vt.prototype.get=function(J){var ue=this.__data__,xe=ci(ue,J);return xe<0?void 0:ue[xe][1]},Vt.prototype.has=function(J){return ci(this.__data__,J)>-1},Vt.prototype.set=function(J,ue){var xe=this.__data__,Me=ci(xe,J);return Me<0?(++this.size,xe.push([J,ue])):xe[Me][1]=ue,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Qt,map:new(P||Vt),string:new Qt}},Xn.prototype.delete=function(J){var ue=Nn(this,J).delete(J);return this.size-=ue?1:0,ue},Xn.prototype.get=function(J){return Nn(this,J).get(J)},Xn.prototype.has=function(J){return Nn(this,J).has(J)},Xn.prototype.set=function(J,ue){var xe=Nn(this,J),Me=xe.size;return xe.set(J,ue),this.size+=xe.size==Me?0:1,this},lo.prototype.add=lo.prototype.push=function(J){return this.__data__.set(J,"__lodash_hash_undefined__"),this},lo.prototype.has=function(J){return this.__data__.has(J)},an.prototype.clear=function(){this.__data__=new Vt,this.size=0},an.prototype.delete=function(J){var ue=this.__data__,xe=ue.delete(J);return this.size=ue.size,xe},an.prototype.get=function(J){return this.__data__.get(J)},an.prototype.has=function(J){return this.__data__.has(J)},an.prototype.set=function(J,ue){var xe=this.__data__;if(xe instanceof Vt){var Me=xe.__data__;if(!P||Me.length<199)return Me.push([J,ue]),this.size=++xe.size,this;xe=this.__data__=new Xn(Me)}return xe.set(J,ue),this.size=xe.size,this};var ho=Q?function(J){return J==null?[]:(J=Object(J),function(ue,xe){for(var Me=-1,kt=ue==null?0:ue.length,rt=0,xt=[];++Me<kt;){var bt=ue[Me];xe(bt,Me,ue)&&(xt[rt++]=bt)}return xt}(Q(J),function(ue){return Ue.call(J,ue)}))}:function(){return[]},Ot=Tr;function fo(J,ue){return!!(ue=ue??9007199254740991)&&(typeof J=="number"||b.test(J))&&J>-1&&J%1==0&&J<ue}function ur(J){if(J!=null){try{return pe.call(J)}catch{}try{return J+""}catch{}}return""}function po(J,ue){return J===ue||J!=J&&ue!=ue}(E&&Ot(new E(new ArrayBuffer(1)))!="[object DataView]"||P&&Ot(new P)!=u||H&&Ot(H.resolve())!="[object Promise]"||K&&Ot(new K)!=f||Y&&Ot(new Y)!="[object WeakMap]")&&(Ot=function(J){var ue=Tr(J),xe=ue==d?J.constructor:void 0,Me=xe?ur(xe):"";if(Me)switch(Me){case We:return"[object DataView]";case Ve:return u;case at:return"[object Promise]";case et:return f;case pn:return"[object WeakMap]"}return ue});var Pi=Si(function(){return arguments}())?Si:function(J){return Ar(J)&&B.call(J,"callee")&&!Ue.call(J,"callee")},Ai=Array.isArray,Sr=we||function(){return!1};function Oi(J){if(!Mi(J))return!1;var ue=Tr(J);return ue=="[object Function]"||ue=="[object GeneratorFunction]"||ue=="[object AsyncFunction]"||ue=="[object Proxy]"}function Pr(J){return typeof J=="number"&&J>-1&&J%1==0&&J<=9007199254740991}function Mi(J){var ue=typeof J;return J!=null&&(ue=="object"||ue=="function")}function Ar(J){return J!=null&&typeof J=="object"}var Jo=F?function(J){return function(ue){return J(ue)}}(F):function(J){return Ar(J)&&Pr(J.length)&&!!v[Tr(J)]};function Qo(J){return(ue=J)!=null&&Pr(ue.length)&&!Oi(ue)?Dt(J):$n(J);var ue}s.exports=function(J,ue){return co(J,ue)}}).call(this,r(15),r(33)(e))},function(e,t,r){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var R={};return function(z){if(R[z]===void 0){var U=document.querySelector(z);if(window.HTMLIFrameElement&&U instanceof window.HTMLIFrameElement)try{U=U.contentDocument.head}catch{U=null}R[z]=U}return R[z]}}(),u=[];function d(R){for(var z=-1,U=0;U<u.length;U++)if(u[U].identifier===R){z=U;break}return z}function f(R,z){for(var U={},F=[],G=0;G<R.length;G++){var q=R[G],D=z.base?q[0]+z.base:q[0],V=U[D]||0,ce="".concat(D," ").concat(V);U[D]=V+1;var de=d(ce),ie={css:q[1],media:q[2],sourceMap:q[3]};de!==-1?(u[de].references++,u[de].updater(ie)):u.push({identifier:ce,updater:$(ie,z),references:1}),F.push(ce)}return F}function p(R){var z=document.createElement("style"),U=R.attributes||{};if(U.nonce===void 0){var F=r.nc;F&&(U.nonce=F)}if(Object.keys(U).forEach(function(q){z.setAttribute(q,U[q])}),typeof R.insert=="function")R.insert(z);else{var G=l(R.insert||"head");if(!G)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");G.appendChild(z)}return z}var b,v=(b=[],function(R,z){return b[R]=z,b.filter(Boolean).join(`
`)});function x(R,z,U,F){var G=U?"":F.media?"@media ".concat(F.media," {").concat(F.css,"}"):F.css;if(R.styleSheet)R.styleSheet.cssText=v(z,G);else{var q=document.createTextNode(G),D=R.childNodes;D[z]&&R.removeChild(D[z]),D.length?R.insertBefore(q,D[z]):R.appendChild(q)}}function L(R,z,U){var F=U.css,G=U.media,q=U.sourceMap;if(G?R.setAttribute("media",G):R.removeAttribute("media"),q&&typeof btoa<"u"&&(F+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(q))))," */")),R.styleSheet)R.styleSheet.cssText=F;else{for(;R.firstChild;)R.removeChild(R.firstChild);R.appendChild(document.createTextNode(F))}}var j=null,N=0;function $(R,z){var U,F,G;if(z.singleton){var q=N++;U=j||(j=p(z)),F=x.bind(null,U,q,!1),G=x.bind(null,U,q,!0)}else U=p(z),F=L.bind(null,U,z),G=function(){(function(D){if(D.parentNode===null)return!1;D.parentNode.removeChild(D)})(U)};return F(R),function(D){if(D){if(D.css===R.css&&D.media===R.media&&D.sourceMap===R.sourceMap)return;F(R=D)}else G()}}e.exports=function(R,z){(z=z||{}).singleton||typeof z.singleton=="boolean"||(z.singleton=s());var U=f(R=R||[],z);return function(F){if(F=F||[],Object.prototype.toString.call(F)==="[object Array]"){for(var G=0;G<U.length;G++){var q=d(U[G]);u[q].references--}for(var D=f(F,z),V=0;V<U.length;V++){var ce=d(U[V]);u[ce].references===0&&(u[ce].updater(),u.splice(ce,1))}U=D}}}},function(e,t,r){e.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var u=function(d,f){var p=d[1]||"",b=d[3];if(!b)return p;if(f&&typeof btoa=="function"){var v=(L=b,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(L))))+" */"),x=b.sources.map(function(j){return"/*# sourceURL="+b.sourceRoot+j+" */"});return[p].concat(x).concat([v]).join(`
`)}var L;return[p].join(`
`)}(l,o);return l[2]?"@media "+l[2]+"{"+u+"}":u}).join("")},s.i=function(l,u){typeof l=="string"&&(l=[[null,l,""]]);for(var d={},f=0;f<this.length;f++){var p=this[f][0];p!=null&&(d[p]=!0)}for(f=0;f<l.length;f++){var b=l[f];b[0]!=null&&d[b[0]]||(u&&!b[2]?b[2]=u:u&&(b[2]="("+b[2]+") and ("+u+")"),s.push(b))}},s}},function(e,t,r){r.d(t,"c",function(){return l}),r.d(t,"b",function(){return u}),r.d(t,"a",function(){return d});var o=r(3);let s=0;function l(f){const p={editors:{},options:{}};if(typeof f[0]=="string")o.a.warn(`[CKEditorInspector] The CKEditorInspector.attach( '${f[0]}', editor ) syntax has been deprecated and will be removed in the near future. To pass a name of an editor instance, use CKEditorInspector.attach( { '${f[0]}': editor } ) instead. Learn more in https://github.com/ckeditor/ckeditor5-inspector/blob/master/README.md.`),p.editors[f[0]]=f[1];else{if((b=f[0]).model&&b.editing)p.editors["editor-"+ ++s]=f[0];else for(const v in f[0])p.editors[v]=f[0][v];p.options=f[1]||p.options}var b;return p}function u(f){return[...f][0][0]||""}function d(f,p){const b=Math.min(f.length,p.length);for(let v=0;v<b;v++)if(f[v]!=p[v])return v;return f.length==p.length?"same":f.length<p.length?"prefix":"extension"}},function(e,t,r){r.d(t,"a",function(){return u}),r.d(t,"d",function(){return p}),r.d(t,"c",function(){return b}),r.d(t,"e",function(){return v}),r.d(t,"b",function(){return x});var o=r(2),s=r(8),l=r(1);const u="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_view",d=`&lt;!--The View UI element content has been skipped. <a href="${u}_uielement-UIElement.html" target="_blank">Find out why</a>. --&gt;`,f=`&lt;!--The View raw element content has been skipped. <a href="${u}_rawelement-RawElement.html" target="_blank">Find out why</a>. --&gt;`;function p(R){return R?[...R.editing.view.document.roots]:[]}function b(R,z){if(!R)return[];const U=[],F=R.editing.view.document.selection;for(const G of F.getRanges())G.root.rootName===z&&U.push({type:"selection",start:Object(o.a)(G.start),end:Object(o.a)(G.end)});return U}function v({currentEditor:R,currentRootName:z,ranges:U}){return!R||!z?null:[L(R.editing.view.document.getRoot(z),[...U])]}function x(R){const z={editorNode:R,properties:{},attributes:{},customProperties:{}};if(Object(o.d)(R)){Object(o.g)(R)?(z.type="RootEditableElement",z.name=R.rootName,z.url=u+"_rooteditableelement-RootEditableElement.html"):(z.name=R.name,Object(o.b)(R)?(z.type="AttributeElement",z.url=u+"_attributeelement-AttributeElement.html"):Object(o.e)(R)?(z.type="EmptyElement",z.url=u+"_emptyelement-EmptyElement.html"):Object(o.h)(R)?(z.type="UIElement",z.url=u+"_uielement-UIElement.html"):Object(o.f)(R)?(z.type="RawElement",z.url=u+"_rawelement-RawElement.html"):Object(o.c)(R)?(z.type="EditableElement",z.url=u+"_editableelement-EditableElement.html"):(z.type="ContainerElement",z.url=u+"_containerelement-ContainerElement.html")),$(R).forEach(([U,F])=>{z.attributes[U]={value:F}}),z.properties={index:{value:R.index},isEmpty:{value:R.isEmpty},childCount:{value:R.childCount}};for(let[U,F]of R.getCustomProperties())typeof U=="symbol"&&(U=U.toString()),z.customProperties[U]={value:F}}else z.name=R.data,z.type="Text",z.url=u+"_text-Text.html",z.properties={index:{value:R.index}};return z.properties=Object(l.b)(z.properties),z.customProperties=Object(l.b)(z.customProperties),z.attributes=Object(l.b)(z.attributes),z}function L(R,z){const U={};return Object.assign(U,{index:R.index,path:R.getPath(),node:R,positionsBefore:[],positionsAfter:[]}),Object(o.d)(R)?function(F,G){const q=F.node;Object.assign(F,{type:"element",children:[],positions:[]}),F.name=q.name,Object(o.b)(q)?F.elementType="attribute":Object(o.g)(q)?F.elementType="root":Object(o.e)(q)?F.elementType="empty":Object(o.h)(q)?F.elementType="ui":Object(o.f)(q)?F.elementType="raw":F.elementType="container",Object(o.e)(q)?F.presentation={isEmpty:!0}:Object(o.h)(q)?F.children.push({type:"comment",text:d}):Object(o.f)(q)&&F.children.push({type:"comment",text:f});for(const D of q.getChildren())F.children.push(L(D,G));(function(D,V){for(const ce of V){const de=j(D,ce);for(const ie of de){const he=ie.offset;if(he===0){const ke=D.children[0];ke?ke.positionsBefore.push(ie):D.positions.push(ie)}else if(he===D.children.length){const ke=D.children[D.children.length-1];ke?ke.positionsAfter.push(ie):D.positions.push(ie)}else{let ke=ie.isEnd?0:D.children.length-1,ne=D.children[ke];for(;ne;){if(ne.index===he){ne.positionsBefore.push(ie);break}if(ne.index+1===he){ne.positionsAfter.push(ie);break}ke+=ie.isEnd?1:-1,ne=D.children[ke]}}}}})(F,G),F.attributes=function(D){const V=$(D).map(([ce,de])=>[ce,Object(l.a)(de,!1)]);return new Map(V)}(q)}(U,z):function(F,G){Object.assign(F,{type:"text",startOffset:0,text:F.node.data,positions:[]});for(const q of G){const D=j(F,q);F.positions.push(...D)}}(U,z),U}function j(R,z){const U=R.path,F=z.start.path,G=z.end.path,q=[];return N(U,F)&&q.push({offset:F[F.length-1],isEnd:!1,presentation:z.presentation||null,type:z.type,name:z.name||null}),N(U,G)&&q.push({offset:G[G.length-1],isEnd:!0,presentation:z.presentation||null,type:z.type,name:z.name||null}),q}function N(R,z){return R.length===z.length-1&&Object(s.a)(R,z)==="prefix"}function $(R){return[...R.getAttributes()].sort(([z],[U])=>z.toUpperCase()<U.toUpperCase()?-1:1)}},function(e,t,r){r.d(t,"d",function(){return f}),r.d(t,"c",function(){return p}),r.d(t,"a",function(){return b}),r.d(t,"e",function(){return v}),r.d(t,"b",function(){return x});var o=r(4),s=r(8),l=r(1);const u="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_model_",d=["#03a9f4","#fb8c00","#009688","#e91e63","#4caf50","#00bcd4","#607d8b","#cddc39","#9c27b0","#f44336","#6d4c41","#8bc34a","#3f51b5","#2196f3","#f4511e","#673ab7","#ffb300"];function f(z){if(!z)return[];const U=[...z.model.document.roots];return U.filter(({rootName:F})=>F!=="$graveyard").concat(U.filter(({rootName:F})=>F==="$graveyard"))}function p(z,U){if(!z)return[];const F=[],G=z.model;for(const q of G.document.selection.getRanges())q.root.rootName===U&&F.push({type:"selection",start:Object(o.a)(q.start),end:Object(o.a)(q.end)});return F}function b(z,U){if(!z)return[];const F=[],G=z.model;let q=0;for(const D of G.markers){const{name:V,affectsData:ce,managedUsingOperations:de}=D,ie=D.getStart(),he=D.getEnd();ie.root.rootName===U&&F.push({type:"marker",marker:D,name:V,affectsData:ce,managedUsingOperations:de,presentation:{color:d[q++%(d.length-1)]},start:Object(o.a)(ie),end:Object(o.a)(he)})}return F}function v({currentEditor:z,currentRootName:U,ranges:F,markers:G}){return z?[L(z.model.document.getRoot(U),[...F,...G])]:[]}function x(z,U){const F={editorNode:U,properties:{},attributes:{}};Object(o.c)(U)?(Object(o.d)(U)?(F.type="RootElement",F.name=U.rootName,F.url=u+"rootelement-RootElement.html"):(F.type="Element",F.name=U.name,F.url=u+"element-Element.html"),F.properties={childCount:{value:U.childCount},startOffset:{value:U.startOffset},endOffset:{value:U.endOffset},maxOffset:{value:U.maxOffset}}):(F.name=U.data,F.type="Text",F.url=u+"text-Text.html",F.properties={startOffset:{value:U.startOffset},endOffset:{value:U.endOffset},offsetSize:{value:U.offsetSize}}),F.properties.path={value:Object(o.b)(U)},N(U).forEach(([G,q])=>{F.attributes[G]={value:q}}),F.properties=Object(l.b)(F.properties),F.attributes=Object(l.b)(F.attributes);for(const G in F.attributes){const q={},D=z.model.schema.getAttributeProperties(G);for(const V in D)q[V]={value:D[V]};F.attributes[G].subProperties=Object(l.b)(q)}return F}function L(z,U){const F={},{startOffset:G,endOffset:q}=z;return Object.assign(F,{startOffset:G,endOffset:q,node:z,path:z.getPath(),positionsBefore:[],positionsAfter:[]}),Object(o.c)(z)?function(D,V){const ce=D.node;Object.assign(D,{type:"element",name:ce.name,children:[],maxOffset:ce.maxOffset,positions:[]});for(const de of ce.getChildren())D.children.push(L(de,V));(function(de,ie){for(const he of ie){const ke=$(de,he);for(const ne of ke){const pe=ne.offset;if(pe===0){const B=de.children[0];B?B.positionsBefore.push(ne):de.positions.push(ne)}else if(pe===de.maxOffset){const B=de.children[de.children.length-1];B?B.positionsAfter.push(ne):de.positions.push(ne)}else{let B=ne.isEnd?0:de.children.length-1,le=de.children[B];for(;le;){if(le.startOffset===pe){le.positionsBefore.push(ne);break}if(le.endOffset===pe){const _e=de.children[B+1],Re=le.type==="text"&&_e&&_e.type==="element",Ce=le.type==="element"&&_e&&_e.type==="text",Ne=le.type==="text"&&_e&&_e.type==="text";ne.isEnd&&(Re||Ce||Ne)?_e.positionsBefore.push(ne):le.positionsAfter.push(ne);break}if(le.startOffset<pe&&le.endOffset>pe){le.positions.push(ne);break}B+=ne.isEnd?1:-1,le=de.children[B]}}}}})(D,V),D.attributes=j(ce)}(F,U):function(D){const V=D.node;Object.assign(D,{type:"text",text:V.data,positions:[],presentation:{dontRenderAttributeValue:!0}}),D.attributes=j(V)}(F),F}function j(z){const U=N(z).map(([F,G])=>[F,Object(l.a)(G,!1)]);return new Map(U)}function N(z){return[...z.getAttributes()].sort(([U],[F])=>U<F?-1:1)}function $(z,U){const F=z.path,G=U.start.path,q=U.end.path,D=[];return R(F,G)&&D.push({offset:G[G.length-1],isEnd:!1,presentation:U.presentation||null,type:U.type,name:U.name||null}),R(F,q)&&D.push({offset:q[q.length-1],isEnd:!0,presentation:U.presentation||null,type:U.type,name:U.name||null}),D}function R(z,U){return z.length===U.length-1&&Object(s.a)(z,U)==="prefix"}},function(e,t,r){r.d(t,"a",function(){return N});var o=r(0),s=r.n(o),l=r(5),u=r.n(l);class d extends o.Component{constructor(R){super(R),this.handleClick=this.handleClick.bind(this)}handleClick(R){this.globalTreeProps.onClick(R,this.definition.node)}getChildren(){return this.definition.children.map((R,z)=>j(R,z,this.props.globalTreeProps))}get definition(){return this.props.definition}get globalTreeProps(){return this.props.globalTreeProps||{}}get isActive(){return this.definition.node===this.globalTreeProps.activeNode}shouldComponentUpdate(R){return!u()(this.props,R)}}var f=r(1);class p extends o.PureComponent{render(){let R;const z=Object(f.c)(this.props.value,500);return this.props.dontRenderValue||(R=s.a.createElement("span",{className:"ck-inspector-tree-node__attribute__value"},z)),s.a.createElement("span",{className:"ck-inspector-tree-node__attribute"},s.a.createElement("span",{className:"ck-inspector-tree-node__attribute__name",title:z},this.props.name),R)}}class b extends o.Component{render(){const R=this.props.definition,z={className:["ck-inspector-tree__position",R.type==="selection"?"ck-inspector-tree__position_selection":"",R.type==="marker"?"ck-inspector-tree__position_marker":"",R.isEnd?"ck-inspector-tree__position_end":""].join(" "),style:{}};return R.presentation&&R.presentation.color&&(z.style["--ck-inspector-color-tree-position"]=R.presentation.color),R.type==="marker"&&(z["data-marker-name"]=R.name),s.a.createElement("span",z,"​")}shouldComponentUpdate(R){return!u()(this.props,R)}}class v extends d{render(){const R=this.definition,z=R.presentation,U=z&&z.isEmpty,F=z&&z.cssClass,G=this.getChildren(),q=["ck-inspector-code","ck-inspector-tree-node",this.isActive?"ck-inspector-tree-node_active":"",U?"ck-inspector-tree-node_empty":"",F],D=[],V=[];R.positionsBefore&&R.positionsBefore.forEach((de,ie)=>{D.push(s.a.createElement(b,{key:"position-before:"+ie,definition:de}))}),R.positionsAfter&&R.positionsAfter.forEach((de,ie)=>{V.push(s.a.createElement(b,{key:"position-after:"+ie,definition:de}))}),R.positions&&R.positions.forEach((de,ie)=>{G.push(s.a.createElement(b,{key:"position"+ie,definition:de}))});let ce=R.name;return this.globalTreeProps.showElementTypes&&(ce=R.elementType+":"+ce),s.a.createElement("div",{className:q.join(" "),onClick:this.handleClick},D,s.a.createElement("span",{className:"ck-inspector-tree-node__name"},s.a.createElement("span",{className:"ck-inspector-tree-node__name__bracket ck-inspector-tree-node__name__bracket_open"}),ce,this.getAttributes(),U?"":s.a.createElement("span",{className:"ck-inspector-tree-node__name__bracket ck-inspector-tree-node__name__bracket_close"})),s.a.createElement("div",{className:"ck-inspector-tree-node__content"},G),U?"":s.a.createElement("span",{className:"ck-inspector-tree-node__name ck-inspector-tree-node__name_close"},s.a.createElement("span",{className:"ck-inspector-tree-node__name__bracket ck-inspector-tree-node__name__bracket_open"}),"/",ce,s.a.createElement("span",{className:"ck-inspector-tree-node__name__bracket ck-inspector-tree-node__name__bracket_close"}),V))}getAttributes(){const R=[],z=this.definition;for(const[U,F]of z.attributes)R.push(s.a.createElement(p,{key:U,name:U,value:F}));return R}shouldComponentUpdate(R){return!u()(this.props,R)}}class x extends d{render(){const R=this.definition,z=["ck-inspector-tree-text",this.isActive?"ck-inspector-tree-node_active":""].join(" ");let U=this.definition.text;R.positions&&R.positions.length&&(U=U.split(""),Array.from(R.positions).sort((G,q)=>G.offset<q.offset?-1:G.offset===q.offset?0:1).reverse().forEach((G,q)=>{U.splice(G.offset-R.startOffset,0,s.a.createElement(b,{key:"position"+q,definition:G}))}));const F=[U];return R.positionsBefore&&R.positionsBefore.length&&R.positionsBefore.forEach((G,q)=>{F.unshift(s.a.createElement(b,{key:"position-before:"+q,definition:G}))}),R.positionsAfter&&R.positionsAfter.length&&R.positionsAfter.forEach((G,q)=>{F.push(s.a.createElement(b,{key:"position-after:"+q,definition:G}))}),s.a.createElement("span",{className:z,onClick:this.handleClick},s.a.createElement("span",{className:"ck-inspector-tree-node__content"},this.globalTreeProps.showCompactText?"":this.getAttributes(),this.globalTreeProps.showCompactText?"":'"',F,this.globalTreeProps.showCompactText?"":'"'))}getAttributes(){const R=[],z=this.definition,U=z.presentation,F=U&&U.dontRenderAttributeValue;for(const[G,q]of z.attributes)R.push(s.a.createElement(p,{key:G,name:G,value:q,dontRenderValue:F}));return s.a.createElement("span",{className:"ck-inspector-tree-text__attributes"},R)}shouldComponentUpdate(R){return!u()(this.props,R)}}class L extends o.Component{render(){return s.a.createElement("span",{className:"ck-inspector-tree-comment",dangerouslySetInnerHTML:{__html:this.props.definition.text}})}}function j($,R,z){return $.type==="element"?s.a.createElement(v,{key:R,definition:$,globalTreeProps:z}):$.type==="text"?s.a.createElement(x,{key:R,definition:$,globalTreeProps:z}):$.type==="comment"?s.a.createElement(L,{key:R,definition:$}):void 0}r(34);class N extends o.Component{render(){let R;return R=this.props.definition?this.props.definition.map((z,U)=>j(z,U,{onClick:this.props.onClick,showCompactText:this.props.showCompactText,showElementTypes:this.props.showElementTypes,activeNode:this.props.activeNode})):"Nothing to show.",s.a.createElement("div",{className:["ck-inspector-tree",...this.props.className||[],this.props.textDirection?"ck-inspector-tree_text-direction_"+this.props.textDirection:"",this.props.showCompactText?"ck-inspector-tree_compact-text":""].join(" ")},R)}}},function(e,t,r){(function o(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}})(),e.exports=r(22)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.stringifyPath=t.quoteKey=t.isValidVariableName=t.IS_VALID_IDENTIFIER=t.quoteString=void 0;const o=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s=new Map([["\b","\\b"],["	","\\t"],[`
`,"\\n"],["\f","\\f"],["\r","\\r"],["'","\\'"],['"','\\"'],["\\","\\\\"]]);function l(f){return s.get(f)||"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)}t.quoteString=function(f){return`'${f.replace(o,l)}'`};const u=new Set("break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "));function d(f){return typeof f=="string"&&!u.has(f)&&t.IS_VALID_IDENTIFIER.test(f)}t.IS_VALID_IDENTIFIER=/^[A-Za-z_$][A-Za-z0-9_$]*$/,t.isValidVariableName=d,t.quoteKey=function(f,p){return d(f)?f:p(f)},t.stringifyPath=function(f,p){let b="";for(const v of f)d(v)?b+="."+v:b+=`[${p(v)}]`;return b}},function(e,t){function r(p,b,v,x){var L,j=(L=x)==null||typeof L=="number"||typeof L=="boolean"?x:v(x),N=b.get(j);return N===void 0&&(N=p.call(this,x),b.set(j,N)),N}function o(p,b,v){var x=Array.prototype.slice.call(arguments,3),L=v(x),j=b.get(L);return j===void 0&&(j=p.apply(this,x),b.set(L,j)),j}function s(p,b,v,x,L){return v.bind(b,p,x,L)}function l(p,b){return s(p,this,p.length===1?r:o,b.cache.create(),b.serializer)}function u(){return JSON.stringify(arguments)}function d(){this.cache=Object.create(null)}d.prototype.has=function(p){return p in this.cache},d.prototype.get=function(p){return this.cache[p]},d.prototype.set=function(p,b){this.cache[p]=b};var f={create:function(){return new d}};e.exports=function(p,b){var v=b&&b.cache?b.cache:f,x=b&&b.serializer?b.serializer:u;return(b&&b.strategy?b.strategy:l)(p,{cache:v,serializer:x})},e.exports.strategies={variadic:function(p,b){return s(p,this,o,b.cache.create(),b.serializer)},monadic:function(p,b){return s(p,this,r,b.cache.create(),b.serializer)}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}e.exports=r},function(e,t,r){var o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function u(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}e.exports=function(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var f={},p=0;p<10;p++)f["_"+String.fromCharCode(p)]=p;if(Object.getOwnPropertyNames(f).map(function(v){return f[v]}).join("")!=="0123456789")return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(v){b[v]=v}),Object.keys(Object.assign({},b)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(d,f){for(var p,b,v=u(d),x=1;x<arguments.length;x++){for(var L in p=Object(arguments[x]))s.call(p,L)&&(v[L]=p[L]);if(o){b=o(p);for(var j=0;j<b.length;j++)l.call(p,b[j])&&(v[b[j]]=p[b[j]])}}return v}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionParser=t.dedentFunction=t.functionToString=t.USED_METHOD_KEY=void 0;const o=r(13),s={" "(){}}[" "].toString().charAt(0)==='"',l={Function:"function ",GeneratorFunction:"function* ",AsyncFunction:"async function ",AsyncGeneratorFunction:"async function* "},u={Function:"",GeneratorFunction:"*",AsyncFunction:"async ",AsyncGeneratorFunction:"async *"},d=new Set("case delete else in instanceof new return throw typeof void , ; : + - ! ~ & | ^ * / % < > ? =".split(" "));t.USED_METHOD_KEY=new WeakSet;function f(b){let v;for(const x of b.split(`
`).slice(1)){const L=/^[\s\t]+/.exec(x);if(!L)return b;const[j]=L;(v===void 0||j.length<v.length)&&(v=j)}return v?b.split(`
`+v).join(`
`):b}t.functionToString=(b,v,x,L)=>{const j=typeof L=="string"?L:void 0;return j!==void 0&&t.USED_METHOD_KEY.add(b),new p(b,v,x,j).stringify()},t.dedentFunction=f;class p{constructor(v,x,L,j){this.fn=v,this.indent=x,this.next=L,this.key=j,this.pos=0,this.hadKeyword=!1,this.fnString=Function.prototype.toString.call(v),this.fnType=v.constructor.name,this.keyQuote=j===void 0?"":o.quoteKey(j,L),this.keyPrefix=j===void 0?"":`${this.keyQuote}:${x?" ":""}`,this.isMethodCandidate=j!==void 0&&(this.fn.name===""||this.fn.name===j)}stringify(){const v=this.tryParse();return v?f(v):`${this.keyPrefix}void ${this.next(this.fnString)}`}getPrefix(){return this.isMethodCandidate&&!this.hadKeyword?u[this.fnType]+this.keyQuote:this.keyPrefix+l[this.fnType]}tryParse(){if(this.fnString[this.fnString.length-1]!=="}")return this.keyPrefix+this.fnString;if(this.fn.name){const x=this.tryStrippingName();if(x)return x}const v=this.pos;if(this.consumeSyntax()==="class")return this.fnString;if(this.pos=v,this.tryParsePrefixTokens()){const x=this.tryStrippingName();if(x)return x;let L=this.pos;switch(this.consumeSyntax("WORD_LIKE")){case"WORD_LIKE":this.isMethodCandidate&&!this.hadKeyword&&(L=this.pos);case"()":if(this.fnString.substr(this.pos,2)==="=>")return this.keyPrefix+this.fnString;this.pos=L;case'"':case"'":case"[]":return this.getPrefix()+this.fnString.substr(this.pos)}}}tryStrippingName(){if(s)return;let v=this.pos;const x=this.fnString.substr(this.pos,this.fn.name.length);if(x===this.fn.name&&(this.pos+=x.length,this.consumeSyntax()==="()"&&this.consumeSyntax()==="{}"&&this.pos===this.fnString.length))return!this.isMethodCandidate&&o.isValidVariableName(x)||(v+=x.length),this.getPrefix()+this.fnString.substr(v);this.pos=v}tryParsePrefixTokens(){let v=this.pos;switch(this.hadKeyword=!1,this.fnType){case"AsyncFunction":if(this.consumeSyntax()!=="async")return!1;v=this.pos;case"Function":return this.consumeSyntax()==="function"?this.hadKeyword=!0:this.pos=v,!0;case"AsyncGeneratorFunction":if(this.consumeSyntax()!=="async")return!1;case"GeneratorFunction":let x=this.consumeSyntax();return x==="function"&&(x=this.consumeSyntax(),this.hadKeyword=!0),x==="*"}}consumeSyntax(v){const x=this.consumeMatch(/^(?:([A-Za-z_0-9$\xA0-\uFFFF]+)|=>|\+\+|\-\-|.)/);if(!x)return;const[L,j]=x;if(this.consumeWhitespace(),j)return v||j;switch(L){case"(":return this.consumeSyntaxUntil("(",")");case"[":return this.consumeSyntaxUntil("[","]");case"{":return this.consumeSyntaxUntil("{","}");case"`":return this.consumeTemplate();case'"':return this.consumeRegExp(/^(?:[^\\"]|\\.)*"/,'"');case"'":return this.consumeRegExp(/^(?:[^\\']|\\.)*'/,"'")}return L}consumeSyntaxUntil(v,x){let L=!0;for(;;){const j=this.consumeSyntax();if(j===x)return v+x;if(!j||j===")"||j==="]"||j==="}")return;j==="/"&&L&&this.consumeMatch(/^(?:\\.|[^\\\/\n[]|\[(?:\\.|[^\]])*\])+\/[a-z]*/)?(L=!1,this.consumeWhitespace()):L=d.has(j)}}consumeMatch(v){const x=v.exec(this.fnString.substr(this.pos));return x&&(this.pos+=x[0].length),x}consumeRegExp(v,x){const L=v.exec(this.fnString.substr(this.pos));if(L)return this.pos+=L[0].length,this.consumeWhitespace(),x}consumeTemplate(){for(;;){if(this.consumeMatch(/^(?:[^`$\\]|\\.|\$(?!{))*/),this.fnString[this.pos]==="`")return this.pos++,this.consumeWhitespace(),"`";if(this.fnString.substr(this.pos,2)!=="${"||(this.pos+=2,this.consumeWhitespace(),!this.consumeSyntaxUntil("{","}")))return}}consumeWhitespace(){this.consumeMatch(/^(?:\s|\/\/.*|\/\*[^]*?\*\/)*/)}}t.FunctionParser=p},function(e,t,r){e.exports=r(53)()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0;const o=r(25),s=r(13),l=Symbol("root");t.stringify=function(u,d,f,p={}){const b=typeof f=="string"?f:" ".repeat(f||0),v=[],x=new Set,L=new Map,j=new Map;let N=0;const{maxDepth:$=100,references:R=!1,skipUndefinedProperties:z=!1,maxValues:U=1e5}=p,F=function(V){return V?(ce,de,ie,he)=>V(ce,de,ke=>o.toString(ke,de,ie,he),he):o.toString}(d),G=(V,ce)=>{if(++N>U||z&&V===void 0||v.length>$)return;if(ce===void 0)return F(V,b,G,ce);v.push(ce);const de=q(V,ce===l?void 0:ce);return v.pop(),de},q=R?(V,ce)=>{if(V!==null&&(typeof V=="object"||typeof V=="function"||typeof V=="symbol")){if(L.has(V))return j.set(v.slice(1),L.get(V)),F(void 0,b,G,ce);L.set(V,v.slice(1))}return F(V,b,G,ce)}:(V,ce)=>{if(x.has(V))return;x.add(V);const de=F(V,b,G,ce);return x.delete(V),de},D=G(u,l);if(j.size){const V=b?" ":"",ce=b?`
`:"";let de=`var x${V}=${V}${D};${ce}`;for(const[ie,he]of j.entries())de+=`x${s.stringifyPath(ie,G)}${V}=${V}x${s.stringifyPath(he,G)};${ce}`;return`(function${V}()${V}{${ce}${de}return x;${ce}}())`}return D}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(o,s){for(var l=0,u=o.length;l<u;l++)if(s.apply(s,[o[l],l,o]))return o[l]},t.isFunction=function(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"},t.isNum=function(o){return typeof o=="number"&&!isNaN(o)},t.int=function(o){return parseInt(o,10)},t.dontSetMe=function(o,s,l){if(o[s])return new Error("Invalid prop ".concat(s," passed to ").concat(l," - do not set this, set it on the child."))}},function(e,t,r){var o=r(16),s=typeof Symbol=="function"&&Symbol.for,l=s?Symbol.for("react.element"):60103,u=s?Symbol.for("react.portal"):60106,d=s?Symbol.for("react.fragment"):60107,f=s?Symbol.for("react.strict_mode"):60108,p=s?Symbol.for("react.profiler"):60114,b=s?Symbol.for("react.provider"):60109,v=s?Symbol.for("react.context"):60110,x=s?Symbol.for("react.forward_ref"):60112,L=s?Symbol.for("react.suspense"):60113,j=s?Symbol.for("react.memo"):60115,N=s?Symbol.for("react.lazy"):60116,$=typeof Symbol=="function"&&Symbol.iterator;function R(ee){for(var Q="https://reactjs.org/docs/error-decoder.html?invariant="+ee,we=1;we<arguments.length;we++)Q+="&args[]="+encodeURIComponent(arguments[we]);return"Minified React error #"+ee+"; visit "+Q+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U={};function F(ee,Q,we){this.props=ee,this.context=Q,this.refs=U,this.updater=we||z}function G(){}function q(ee,Q,we){this.props=ee,this.context=Q,this.refs=U,this.updater=we||z}F.prototype.isReactComponent={},F.prototype.setState=function(ee,Q){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error(R(85));this.updater.enqueueSetState(this,ee,Q,"setState")},F.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")},G.prototype=F.prototype;var D=q.prototype=new G;D.constructor=q,o(D,F.prototype),D.isPureReactComponent=!0;var V={current:null},ce=Object.prototype.hasOwnProperty,de={key:!0,ref:!0,__self:!0,__source:!0};function ie(ee,Q,we){var _,E={},P=null,H=null;if(Q!=null)for(_ in Q.ref!==void 0&&(H=Q.ref),Q.key!==void 0&&(P=""+Q.key),Q)ce.call(Q,_)&&!de.hasOwnProperty(_)&&(E[_]=Q[_]);var K=arguments.length-2;if(K===1)E.children=we;else if(1<K){for(var Y=Array(K),be=0;be<K;be++)Y[be]=arguments[be+2];E.children=Y}if(ee&&ee.defaultProps)for(_ in K=ee.defaultProps)E[_]===void 0&&(E[_]=K[_]);return{$$typeof:l,type:ee,key:P,ref:H,props:E,_owner:V.current}}function he(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===l}var ke=/\/+/g,ne=[];function pe(ee,Q,we,_){if(ne.length){var E=ne.pop();return E.result=ee,E.keyPrefix=Q,E.func=we,E.context=_,E.count=0,E}return{result:ee,keyPrefix:Q,func:we,context:_,count:0}}function B(ee){ee.result=null,ee.keyPrefix=null,ee.func=null,ee.context=null,ee.count=0,10>ne.length&&ne.push(ee)}function le(ee,Q,we){return ee==null?0:function _(E,P,H,K){var Y=typeof E;Y!=="undefined"&&Y!=="boolean"||(E=null);var be=!1;if(E===null)be=!0;else switch(Y){case"string":case"number":be=!0;break;case"object":switch(E.$$typeof){case l:case u:be=!0}}if(be)return H(K,E,P===""?"."+_e(E,0):P),1;if(be=0,P=P===""?".":P+":",Array.isArray(E))for(var We=0;We<E.length;We++){var Ve=P+_e(Y=E[We],We);be+=_(Y,Ve,H,K)}else if(E===null||typeof E!="object"?Ve=null:Ve=typeof(Ve=$&&E[$]||E["@@iterator"])=="function"?Ve:null,typeof Ve=="function")for(E=Ve.call(E),We=0;!(Y=E.next()).done;)be+=_(Y=Y.value,Ve=P+_e(Y,We++),H,K);else if(Y==="object")throw H=""+E,Error(R(31,H==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":H,""));return be}(ee,"",Q,we)}function _e(ee,Q){return typeof ee=="object"&&ee!==null&&ee.key!=null?function(we){var _={"=":"=0",":":"=2"};return"$"+(""+we).replace(/[=:]/g,function(E){return _[E]})}(ee.key):Q.toString(36)}function Re(ee,Q){ee.func.call(ee.context,Q,ee.count++)}function Ce(ee,Q,we){var _=ee.result,E=ee.keyPrefix;ee=ee.func.call(ee.context,Q,ee.count++),Array.isArray(ee)?Ne(ee,_,we,function(P){return P}):ee!=null&&(he(ee)&&(ee=function(P,H){return{$$typeof:l,type:P.type,key:H,ref:P.ref,props:P.props,_owner:P._owner}}(ee,E+(!ee.key||Q&&Q.key===ee.key?"":(""+ee.key).replace(ke,"$&/")+"/")+we)),_.push(ee))}function Ne(ee,Q,we,_,E){var P="";we!=null&&(P=(""+we).replace(ke,"$&/")+"/"),le(ee,Ce,Q=pe(Q,P,_,E)),B(Q)}var Ae={current:null};function Ue(){var ee=Ae.current;if(ee===null)throw Error(R(321));return ee}var dt={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:V,IsSomeRendererActing:{current:!1},assign:o};t.Children={map:function(ee,Q,we){if(ee==null)return ee;var _=[];return Ne(ee,_,null,Q,we),_},forEach:function(ee,Q,we){if(ee==null)return ee;le(ee,Re,Q=pe(null,null,Q,we)),B(Q)},count:function(ee){return le(ee,function(){return null},null)},toArray:function(ee){var Q=[];return Ne(ee,Q,null,function(we){return we}),Q},only:function(ee){if(!he(ee))throw Error(R(143));return ee}},t.Component=F,t.Fragment=d,t.Profiler=p,t.PureComponent=q,t.StrictMode=f,t.Suspense=L,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dt,t.cloneElement=function(ee,Q,we){if(ee==null)throw Error(R(267,ee));var _=o({},ee.props),E=ee.key,P=ee.ref,H=ee._owner;if(Q!=null){if(Q.ref!==void 0&&(P=Q.ref,H=V.current),Q.key!==void 0&&(E=""+Q.key),ee.type&&ee.type.defaultProps)var K=ee.type.defaultProps;for(Y in Q)ce.call(Q,Y)&&!de.hasOwnProperty(Y)&&(_[Y]=Q[Y]===void 0&&K!==void 0?K[Y]:Q[Y])}var Y=arguments.length-2;if(Y===1)_.children=we;else if(1<Y){K=Array(Y);for(var be=0;be<Y;be++)K[be]=arguments[be+2];_.children=K}return{$$typeof:l,type:ee.type,key:E,ref:P,props:_,_owner:H}},t.createContext=function(ee,Q){return Q===void 0&&(Q=null),(ee={$$typeof:v,_calculateChangedBits:Q,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:b,_context:ee},ee.Consumer=ee},t.createElement=ie,t.createFactory=function(ee){var Q=ie.bind(null,ee);return Q.type=ee,Q},t.createRef=function(){return{current:null}},t.forwardRef=function(ee){return{$$typeof:x,render:ee}},t.isValidElement=he,t.lazy=function(ee){return{$$typeof:N,_ctor:ee,_status:-1,_result:null}},t.memo=function(ee,Q){return{$$typeof:j,type:ee,compare:Q===void 0?null:Q}},t.useCallback=function(ee,Q){return Ue().useCallback(ee,Q)},t.useContext=function(ee,Q){return Ue().useContext(ee,Q)},t.useDebugValue=function(){},t.useEffect=function(ee,Q){return Ue().useEffect(ee,Q)},t.useImperativeHandle=function(ee,Q,we){return Ue().useImperativeHandle(ee,Q,we)},t.useLayoutEffect=function(ee,Q){return Ue().useLayoutEffect(ee,Q)},t.useMemo=function(ee,Q){return Ue().useMemo(ee,Q)},t.useReducer=function(ee,Q,we){return Ue().useReducer(ee,Q,we)},t.useRef=function(ee){return Ue().useRef(ee)},t.useState=function(ee){return Ue().useState(ee)},t.version="16.14.0"},function(e,t,r){var o=r(0),s=r(16),l=r(23);function u(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!o)throw Error(u(227));function d(a,c,h,m,w,C,S,M,te){var X=Array.prototype.slice.call(arguments,3);try{c.apply(h,X)}catch(ye){this.onError(ye)}}var f=!1,p=null,b=!1,v=null,x={onError:function(a){f=!0,p=a}};function L(a,c,h,m,w,C,S,M,te){f=!1,p=null,d.apply(x,arguments)}var j=null,N=null,$=null;function R(a,c,h){var m=a.type||"unknown-event";a.currentTarget=$(h),function(w,C,S,M,te,X,ye,Fe,Qe){if(L.apply(this,arguments),f){if(!f)throw Error(u(198));var vt=p;f=!1,p=null,b||(b=!0,v=vt)}}(m,c,void 0,a),a.currentTarget=null}var z=null,U={};function F(){if(z)for(var a in U){var c=U[a],h=z.indexOf(a);if(!(-1<h))throw Error(u(96,a));if(!q[h]){if(!c.extractEvents)throw Error(u(97,a));for(var m in q[h]=c,h=c.eventTypes){var w=void 0,C=h[m],S=c,M=m;if(D.hasOwnProperty(M))throw Error(u(99,M));D[M]=C;var te=C.phasedRegistrationNames;if(te){for(w in te)te.hasOwnProperty(w)&&G(te[w],S,M);w=!0}else C.registrationName?(G(C.registrationName,S,M),w=!0):w=!1;if(!w)throw Error(u(98,m,a))}}}}function G(a,c,h){if(V[a])throw Error(u(100,a));V[a]=c,ce[a]=c.eventTypes[h].dependencies}var q=[],D={},V={},ce={};function de(a){var c,h=!1;for(c in a)if(a.hasOwnProperty(c)){var m=a[c];if(!U.hasOwnProperty(c)||U[c]!==m){if(U[c])throw Error(u(102,c));U[c]=m,h=!0}}h&&F()}var ie=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),he=null,ke=null,ne=null;function pe(a){if(a=N(a)){if(typeof he!="function")throw Error(u(280));var c=a.stateNode;c&&(c=j(c),he(a.stateNode,a.type,c))}}function B(a){ke?ne?ne.push(a):ne=[a]:ke=a}function le(){if(ke){var a=ke,c=ne;if(ne=ke=null,pe(a),c)for(a=0;a<c.length;a++)pe(c[a])}}function _e(a,c){return a(c)}function Re(a,c,h,m,w){return a(c,h,m,w)}function Ce(){}var Ne=_e,Ae=!1,Ue=!1;function dt(){ke===null&&ne===null||(Ce(),le())}function ee(a,c,h){if(Ue)return a(c,h);Ue=!0;try{return Ne(a,c,h)}finally{Ue=!1,dt()}}var Q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,we=Object.prototype.hasOwnProperty,_={},E={};function P(a,c,h,m,w,C){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=m,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=a,this.type=c,this.sanitizeURL=C}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){H[a]=new P(a,0,!1,a,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];H[c]=new P(c,1,!1,a[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){H[a]=new P(a,2,!1,a.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){H[a]=new P(a,2,!1,a,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){H[a]=new P(a,3,!1,a.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(a){H[a]=new P(a,3,!0,a,null,!1)}),["capture","download"].forEach(function(a){H[a]=new P(a,4,!1,a,null,!1)}),["cols","rows","size","span"].forEach(function(a){H[a]=new P(a,6,!1,a,null,!1)}),["rowSpan","start"].forEach(function(a){H[a]=new P(a,5,!1,a.toLowerCase(),null,!1)});var K=/[\-:]([a-z])/g;function Y(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(K,Y);H[c]=new P(c,1,!1,a,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(K,Y);H[c]=new P(c,1,!1,a,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(K,Y);H[c]=new P(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(a){H[a]=new P(a,1,!1,a.toLowerCase(),null,!1)}),H.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(a){H[a]=new P(a,1,!1,a.toLowerCase(),null,!0)});var be=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function We(a,c,h,m){var w=H.hasOwnProperty(c)?H[c]:null;(w!==null?w.type===0:!m&&2<c.length&&(c[0]==="o"||c[0]==="O")&&(c[1]==="n"||c[1]==="N"))||(function(C,S,M,te){if(S==null||function(X,ye,Fe,Qe){if(Fe!==null&&Fe.type===0)return!1;switch(typeof ye){case"function":case"symbol":return!0;case"boolean":return!Qe&&(Fe!==null?!Fe.acceptsBooleans:(X=X.toLowerCase().slice(0,5))!=="data-"&&X!=="aria-");default:return!1}}(C,S,M,te))return!0;if(te)return!1;if(M!==null)switch(M.type){case 3:return!S;case 4:return S===!1;case 5:return isNaN(S);case 6:return isNaN(S)||1>S}return!1}(c,h,w,m)&&(h=null),m||w===null?function(C){return!!we.call(E,C)||!we.call(_,C)&&(Q.test(C)?E[C]=!0:(_[C]=!0,!1))}(c)&&(h===null?a.removeAttribute(c):a.setAttribute(c,""+h)):w.mustUseProperty?a[w.propertyName]=h===null?w.type!==3&&"":h:(c=w.attributeName,m=w.attributeNamespace,h===null?a.removeAttribute(c):(h=(w=w.type)===3||w===4&&h===!0?"":""+h,m?a.setAttributeNS(m,c,h):a.setAttribute(c,h))))}be.hasOwnProperty("ReactCurrentDispatcher")||(be.ReactCurrentDispatcher={current:null}),be.hasOwnProperty("ReactCurrentBatchConfig")||(be.ReactCurrentBatchConfig={suspense:null});var Ve=/^(.*)[\\\/]/,at=typeof Symbol=="function"&&Symbol.for,et=at?Symbol.for("react.element"):60103,pn=at?Symbol.for("react.portal"):60106,Yt=at?Symbol.for("react.fragment"):60107,jn=at?Symbol.for("react.strict_mode"):60108,Qt=at?Symbol.for("react.profiler"):60114,Vt=at?Symbol.for("react.provider"):60109,Xn=at?Symbol.for("react.context"):60110,lo=at?Symbol.for("react.concurrent_mode"):60111,an=at?Symbol.for("react.forward_ref"):60112,Dt=at?Symbol.for("react.suspense"):60113,ci=at?Symbol.for("react.suspense_list"):60120,Tr=at?Symbol.for("react.memo"):60115,Si=at?Symbol.for("react.lazy"):60116,co=at?Symbol.for("react.block"):60121,$s=typeof Symbol=="function"&&Symbol.iterator;function $n(a){return a===null||typeof a!="object"?null:typeof(a=$s&&a[$s]||a["@@iterator"])=="function"?a:null}function In(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Yt:return"Fragment";case pn:return"Portal";case Qt:return"Profiler";case jn:return"StrictMode";case Dt:return"Suspense";case ci:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Xn:return"Context.Consumer";case Vt:return"Context.Provider";case an:var c=a.render;return c=c.displayName||c.name||"",a.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case Tr:return In(a.type);case co:return In(a.render);case Si:if(a=a._status===1?a._result:null)return In(a)}return null}function uo(a){var c="";do{e:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var h="";break e;default:var m=a._debugOwner,w=a._debugSource,C=In(a.type);h=null,m&&(h=In(m.type)),m=C,C="",w?C=" (at "+w.fileName.replace(Ve,"")+":"+w.lineNumber+")":h&&(C=" (created by "+h+")"),h=`
    in `+(m||"Unknown")+C}c+=h,a=a.return}while(a);return c}function Nn(a){switch(typeof a){case"boolean":case"number":case"object":case"string":case"undefined":return a;default:return""}}function cr(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ho(a){a._valueTracker||(a._valueTracker=function(c){var h=cr(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),w=""+c[h];if(!c.hasOwnProperty(h)&&m!==void 0&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,S=m.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return C.call(this)},set:function(M){w=""+M,S.call(this,M)}}),Object.defineProperty(c,h,{enumerable:m.enumerable}),{getValue:function(){return w},setValue:function(M){w=""+M},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}(a))}function Ot(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),m="";return a&&(m=cr(a)?a.checked?"true":"false":a.value),(a=m)!==h&&(c.setValue(a),!0)}function fo(a,c){var h=c.checked;return s({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function ur(a,c){var h=c.defaultValue==null?"":c.defaultValue,m=c.checked!=null?c.checked:c.defaultChecked;h=Nn(c.value!=null?c.value:h),a._wrapperState={initialChecked:m,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function po(a,c){(c=c.checked)!=null&&We(a,"checked",c,!1)}function Pi(a,c){po(a,c);var h=Nn(c.value),m=c.type;if(h!=null)m==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(m==="submit"||m==="reset")return void a.removeAttribute("value");c.hasOwnProperty("value")?Sr(a,c.type,h):c.hasOwnProperty("defaultValue")&&Sr(a,c.type,Nn(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function Ai(a,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var m=c.type;if(!(m!=="submit"&&m!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,h||c===a.value||(a.value=c),a.defaultValue=c}(h=a.name)!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Sr(a,c,h){c==="number"&&a.ownerDocument.activeElement===a||(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}function Oi(a,c){return a=s({children:void 0},c),(c=function(h){var m="";return o.Children.forEach(h,function(w){w!=null&&(m+=w)}),m}(c.children))&&(a.children=c),a}function Pr(a,c,h,m){if(a=a.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<a.length;h++)w=c.hasOwnProperty("$"+a[h].value),a[h].selected!==w&&(a[h].selected=w),w&&m&&(a[h].defaultSelected=!0)}else{for(h=""+Nn(h),c=null,w=0;w<a.length;w++){if(a[w].value===h)return a[w].selected=!0,void(m&&(a[w].defaultSelected=!0));c!==null||a[w].disabled||(c=a[w])}c!==null&&(c.selected=!0)}}function Mi(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(u(91));return s({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ar(a,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(u(92));if(Array.isArray(h)){if(!(1>=h.length))throw Error(u(93));h=h[0]}c=h}c==null&&(c=""),h=c}a._wrapperState={initialValue:Nn(h)}}function Jo(a,c){var h=Nn(c.value),m=Nn(c.defaultValue);h!=null&&((h=""+h)!==a.value&&(a.value=h),c.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),m!=null&&(a.defaultValue=""+m)}function Qo(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}var J="http://www.w3.org/1999/xhtml",ue="http://www.w3.org/2000/svg";function xe(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?xe(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var kt,rt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,m,w){MSApp.execUnsafeLocalFunction(function(){return a(c,h)})}:a}(function(a,c){if(a.namespaceURI!==ue||"innerHTML"in a)a.innerHTML=c;else{for((kt=kt||document.createElement("div")).innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=kt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function xt(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3)return void(h.nodeValue=c)}a.textContent=c}function bt(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var ln={animationend:bt("Animation","AnimationEnd"),animationiteration:bt("Animation","AnimationIteration"),animationstart:bt("Animation","AnimationStart"),transitionend:bt("Transition","TransitionEnd")},wt={},zt={};function cn(a){if(wt[a])return wt[a];if(!ln[a])return a;var c,h=ln[a];for(c in h)if(h.hasOwnProperty(c)&&c in zt)return wt[a]=h[c];return a}ie&&(zt=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);var Wn=cn("animationend"),Lt=cn("animationiteration"),An=cn("animationstart"),Or=cn("transitionend"),Tt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dr=new(typeof WeakMap=="function"?WeakMap:Map);function er(a){var c=dr.get(a);return c===void 0&&(c=new Map,dr.set(a,c)),c}function Mr(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do 1026&(c=a).effectTag&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function Ws(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate)!==null&&(c=a.memoizedState),c!==null)return c.dehydrated}return null}function Hs(a){if(Mr(a)!==a)throw Error(u(188))}function yt(a){if(!(a=function(h){var m=h.alternate;if(!m){if((m=Mr(h))===null)throw Error(u(188));return m!==h?null:h}for(var w=h,C=m;;){var S=w.return;if(S===null)break;var M=S.alternate;if(M===null){if((C=S.return)!==null){w=C;continue}break}if(S.child===M.child){for(M=S.child;M;){if(M===w)return Hs(S),h;if(M===C)return Hs(S),m;M=M.sibling}throw Error(u(188))}if(w.return!==C.return)w=S,C=M;else{for(var te=!1,X=S.child;X;){if(X===w){te=!0,w=S,C=M;break}if(X===C){te=!0,C=S,w=M;break}X=X.sibling}if(!te){for(X=M.child;X;){if(X===w){te=!0,w=M,C=S;break}if(X===C){te=!0,C=M,w=S;break}X=X.sibling}if(!te)throw Error(u(189))}}if(w.alternate!==C)throw Error(u(190))}if(w.tag!==3)throw Error(u(188));return w.stateNode.current===w?h:m}(a)))return null;for(var c=a;;){if(c.tag===5||c.tag===6)return c;if(c.child)c.child.return=c,c=c.child;else{if(c===a)break;for(;!c.sibling;){if(!c.return||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}}return null}function Ke(a,c){if(c==null)throw Error(u(30));return a==null?c:Array.isArray(a)?Array.isArray(c)?(a.push.apply(a,c),a):(a.push(c),a):Array.isArray(c)?[a].concat(c):[a,c]}function ui(a,c,h){Array.isArray(a)?a.forEach(c,h):a&&c.call(h,a)}var Dn=null;function mo(a){if(a){var c=a._dispatchListeners,h=a._dispatchInstances;if(Array.isArray(c))for(var m=0;m<c.length&&!a.isPropagationStopped();m++)R(a,c[m],h[m]);else c&&R(a,c,h);a._dispatchListeners=null,a._dispatchInstances=null,a.isPersistent()||a.constructor.release(a)}}function mn(a){if(a!==null&&(Dn=Ke(Dn,a)),a=Dn,Dn=null,a){if(ui(a,mo),Dn)throw Error(u(95));if(b)throw a=v,b=!1,v=null,a}}function Hn(a){return(a=a.target||a.srcElement||window).correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}function On(a){if(!ie)return!1;var c=(a="on"+a)in document;return c||((c=document.createElement("div")).setAttribute(a,"return;"),c=typeof c[a]=="function"),c}var Ln=[];function Ri(a){a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>Ln.length&&Ln.push(a)}function Rr(a,c,h,m){if(Ln.length){var w=Ln.pop();return w.topLevelType=a,w.eventSystemFlags=m,w.nativeEvent=c,w.targetInst=h,w}return{topLevelType:a,eventSystemFlags:m,nativeEvent:c,targetInst:h,ancestors:[]}}function Un(a){var c=a.targetInst,h=c;do{if(!h){a.ancestors.push(h);break}var m=h;if(m.tag===3)m=m.stateNode.containerInfo;else{for(;m.return;)m=m.return;m=m.tag!==3?null:m.stateNode.containerInfo}if(!m)break;(c=h.tag)!==5&&c!==6||a.ancestors.push(h),h=ko(m)}while(h);for(h=0;h<a.ancestors.length;h++){c=a.ancestors[h];var w=Hn(a.nativeEvent);m=a.topLevelType;var C=a.nativeEvent,S=a.eventSystemFlags;h===0&&(S|=64);for(var M=null,te=0;te<q.length;te++){var X=q[te];X&&(X=X.extractEvents(m,c,C,w,S))&&(M=Ke(M,X))}mn(M)}}function jt(a,c,h){if(!h.has(a)){switch(a){case"scroll":es(c,"scroll",!0);break;case"focus":case"blur":es(c,"focus",!0),es(c,"blur",!0),h.set("blur",null),h.set("focus",null);break;case"cancel":case"close":On(a)&&es(c,a,!0);break;case"invalid":case"submit":case"reset":break;default:Tt.indexOf(a)===-1&&Bt(a,c)}h.set(a,null)}}var Xt,Ii,Ni,hr=!1,kn=[],Mn=null,qn=null,di=null,Di=new Map,Xo=new Map,go=[],Kr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),un="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Us(a,c,h,m,w){return{blockedOn:a,topLevelType:c,eventSystemFlags:32|h,nativeEvent:w,container:m}}function fr(a,c){switch(a){case"focus":case"blur":Mn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Di.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(c.pointerId)}}function bo(a,c,h,m,w,C){return a===null||a.nativeEvent!==C?(a=Us(c,h,m,w,C),c!==null&&(c=os(c))!==null&&Ii(c),a):(a.eventSystemFlags|=m,a)}function cd(a){var c=ko(a.target);if(c!==null){var h=Mr(c);if(h!==null){if((c=h.tag)===13){if((c=Ws(h))!==null)return a.blockedOn=c,void l.unstable_runWithPriority(a.priority,function(){Ni(h)})}else if(c===3&&h.stateNode.hydrate)return void(a.blockedOn=h.tag===3?h.stateNode.containerInfo:null)}}a.blockedOn=null}function qs(a){if(a.blockedOn!==null)return!1;var c=vo(a.topLevelType,a.eventSystemFlags,a.container,a.nativeEvent);if(c!==null){var h=os(c);return h!==null&&Ii(h),a.blockedOn=c,!1}return!0}function sc(a,c,h){qs(a)&&h.delete(c)}function ac(){for(hr=!1;0<kn.length;){var a=kn[0];if(a.blockedOn!==null){(a=os(a.blockedOn))!==null&&Xt(a);break}var c=vo(a.topLevelType,a.eventSystemFlags,a.container,a.nativeEvent);c!==null?a.blockedOn=c:kn.shift()}Mn!==null&&qs(Mn)&&(Mn=null),qn!==null&&qs(qn)&&(qn=null),di!==null&&qs(di)&&(di=null),Di.forEach(sc),Xo.forEach(sc)}function wo(a,c){a.blockedOn===c&&(a.blockedOn=null,hr||(hr=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ac)))}function Li(a){function c(w){return wo(w,a)}if(0<kn.length){wo(kn[0],a);for(var h=1;h<kn.length;h++){var m=kn[h];m.blockedOn===a&&(m.blockedOn=null)}}for(Mn!==null&&wo(Mn,a),qn!==null&&wo(qn,a),di!==null&&wo(di,a),Di.forEach(c),Xo.forEach(c),h=0;h<go.length;h++)(m=go[h]).blockedOn===a&&(m.blockedOn=null);for(;0<go.length&&(h=go[0]).blockedOn===null;)cd(h),h.blockedOn===null&&go.shift()}var lc={},cc=new Map,yo=new Map,ud=["abort","abort",Wn,"animationEnd",Lt,"animationIteration",An,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Or,"transitionEnd","waiting","waiting"];function $a(a,c){for(var h=0;h<a.length;h+=2){var m=a[h],w=a[h+1],C="on"+(w[0].toUpperCase()+w.slice(1));C={phasedRegistrationNames:{bubbled:C,captured:C+"Capture"},dependencies:[m],eventPriority:c},yo.set(m,c),cc.set(m,C),lc[w]=C}}$a("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),$a("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),$a(ud,2);for(var uc="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wa=0;Wa<uc.length;Wa++)yo.set(uc[Wa],0);var dd=l.unstable_UserBlockingPriority,hd=l.unstable_runWithPriority,Ks=!0;function Bt(a,c){es(c,a,!1)}function es(a,c,h){var m=yo.get(c);switch(m===void 0?2:m){case 0:m=ts.bind(null,c,1,a);break;case 1:m=fd.bind(null,c,1,a);break;default:m=Gs.bind(null,c,1,a)}h?a.addEventListener(c,m,!0):a.addEventListener(c,m,!1)}function ts(a,c,h,m){Ae||Ce();var w=Gs,C=Ae;Ae=!0;try{Re(w,a,c,h,m)}finally{(Ae=C)||dt()}}function fd(a,c,h,m){hd(dd,Gs.bind(null,a,c,h,m))}function Gs(a,c,h,m){if(Ks)if(0<kn.length&&-1<Kr.indexOf(a))a=Us(null,a,c,h,m),kn.push(a);else{var w=vo(a,c,h,m);if(w===null)fr(a,m);else if(-1<Kr.indexOf(a))a=Us(w,a,c,h,m),kn.push(a);else if(!function(C,S,M,te,X){switch(S){case"focus":return Mn=bo(Mn,C,S,M,te,X),!0;case"dragenter":return qn=bo(qn,C,S,M,te,X),!0;case"mouseover":return di=bo(di,C,S,M,te,X),!0;case"pointerover":var ye=X.pointerId;return Di.set(ye,bo(Di.get(ye)||null,C,S,M,te,X)),!0;case"gotpointercapture":return ye=X.pointerId,Xo.set(ye,bo(Xo.get(ye)||null,C,S,M,te,X)),!0}return!1}(w,a,c,h,m)){fr(a,m),a=Rr(a,m,null,c);try{ee(Un,a)}finally{Ri(a)}}}}function vo(a,c,h,m){if((h=ko(h=Hn(m)))!==null){var w=Mr(h);if(w===null)h=null;else{var C=w.tag;if(C===13){if((h=Ws(w))!==null)return h;h=null}else if(C===3){if(w.stateNode.hydrate)return w.tag===3?w.stateNode.containerInfo:null;h=null}else w!==h&&(h=null)}}a=Rr(a,m,h,c);try{ee(Un,a)}finally{Ri(a)}return null}var ns={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pd=["Webkit","ms","Moz","O"];function dc(a,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||ns.hasOwnProperty(a)&&ns[a]?(""+c).trim():c+"px"}function hc(a,c){for(var h in a=a.style,c)if(c.hasOwnProperty(h)){var m=h.indexOf("--")===0,w=dc(h,c[h],m);h==="float"&&(h="cssFloat"),m?a.setProperty(h,w):a[h]=w}}Object.keys(ns).forEach(function(a){pd.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),ns[c]=ns[a]})});var fc=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ha(a,c){if(c){if(fc[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(u(137,a,""));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(u(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(u(61))}if(c.style!=null&&typeof c.style!="object")throw Error(u(62,""))}}function Ua(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=J;function Gr(a,c){var h=er(a=a.nodeType===9||a.nodeType===11?a:a.ownerDocument);c=ce[c];for(var m=0;m<c.length;m++)jt(c[m],a,h)}function Zs(){}function qa(a){if((a=a||(typeof document<"u"?document:void 0))===void 0)return null;try{return a.activeElement||a.body}catch{return a.body}}function mc(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function gc(a,c){var h,m=mc(a);for(a=0;m;){if(m.nodeType===3){if(h=a+m.textContent.length,a<=c&&h>=c)return{node:m,offset:c-a};a=h}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=mc(m)}}function bc(){for(var a=window,c=qa();c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(!h)break;c=qa((a=c.contentWindow).document)}return c}function Ka(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var Ga=null,Za=null;function wc(a,c){switch(a){case"button":case"input":case"select":case"textarea":return!!c.autoFocus}return!1}function Ya(a,c){return a==="textarea"||a==="option"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ja=typeof setTimeout=="function"?setTimeout:void 0,yc=typeof clearTimeout=="function"?clearTimeout:void 0;function _o(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break}return a}function vc(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),hi="__reactInternalInstance$"+Ys,rs="__reactEventHandlers$"+Ys,is="__reactContainere$"+Ys;function ko(a){var c=a[hi];if(c)return c;for(var h=a.parentNode;h;){if(c=h[is]||h[hi]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=vc(a);a!==null;){if(h=a[hi])return h;a=vc(a)}return c}h=(a=h).parentNode}return null}function os(a){return!(a=a[hi]||a[is])||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function fi(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(u(33))}function Qa(a){return a[rs]||null}function Ir(a){do a=a.return;while(a&&a.tag!==5);return a||null}function _c(a,c){var h=a.stateNode;if(!h)return null;var m=j(h);if(!m)return null;h=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(m=!((a=a.type)==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(u(231,c,typeof h));return h}function kc(a,c,h){(c=_c(a,h.dispatchConfig.phasedRegistrationNames[c]))&&(h._dispatchListeners=Ke(h._dispatchListeners,c),h._dispatchInstances=Ke(h._dispatchInstances,a))}function md(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var c=a._targetInst,h=[];c;)h.push(c),c=Ir(c);for(c=h.length;0<c--;)kc(h[c],"captured",a);for(c=0;c<h.length;c++)kc(h[c],"bubbled",a)}}function Js(a,c,h){a&&h&&h.dispatchConfig.registrationName&&(c=_c(a,h.dispatchConfig.registrationName))&&(h._dispatchListeners=Ke(h._dispatchListeners,c),h._dispatchInstances=Ke(h._dispatchInstances,a))}function gd(a){a&&a.dispatchConfig.registrationName&&Js(a._targetInst,null,a)}function Eo(a){ui(a,md)}var Bi=null,Xa=null,Qs=null;function Ec(){if(Qs)return Qs;var a,c,h=Xa,m=h.length,w="value"in Bi?Bi.value:Bi.textContent,C=w.length;for(a=0;a<m&&h[a]===w[a];a++);var S=m-a;for(c=1;c<=S&&h[m-c]===w[C-c];c++);return Qs=w.slice(a,1<c?1-c:void 0)}function Xs(){return!0}function ea(){return!1}function Kn(a,c,h,m){for(var w in this.dispatchConfig=a,this._targetInst=c,this.nativeEvent=h,a=this.constructor.Interface)a.hasOwnProperty(w)&&((c=a[w])?this[w]=c(h):w==="target"?this.target=m:this[w]=h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Xs:ea,this.isPropagationStopped=ea,this}function xc(a,c,h,m){if(this.eventPool.length){var w=this.eventPool.pop();return this.call(w,a,c,h,m),w}return new this(a,c,h,m)}function tt(a){if(!(a instanceof this))throw Error(u(279));a.destructor(),10>this.eventPool.length&&this.eventPool.push(a)}function A(a){a.eventPool=[],a.getPooled=xc,a.release=tt}s(Kn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){this.isPersistent=Xs},isPersistent:ea,destructor:function(){var a,c=this.constructor.Interface;for(a in c)this[a]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ea,this._dispatchInstances=this._dispatchListeners=null}}),Kn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kn.extend=function(a){function c(){}function h(){return m.apply(this,arguments)}var m=this;c.prototype=m.prototype;var w=new c;return s(w,h.prototype),h.prototype=w,h.prototype.constructor=h,h.Interface=s({},m.Interface,a),h.extend=m.extend,A(h),h},A(Kn);var y=Kn.extend({data:null}),k=Kn.extend({data:null}),T=[9,13,27,32],O=ie&&"CompositionEvent"in window,I=null;ie&&"documentMode"in document&&(I=document.documentMode);var W=ie&&"TextEvent"in window&&!I,oe=ie&&(!O||I&&8<I&&11>=I),me=" ",ge={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Te=!1;function Be(a,c){switch(a){case"keyup":return T.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ye(a){return typeof(a=a.detail)=="object"&&"data"in a?a.data:null}var ze=!1,it={eventTypes:ge,extractEvents:function(a,c,h,m){var w;if(O)e:{switch(a){case"compositionstart":var C=ge.compositionStart;break e;case"compositionend":C=ge.compositionEnd;break e;case"compositionupdate":C=ge.compositionUpdate;break e}C=void 0}else ze?Be(a,h)&&(C=ge.compositionEnd):a==="keydown"&&h.keyCode===229&&(C=ge.compositionStart);return C?(oe&&h.locale!=="ko"&&(ze||C!==ge.compositionStart?C===ge.compositionEnd&&ze&&(w=Ec()):(Xa="value"in(Bi=m)?Bi.value:Bi.textContent,ze=!0)),C=y.getPooled(C,c,h,m),(w||(w=Ye(h))!==null)&&(C.data=w),Eo(C),w=C):w=null,(a=W?function(S,M){switch(S){case"compositionend":return Ye(M);case"keypress":return M.which!==32?null:(Te=!0,me);case"textInput":return(S=M.data)===me&&Te?null:S;default:return null}}(a,h):function(S,M){if(ze)return S==="compositionend"||!O&&Be(S,M)?(S=Ec(),Qs=Xa=Bi=null,ze=!1,S):null;switch(S){case"paste":return null;case"keypress":if(!(M.ctrlKey||M.altKey||M.metaKey)||M.ctrlKey&&M.altKey){if(M.char&&1<M.char.length)return M.char;if(M.which)return String.fromCharCode(M.which)}return null;case"compositionend":return oe&&M.locale!=="ko"?null:M.data;default:return null}}(a,h))?((c=k.getPooled(ge.beforeInput,c,h,m)).data=a,Eo(c)):c=null,w===null?c:c===null?w:[w,c]}},$e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ge(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!$e[a.type]:c==="textarea"}var mt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function nt(a,c,h){return(a=Kn.getPooled(mt.change,a,c,h)).type="change",B(h),Eo(a),a}var qe=null,Rt=null;function dn(a){mn(a)}function gn(a){if(Ot(fi(a)))return a}function bn(a,c){if(a==="change")return c}var en=!1;function wn(){qe&&(qe.detachEvent("onpropertychange",It),Rt=qe=null)}function It(a){if(a.propertyName==="value"&&gn(Rt))if(a=nt(Rt,a,Hn(a)),Ae)mn(a);else{Ae=!0;try{_e(dn,a)}finally{Ae=!1,dt()}}}function Nr(a,c,h){a==="focus"?(wn(),Rt=h,(qe=c).attachEvent("onpropertychange",It)):a==="blur"&&wn()}function Ct(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return gn(Rt)}function Dr(a,c){if(a==="click")return gn(c)}function Zr(a,c){if(a==="input"||a==="change")return gn(c)}ie&&(en=On("input")&&(!document.documentMode||9<document.documentMode));var xo={eventTypes:mt,_isInputEventSupported:en,extractEvents:function(a,c,h,m){var w=c?fi(c):window,C=w.nodeName&&w.nodeName.toLowerCase();if(C==="select"||C==="input"&&w.type==="file")var S=bn;else if(Ge(w))if(en)S=Zr;else{S=Ct;var M=Nr}else(C=w.nodeName)&&C.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(S=Dr);if(S&&(S=S(a,c)))return nt(S,h,m);M&&M(a,w,c),a==="blur"&&(a=w._wrapperState)&&a.controlled&&w.type==="number"&&Sr(w,"number",w.value)}},tn=Kn.extend({view:null,detail:null}),ss={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lr(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):!!(a=ss[a])&&!!c[a]}function Rn(){return Lr}var tr=0,pi=0,Bn=!1,nr=!1,Co=tn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Rn,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if("movementX"in a)return a.movementX;var c=tr;return tr=a.screenX,Bn?a.type==="mousemove"?a.screenX-c:0:(Bn=!0,0)},movementY:function(a){if("movementY"in a)return a.movementY;var c=pi;return pi=a.screenY,nr?a.type==="mousemove"?a.screenY-c:0:(nr=!0,0)}}),el=Co.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),To={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ta={eventTypes:To,extractEvents:function(a,c,h,m,w){var C=a==="mouseover"||a==="pointerover",S=a==="mouseout"||a==="pointerout";if(C&&!(32&w)&&(h.relatedTarget||h.fromElement)||!S&&!C||(C=m.window===m?m:(C=m.ownerDocument)?C.defaultView||C.parentWindow:window,S?(S=c,(c=(c=h.relatedTarget||h.toElement)?ko(c):null)!==null&&(c!==Mr(c)||c.tag!==5&&c.tag!==6)&&(c=null)):S=null,S===c))return null;if(a==="mouseout"||a==="mouseover")var M=Co,te=To.mouseLeave,X=To.mouseEnter,ye="mouse";else a!=="pointerout"&&a!=="pointerover"||(M=el,te=To.pointerLeave,X=To.pointerEnter,ye="pointer");if(a=S==null?C:fi(S),C=c==null?C:fi(c),(te=M.getPooled(te,S,h,m)).type=ye+"leave",te.target=a,te.relatedTarget=C,(h=M.getPooled(X,c,h,m)).type=ye+"enter",h.target=C,h.relatedTarget=a,ye=c,(m=S)&&ye)e:{for(X=ye,S=0,a=M=m;a;a=Ir(a))S++;for(a=0,c=X;c;c=Ir(c))a++;for(;0<S-a;)M=Ir(M),S--;for(;0<a-S;)X=Ir(X),a--;for(;S--;){if(M===X||M===X.alternate)break e;M=Ir(M),X=Ir(X)}M=null}else M=null;for(X=M,M=[];m&&m!==X&&((S=m.alternate)===null||S!==X);)M.push(m),m=Ir(m);for(m=[];ye&&ye!==X&&((S=ye.alternate)===null||S!==X);)m.push(ye),ye=Ir(ye);for(ye=0;ye<M.length;ye++)Js(M[ye],"bubbled",te);for(ye=m.length;0<ye--;)Js(m[ye],"captured",h);return 64&w?[te,h]:[te]}},Fi=typeof Object.is=="function"?Object.is:function(a,c){return a===c&&(a!==0||1/a==1/c)||a!=a&&c!=c},Cc=Object.prototype.hasOwnProperty;function Vi(a,c){if(Fi(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),m=Object.keys(c);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++)if(!Cc.call(c,h[m])||!Fi(a[h[m]],c[h[m]]))return!1;return!0}var na=ie&&"documentMode"in document&&11>=document.documentMode,tl={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},mi=null,as=null,pr=null,ls=!1;function np(a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;return ls||mi==null||mi!==qa(h)?null:("selectionStart"in(h=mi)&&Ka(h)?h={start:h.selectionStart,end:h.selectionEnd}:h={anchorNode:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset},pr&&Vi(pr,h)?null:(pr=h,(a=Kn.getPooled(tl.select,as,a,c)).type="select",a.target=mi,Eo(a),a))}var Uw={eventTypes:tl,extractEvents:function(a,c,h,m,w,C){if(!(C=!(w=C||(m.window===m?m.document:m.nodeType===9?m:m.ownerDocument)))){e:{w=er(w),C=ce.onSelect;for(var S=0;S<C.length;S++)if(!w.has(C[S])){w=!1;break e}w=!0}C=!w}if(C)return null;switch(w=c?fi(c):window,a){case"focus":(Ge(w)||w.contentEditable==="true")&&(mi=w,as=c,pr=null);break;case"blur":pr=as=mi=null;break;case"mousedown":ls=!0;break;case"contextmenu":case"mouseup":case"dragend":return ls=!1,np(h,m);case"selectionchange":if(na)break;case"keydown":case"keyup":return np(h,m)}return null}},qw=Kn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kw=Kn.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Gw=tn.extend({relatedTarget:null});function Tc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode)===0&&c===13&&(a=13):a=c,a===10&&(a=13),32<=a||a===13?a:0}var Zw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jw=tn.extend({key:function(a){if(a.key){var c=Zw[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Tc(a))===13?"Enter":String.fromCharCode(a):a.type==="keydown"||a.type==="keyup"?Yw[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Rn,charCode:function(a){return a.type==="keypress"?Tc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Tc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Qw=Co.extend({dataTransfer:null}),Xw=tn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Rn}),ey=Kn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ty=Co.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),ny={eventTypes:lc,extractEvents:function(a,c,h,m){var w=cc.get(a);if(!w)return null;switch(a){case"keypress":if(Tc(h)===0)return null;case"keydown":case"keyup":a=Jw;break;case"blur":case"focus":a=Gw;break;case"click":if(h.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=Qw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=Xw;break;case Wn:case Lt:case An:a=qw;break;case Or:a=ey;break;case"scroll":a=tn;break;case"wheel":a=ty;break;case"copy":case"cut":case"paste":a=Kw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=el;break;default:a=Kn}return Eo(c=a.getPooled(w,c,h,m)),c}};if(z)throw Error(u(101));z=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),F(),j=Qa,N=os,$=fi,de({SimpleEventPlugin:ny,EnterLeaveEventPlugin:ta,ChangeEventPlugin:xo,SelectEventPlugin:Uw,BeforeInputEventPlugin:it});var bd=[],ra=-1;function Kt(a){0>ra||(a.current=bd[ra],bd[ra]=null,ra--)}function nn(a,c){ra++,bd[ra]=a.current,a.current=c}var So={},Fn={current:So},rr={current:!1},cs=So;function ia(a,c){var h=a.type.contextTypes;if(!h)return So;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===c)return m.__reactInternalMemoizedMaskedChildContext;var w,C={};for(w in h)C[w]=c[w];return m&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=C),C}function ir(a){return(a=a.childContextTypes)!=null}function Sc(){Kt(rr),Kt(Fn)}function rp(a,c,h){if(Fn.current!==So)throw Error(u(168));nn(Fn,c),nn(rr,h)}function ip(a,c,h){var m=a.stateNode;if(a=c.childContextTypes,typeof m.getChildContext!="function")return h;for(var w in m=m.getChildContext())if(!(w in a))throw Error(u(108,In(c)||"Unknown",w));return s({},h,{},m)}function Pc(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||So,cs=Fn.current,nn(Fn,a),nn(rr,rr.current),!0}function op(a,c,h){var m=a.stateNode;if(!m)throw Error(u(169));h?(a=ip(a,c,cs),m.__reactInternalMemoizedMergedChildContext=a,Kt(rr),Kt(Fn),nn(Fn,a)):Kt(rr),nn(rr,h)}var ry=l.unstable_runWithPriority,wd=l.unstable_scheduleCallback,sp=l.unstable_cancelCallback,ap=l.unstable_requestPaint,yd=l.unstable_now,iy=l.unstable_getCurrentPriorityLevel,Ac=l.unstable_ImmediatePriority,lp=l.unstable_UserBlockingPriority,cp=l.unstable_NormalPriority,up=l.unstable_LowPriority,dp=l.unstable_IdlePriority,hp={},oy=l.unstable_shouldYield,sy=ap!==void 0?ap:function(){},zi=null,Oc=null,vd=!1,fp=yd(),Br=1e4>fp?yd:function(){return yd()-fp};function Mc(){switch(iy()){case Ac:return 99;case lp:return 98;case cp:return 97;case up:return 96;case dp:return 95;default:throw Error(u(332))}}function pp(a){switch(a){case 99:return Ac;case 98:return lp;case 97:return cp;case 96:return up;case 95:return dp;default:throw Error(u(332))}}function Po(a,c){return a=pp(a),ry(a,c)}function mp(a,c,h){return a=pp(a),wd(a,c,h)}function gp(a){return zi===null?(zi=[a],Oc=wd(Ac,bp)):zi.push(a),hp}function gi(){if(Oc!==null){var a=Oc;Oc=null,sp(a)}bp()}function bp(){if(!vd&&zi!==null){vd=!0;var a=0;try{var c=zi;Po(99,function(){for(;a<c.length;a++){var h=c[a];do h=h(!0);while(h!==null)}}),zi=null}catch(h){throw zi!==null&&(zi=zi.slice(a+1)),wd(Ac,gi),h}finally{vd=!1}}}function Rc(a,c,h){return 1073741821-(1+((1073741821-a+c/10)/(h/=10)|0))*h}function Yr(a,c){if(a&&a.defaultProps)for(var h in c=s({},c),a=a.defaultProps)c[h]===void 0&&(c[h]=a[h]);return c}var Ic={current:null},Nc=null,oa=null,Dc=null;function _d(){Dc=oa=Nc=null}function kd(a){var c=Ic.current;Kt(Ic),a.type._context._currentValue=c}function wp(a,c){for(;a!==null;){var h=a.alternate;if(a.childExpirationTime<c)a.childExpirationTime=c,h!==null&&h.childExpirationTime<c&&(h.childExpirationTime=c);else{if(!(h!==null&&h.childExpirationTime<c))break;h.childExpirationTime=c}a=a.return}}function sa(a,c){Nc=a,Dc=oa=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.expirationTime>=c&&(wi=!0),a.firstContext=null)}function Fr(a,c){if(Dc!==a&&c!==!1&&c!==0)if(typeof c=="number"&&c!==1073741823||(Dc=a,c=1073741823),c={context:a,observedBits:c,next:null},oa===null){if(Nc===null)throw Error(u(308));oa=c,Nc.dependencies={expirationTime:0,firstContext:c,responders:null}}else oa=oa.next=c;return a._currentValue}var Ao=!1;function Ed(a){a.updateQueue={baseState:a.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function xd(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,baseQueue:a.baseQueue,shared:a.shared,effects:a.effects})}function Oo(a,c){return(a={expirationTime:a,suspenseConfig:c,tag:0,payload:null,callback:null,next:null}).next=a}function Mo(a,c){if((a=a.updateQueue)!==null){var h=(a=a.shared).pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}}function yp(a,c){var h=a.alternate;h!==null&&xd(h,a),(h=(a=a.updateQueue).baseQueue)===null?(a.baseQueue=c.next=c,c.next=c):(c.next=h.next,h.next=c)}function nl(a,c,h,m){var w=a.updateQueue;Ao=!1;var C=w.baseQueue,S=w.shared.pending;if(S!==null){if(C!==null){var M=C.next;C.next=S.next,S.next=M}C=S,w.shared.pending=null,(M=a.alternate)!==null&&(M=M.updateQueue)!==null&&(M.baseQueue=S)}if(C!==null){M=C.next;var te=w.baseState,X=0,ye=null,Fe=null,Qe=null;if(M!==null)for(var vt=M;;){if((S=vt.expirationTime)<m){var jr={expirationTime:vt.expirationTime,suspenseConfig:vt.suspenseConfig,tag:vt.tag,payload:vt.payload,callback:vt.callback,next:null};Qe===null?(Fe=Qe=jr,ye=te):Qe=Qe.next=jr,S>X&&(X=S)}else{Qe!==null&&(Qe=Qe.next={expirationTime:1073741823,suspenseConfig:vt.suspenseConfig,tag:vt.tag,payload:vt.payload,callback:vt.callback,next:null}),pm(S,vt.suspenseConfig);e:{var Zn=a,se=vt;switch(S=c,jr=h,se.tag){case 1:if(typeof(Zn=se.payload)=="function"){te=Zn.call(jr,te,S);break e}te=Zn;break e;case 3:Zn.effectTag=-4097&Zn.effectTag|64;case 0:if((S=typeof(Zn=se.payload)=="function"?Zn.call(jr,te,S):Zn)==null)break e;te=s({},te,S);break e;case 2:Ao=!0}}vt.callback!==null&&(a.effectTag|=32,(S=w.effects)===null?w.effects=[vt]:S.push(vt))}if((vt=vt.next)===null||vt===M){if((S=w.shared.pending)===null)break;vt=C.next=S.next,S.next=M,w.baseQueue=C=S,w.shared.pending=null}}Qe===null?ye=te:Qe.next=Fe,w.baseState=ye,w.baseQueue=Qe,au(X),a.expirationTime=X,a.memoizedState=te}}function vp(a,c,h){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var m=a[c],w=m.callback;if(w!==null){if(m.callback=null,m=w,w=h,typeof m!="function")throw Error(u(191,m));m.call(w)}}}var rl=be.ReactCurrentBatchConfig,_p=new o.Component().refs;function Lc(a,c,h,m){h=(h=h(m,c=a.memoizedState))==null?c:s({},c,h),a.memoizedState=h,a.expirationTime===0&&(a.updateQueue.baseState=h)}var Bc={isMounted:function(a){return!!(a=a._reactInternalFiber)&&Mr(a)===a},enqueueSetState:function(a,c,h){a=a._reactInternalFiber;var m=yi(),w=rl.suspense;(w=Oo(m=ms(m,a,w),w)).payload=c,h!=null&&(w.callback=h),Mo(a,w),Do(a,m)},enqueueReplaceState:function(a,c,h){a=a._reactInternalFiber;var m=yi(),w=rl.suspense;(w=Oo(m=ms(m,a,w),w)).tag=1,w.payload=c,h!=null&&(w.callback=h),Mo(a,w),Do(a,m)},enqueueForceUpdate:function(a,c){a=a._reactInternalFiber;var h=yi(),m=rl.suspense;(m=Oo(h=ms(h,a,m),m)).tag=2,c!=null&&(m.callback=c),Mo(a,m),Do(a,h)}};function kp(a,c,h,m,w,C,S){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,C,S):!c.prototype||!c.prototype.isPureReactComponent||!Vi(h,m)||!Vi(w,C)}function Ep(a,c,h){var m=!1,w=So,C=c.contextType;return typeof C=="object"&&C!==null?C=Fr(C):(w=ir(c)?cs:Fn.current,C=(m=(m=c.contextTypes)!=null)?ia(a,w):So),c=new c(h,C),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Bc,a.stateNode=c,c._reactInternalFiber=a,m&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=w,a.__reactInternalMemoizedMaskedChildContext=C),c}function xp(a,c,h,m){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,m),c.state!==a&&Bc.enqueueReplaceState(c,c.state,null)}function Cd(a,c,h,m){var w=a.stateNode;w.props=h,w.state=a.memoizedState,w.refs=_p,Ed(a);var C=c.contextType;typeof C=="object"&&C!==null?w.context=Fr(C):(C=ir(c)?cs:Fn.current,w.context=ia(a,C)),nl(a,h,w,m),w.state=a.memoizedState,typeof(C=c.getDerivedStateFromProps)=="function"&&(Lc(a,c,C,h),w.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(c=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),c!==w.state&&Bc.enqueueReplaceState(w,w.state,null),nl(a,h,w,m),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.effectTag|=4)}var Fc=Array.isArray;function il(a,c,h){if((a=h.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner){if(h.tag!==1)throw Error(u(309));var m=h.stateNode}if(!m)throw Error(u(147,a));var w=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===w?c.ref:((c=function(C){var S=m.refs;S===_p&&(S=m.refs={}),C===null?delete S[w]:S[w]=C})._stringRef=w,c)}if(typeof a!="string")throw Error(u(284));if(!h._owner)throw Error(u(290,a))}return a}function Vc(a,c){if(a.type!=="textarea")throw Error(u(31,Object.prototype.toString.call(c)==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":c,""))}function Cp(a){function c(se,re){if(a){var fe=se.lastEffect;fe!==null?(fe.nextEffect=re,se.lastEffect=re):se.firstEffect=se.lastEffect=re,re.nextEffect=null,re.effectTag=8}}function h(se,re){if(!a)return null;for(;re!==null;)c(se,re),re=re.sibling;return null}function m(se,re){for(se=new Map;re!==null;)re.key!==null?se.set(re.key,re):se.set(re.index,re),re=re.sibling;return se}function w(se,re){return(se=ys(se,re)).index=0,se.sibling=null,se}function C(se,re,fe){return se.index=fe,a?(fe=se.alternate)!==null?(fe=fe.index)<re?(se.effectTag=2,re):fe:(se.effectTag=2,re):re}function S(se){return a&&se.alternate===null&&(se.effectTag=2),se}function M(se,re,fe,Ee){return re===null||re.tag!==6?((re=th(fe,se.mode,Ee)).return=se,re):((re=w(re,fe)).return=se,re)}function te(se,re,fe,Ee){return re!==null&&re.elementType===fe.type?((Ee=w(re,fe.props)).ref=il(se,re,fe),Ee.return=se,Ee):((Ee=lu(fe.type,fe.key,fe.props,null,se.mode,Ee)).ref=il(se,re,fe),Ee.return=se,Ee)}function X(se,re,fe,Ee){return re===null||re.tag!==4||re.stateNode.containerInfo!==fe.containerInfo||re.stateNode.implementation!==fe.implementation?((re=nh(fe,se.mode,Ee)).return=se,re):((re=w(re,fe.children||[])).return=se,re)}function ye(se,re,fe,Ee,Se){return re===null||re.tag!==7?((re=Lo(fe,se.mode,Ee,Se)).return=se,re):((re=w(re,fe)).return=se,re)}function Fe(se,re,fe){if(typeof re=="string"||typeof re=="number")return(re=th(""+re,se.mode,fe)).return=se,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case et:return(fe=lu(re.type,re.key,re.props,null,se.mode,fe)).ref=il(se,null,re),fe.return=se,fe;case pn:return(re=nh(re,se.mode,fe)).return=se,re}if(Fc(re)||$n(re))return(re=Lo(re,se.mode,fe,null)).return=se,re;Vc(se,re)}return null}function Qe(se,re,fe,Ee){var Se=re!==null?re.key:null;if(typeof fe=="string"||typeof fe=="number")return Se!==null?null:M(se,re,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case et:return fe.key===Se?fe.type===Yt?ye(se,re,fe.props.children,Ee,Se):te(se,re,fe,Ee):null;case pn:return fe.key===Se?X(se,re,fe,Ee):null}if(Fc(fe)||$n(fe))return Se!==null?null:ye(se,re,fe,Ee,null);Vc(se,fe)}return null}function vt(se,re,fe,Ee,Se){if(typeof Ee=="string"||typeof Ee=="number")return M(re,se=se.get(fe)||null,""+Ee,Se);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case et:return se=se.get(Ee.key===null?fe:Ee.key)||null,Ee.type===Yt?ye(re,se,Ee.props.children,Se,Ee.key):te(re,se,Ee,Se);case pn:return X(re,se=se.get(Ee.key===null?fe:Ee.key)||null,Ee,Se)}if(Fc(Ee)||$n(Ee))return ye(re,se=se.get(fe)||null,Ee,Se,null);Vc(re,Ee)}return null}function jr(se,re,fe,Ee){for(var Se=null,Ie=null,Ze=re,Et=re=0,hn=null;Ze!==null&&Et<fe.length;Et++){Ze.index>Et?(hn=Ze,Ze=null):hn=Ze.sibling;var ct=Qe(se,Ze,fe[Et],Ee);if(ct===null){Ze===null&&(Ze=hn);break}a&&Ze&&ct.alternate===null&&c(se,Ze),re=C(ct,re,Et),Ie===null?Se=ct:Ie.sibling=ct,Ie=ct,Ze=hn}if(Et===fe.length)return h(se,Ze),Se;if(Ze===null){for(;Et<fe.length;Et++)(Ze=Fe(se,fe[Et],Ee))!==null&&(re=C(Ze,re,Et),Ie===null?Se=Ze:Ie.sibling=Ze,Ie=Ze);return Se}for(Ze=m(se,Ze);Et<fe.length;Et++)(hn=vt(Ze,se,Et,fe[Et],Ee))!==null&&(a&&hn.alternate!==null&&Ze.delete(hn.key===null?Et:hn.key),re=C(hn,re,Et),Ie===null?Se=hn:Ie.sibling=hn,Ie=hn);return a&&Ze.forEach(function(xn){return c(se,xn)}),Se}function Zn(se,re,fe,Ee){var Se=$n(fe);if(typeof Se!="function")throw Error(u(150));if((fe=Se.call(fe))==null)throw Error(u(151));for(var Ie=Se=null,Ze=re,Et=re=0,hn=null,ct=fe.next();Ze!==null&&!ct.done;Et++,ct=fe.next()){Ze.index>Et?(hn=Ze,Ze=null):hn=Ze.sibling;var xn=Qe(se,Ze,ct.value,Ee);if(xn===null){Ze===null&&(Ze=hn);break}a&&Ze&&xn.alternate===null&&c(se,Ze),re=C(xn,re,Et),Ie===null?Se=xn:Ie.sibling=xn,Ie=xn,Ze=hn}if(ct.done)return h(se,Ze),Se;if(Ze===null){for(;!ct.done;Et++,ct=fe.next())(ct=Fe(se,ct.value,Ee))!==null&&(re=C(ct,re,Et),Ie===null?Se=ct:Ie.sibling=ct,Ie=ct);return Se}for(Ze=m(se,Ze);!ct.done;Et++,ct=fe.next())(ct=vt(Ze,se,Et,ct.value,Ee))!==null&&(a&&ct.alternate!==null&&Ze.delete(ct.key===null?Et:ct.key),re=C(ct,re,Et),Ie===null?Se=ct:Ie.sibling=ct,Ie=ct);return a&&Ze.forEach(function(Hi){return c(se,Hi)}),Se}return function(se,re,fe,Ee){var Se=typeof fe=="object"&&fe!==null&&fe.type===Yt&&fe.key===null;Se&&(fe=fe.props.children);var Ie=typeof fe=="object"&&fe!==null;if(Ie)switch(fe.$$typeof){case et:e:{for(Ie=fe.key,Se=re;Se!==null;){if(Se.key===Ie){switch(Se.tag){case 7:if(fe.type===Yt){h(se,Se.sibling),(re=w(Se,fe.props.children)).return=se,se=re;break e}break;default:if(Se.elementType===fe.type){h(se,Se.sibling),(re=w(Se,fe.props)).ref=il(se,Se,fe),re.return=se,se=re;break e}}h(se,Se);break}c(se,Se),Se=Se.sibling}fe.type===Yt?((re=Lo(fe.props.children,se.mode,Ee,fe.key)).return=se,se=re):((Ee=lu(fe.type,fe.key,fe.props,null,se.mode,Ee)).ref=il(se,re,fe),Ee.return=se,se=Ee)}return S(se);case pn:e:{for(Se=fe.key;re!==null;){if(re.key===Se){if(re.tag===4&&re.stateNode.containerInfo===fe.containerInfo&&re.stateNode.implementation===fe.implementation){h(se,re.sibling),(re=w(re,fe.children||[])).return=se,se=re;break e}h(se,re);break}c(se,re),re=re.sibling}(re=nh(fe,se.mode,Ee)).return=se,se=re}return S(se)}if(typeof fe=="string"||typeof fe=="number")return fe=""+fe,re!==null&&re.tag===6?(h(se,re.sibling),(re=w(re,fe)).return=se,se=re):(h(se,re),(re=th(fe,se.mode,Ee)).return=se,se=re),S(se);if(Fc(fe))return jr(se,re,fe,Ee);if($n(fe))return Zn(se,re,fe,Ee);if(Ie&&Vc(se,fe),fe===void 0&&!Se)switch(se.tag){case 1:case 0:throw se=se.type,Error(u(152,se.displayName||se.name||"Component"))}return h(se,re)}}var aa=Cp(!0),Td=Cp(!1),ol={},bi={current:ol},sl={current:ol},al={current:ol};function us(a){if(a===ol)throw Error(u(174));return a}function Sd(a,c){switch(nn(al,c),nn(sl,a),nn(bi,ol),a=c.nodeType){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Me(null,"");break;default:c=Me(c=(a=a===8?c.parentNode:c).namespaceURI||null,a=a.tagName)}Kt(bi),nn(bi,c)}function la(){Kt(bi),Kt(sl),Kt(al)}function Tp(a){us(al.current);var c=us(bi.current),h=Me(c,a.type);c!==h&&(nn(sl,a),nn(bi,h))}function Pd(a){sl.current===a&&(Kt(bi),Kt(sl))}var rn={current:0};function zc(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&((h=h.dehydrated)===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(64&c.effectTag)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Ad(a,c){return{responder:a,props:c}}var jc=be.ReactCurrentDispatcher,Vr=be.ReactCurrentBatchConfig,Ro=0,yn=null,Gn=null,Vn=null,$c=!1;function mr(){throw Error(u(321))}function Od(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!Fi(a[h],c[h]))return!1;return!0}function Md(a,c,h,m,w,C){if(Ro=C,yn=c,c.memoizedState=null,c.updateQueue=null,c.expirationTime=0,jc.current=a===null||a.memoizedState===null?ay:ly,a=h(m,w),c.expirationTime===Ro){C=0;do{if(c.expirationTime=0,!(25>C))throw Error(u(301));C+=1,Vn=Gn=null,c.updateQueue=null,jc.current=cy,a=h(m,w)}while(c.expirationTime===Ro)}if(jc.current=Kc,c=Gn!==null&&Gn.next!==null,Ro=0,Vn=Gn=yn=null,$c=!1,c)throw Error(u(300));return a}function ca(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?yn.memoizedState=Vn=a:Vn=Vn.next=a,Vn}function ua(){if(Gn===null){var a=yn.alternate;a=a!==null?a.memoizedState:null}else a=Gn.next;var c=Vn===null?yn.memoizedState:Vn.next;if(c!==null)Vn=c,Gn=a;else{if(a===null)throw Error(u(310));a={memoizedState:(Gn=a).memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},Vn===null?yn.memoizedState=Vn=a:Vn=Vn.next=a}return Vn}function ds(a,c){return typeof c=="function"?c(a):c}function Wc(a){var c=ua(),h=c.queue;if(h===null)throw Error(u(311));h.lastRenderedReducer=a;var m=Gn,w=m.baseQueue,C=h.pending;if(C!==null){if(w!==null){var S=w.next;w.next=C.next,C.next=S}m.baseQueue=w=C,h.pending=null}if(w!==null){w=w.next,m=m.baseState;var M=S=C=null,te=w;do{var X=te.expirationTime;if(X<Ro){var ye={expirationTime:te.expirationTime,suspenseConfig:te.suspenseConfig,action:te.action,eagerReducer:te.eagerReducer,eagerState:te.eagerState,next:null};M===null?(S=M=ye,C=m):M=M.next=ye,X>yn.expirationTime&&(yn.expirationTime=X,au(X))}else M!==null&&(M=M.next={expirationTime:1073741823,suspenseConfig:te.suspenseConfig,action:te.action,eagerReducer:te.eagerReducer,eagerState:te.eagerState,next:null}),pm(X,te.suspenseConfig),m=te.eagerReducer===a?te.eagerState:a(m,te.action);te=te.next}while(te!==null&&te!==w);M===null?C=m:M.next=S,Fi(m,c.memoizedState)||(wi=!0),c.memoizedState=m,c.baseState=C,c.baseQueue=M,h.lastRenderedState=m}return[c.memoizedState,h.dispatch]}function Hc(a){var c=ua(),h=c.queue;if(h===null)throw Error(u(311));h.lastRenderedReducer=a;var m=h.dispatch,w=h.pending,C=c.memoizedState;if(w!==null){h.pending=null;var S=w=w.next;do C=a(C,S.action),S=S.next;while(S!==w);Fi(C,c.memoizedState)||(wi=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),h.lastRenderedState=C}return[C,m]}function Rd(a){var c=ca();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a=(a=c.queue={pending:null,dispatch:null,lastRenderedReducer:ds,lastRenderedState:a}).dispatch=Np.bind(null,yn,a),[c.memoizedState,a]}function Id(a,c,h,m){return a={tag:a,create:c,destroy:h,deps:m,next:null},(c=yn.updateQueue)===null?(c={lastEffect:null},yn.updateQueue=c,c.lastEffect=a.next=a):(h=c.lastEffect)===null?c.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,c.lastEffect=a),a}function Sp(){return ua().memoizedState}function Nd(a,c,h,m){var w=ca();yn.effectTag|=a,w.memoizedState=Id(1|c,h,void 0,m===void 0?null:m)}function Dd(a,c,h,m){var w=ua();m=m===void 0?null:m;var C=void 0;if(Gn!==null){var S=Gn.memoizedState;if(C=S.destroy,m!==null&&Od(m,S.deps))return void Id(c,h,C,m)}yn.effectTag|=a,w.memoizedState=Id(1|c,h,C,m)}function Pp(a,c){return Nd(516,4,a,c)}function Uc(a,c){return Dd(516,4,a,c)}function Ap(a,c){return Dd(4,2,a,c)}function Op(a,c){return typeof c=="function"?(a=a(),c(a),function(){c(null)}):c!=null?(a=a(),c.current=a,function(){c.current=null}):void 0}function Mp(a,c,h){return h=h!=null?h.concat([a]):null,Dd(4,2,Op.bind(null,c,a),h)}function Ld(){}function Rp(a,c){return ca().memoizedState=[a,c===void 0?null:c],a}function qc(a,c){var h=ua();c=c===void 0?null:c;var m=h.memoizedState;return m!==null&&c!==null&&Od(c,m[1])?m[0]:(h.memoizedState=[a,c],a)}function Ip(a,c){var h=ua();c=c===void 0?null:c;var m=h.memoizedState;return m!==null&&c!==null&&Od(c,m[1])?m[0]:(a=a(),h.memoizedState=[a,c],a)}function Bd(a,c,h){var m=Mc();Po(98>m?98:m,function(){a(!0)}),Po(97<m?97:m,function(){var w=Vr.suspense;Vr.suspense=c===void 0?null:c;try{a(!1),h()}finally{Vr.suspense=w}})}function Np(a,c,h){var m=yi(),w=rl.suspense;w={expirationTime:m=ms(m,a,w),suspenseConfig:w,action:h,eagerReducer:null,eagerState:null,next:null};var C=c.pending;if(C===null?w.next=w:(w.next=C.next,C.next=w),c.pending=w,C=a.alternate,a===yn||C!==null&&C===yn)$c=!0,w.expirationTime=Ro,yn.expirationTime=Ro;else{if(a.expirationTime===0&&(C===null||C.expirationTime===0)&&(C=c.lastRenderedReducer)!==null)try{var S=c.lastRenderedState,M=C(S,h);if(w.eagerReducer=C,w.eagerState=M,Fi(M,S))return}catch{}Do(a,m)}}var Kc={readContext:Fr,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useResponder:mr,useDeferredValue:mr,useTransition:mr},ay={readContext:Fr,useCallback:Rp,useContext:Fr,useEffect:Pp,useImperativeHandle:function(a,c,h){return h=h!=null?h.concat([a]):null,Nd(4,2,Op.bind(null,c,a),h)},useLayoutEffect:function(a,c){return Nd(4,2,a,c)},useMemo:function(a,c){var h=ca();return c=c===void 0?null:c,a=a(),h.memoizedState=[a,c],a},useReducer:function(a,c,h){var m=ca();return c=h!==void 0?h(c):c,m.memoizedState=m.baseState=c,a=(a=m.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:c}).dispatch=Np.bind(null,yn,a),[m.memoizedState,a]},useRef:function(a){return a={current:a},ca().memoizedState=a},useState:Rd,useDebugValue:Ld,useResponder:Ad,useDeferredValue:function(a,c){var h=Rd(a),m=h[0],w=h[1];return Pp(function(){var C=Vr.suspense;Vr.suspense=c===void 0?null:c;try{w(a)}finally{Vr.suspense=C}},[a,c]),m},useTransition:function(a){var c=Rd(!1),h=c[0];return c=c[1],[Rp(Bd.bind(null,c,a),[c,a]),h]}},ly={readContext:Fr,useCallback:qc,useContext:Fr,useEffect:Uc,useImperativeHandle:Mp,useLayoutEffect:Ap,useMemo:Ip,useReducer:Wc,useRef:Sp,useState:function(){return Wc(ds)},useDebugValue:Ld,useResponder:Ad,useDeferredValue:function(a,c){var h=Wc(ds),m=h[0],w=h[1];return Uc(function(){var C=Vr.suspense;Vr.suspense=c===void 0?null:c;try{w(a)}finally{Vr.suspense=C}},[a,c]),m},useTransition:function(a){var c=Wc(ds),h=c[0];return c=c[1],[qc(Bd.bind(null,c,a),[c,a]),h]}},cy={readContext:Fr,useCallback:qc,useContext:Fr,useEffect:Uc,useImperativeHandle:Mp,useLayoutEffect:Ap,useMemo:Ip,useReducer:Hc,useRef:Sp,useState:function(){return Hc(ds)},useDebugValue:Ld,useResponder:Ad,useDeferredValue:function(a,c){var h=Hc(ds),m=h[0],w=h[1];return Uc(function(){var C=Vr.suspense;Vr.suspense=c===void 0?null:c;try{w(a)}finally{Vr.suspense=C}},[a,c]),m},useTransition:function(a){var c=Hc(ds),h=c[0];return c=c[1],[qc(Bd.bind(null,c,a),[c,a]),h]}},ji=null,Io=null,hs=!1;function Dp(a,c){var h=vi(5,null,null,0);h.elementType="DELETED",h.type="DELETED",h.stateNode=c,h.return=a,h.effectTag=8,a.lastEffect!==null?(a.lastEffect.nextEffect=h,a.lastEffect=h):a.firstEffect=a.lastEffect=h}function Lp(a,c){switch(a.tag){case 5:var h=a.type;return(c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c)!==null&&(a.stateNode=c,!0);case 6:return(c=a.pendingProps===""||c.nodeType!==3?null:c)!==null&&(a.stateNode=c,!0);case 13:default:return!1}}function Fd(a){if(hs){var c=Io;if(c){var h=c;if(!Lp(a,c)){if(!(c=_o(h.nextSibling))||!Lp(a,c))return a.effectTag=-1025&a.effectTag|2,hs=!1,void(ji=a);Dp(ji,h)}ji=a,Io=_o(c.firstChild)}else a.effectTag=-1025&a.effectTag|2,hs=!1,ji=a}}function Bp(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ji=a}function Gc(a){if(a!==ji)return!1;if(!hs)return Bp(a),hs=!0,!1;var c=a.type;if(a.tag!==5||c!=="head"&&c!=="body"&&!Ya(c,a.memoizedProps))for(c=Io;c;)Dp(a,c),c=_o(c.nextSibling);if(Bp(a),a.tag===13){if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(u(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(c===0){Io=_o(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}a=a.nextSibling}Io=null}}else Io=ji?_o(a.stateNode.nextSibling):null;return!0}function Vd(){Io=ji=null,hs=!1}var uy=be.ReactCurrentOwner,wi=!1;function zr(a,c,h,m){c.child=a===null?Td(c,null,h,m):aa(c,a.child,h,m)}function Fp(a,c,h,m,w){h=h.render;var C=c.ref;return sa(c,w),m=Md(a,c,h,m,C,w),a===null||wi?(c.effectTag|=1,zr(a,c,m,w),c.child):(c.updateQueue=a.updateQueue,c.effectTag&=-517,a.expirationTime<=w&&(a.expirationTime=0),$i(a,c,w))}function Vp(a,c,h,m,w,C){if(a===null){var S=h.type;return typeof S!="function"||eh(S)||S.defaultProps!==void 0||h.compare!==null||h.defaultProps!==void 0?((a=lu(h.type,null,m,null,c.mode,C)).ref=c.ref,a.return=c,c.child=a):(c.tag=15,c.type=S,zp(a,c,S,m,w,C))}return S=a.child,w<C&&(w=S.memoizedProps,(h=(h=h.compare)!==null?h:Vi)(w,m)&&a.ref===c.ref)?$i(a,c,C):(c.effectTag|=1,(a=ys(S,m)).ref=c.ref,a.return=c,c.child=a)}function zp(a,c,h,m,w,C){return a!==null&&Vi(a.memoizedProps,m)&&a.ref===c.ref&&(wi=!1,w<C)?(c.expirationTime=a.expirationTime,$i(a,c,C)):zd(a,c,h,m,C)}function jp(a,c){var h=c.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(c.effectTag|=128)}function zd(a,c,h,m,w){var C=ir(h)?cs:Fn.current;return C=ia(c,C),sa(c,w),h=Md(a,c,h,m,C,w),a===null||wi?(c.effectTag|=1,zr(a,c,h,w),c.child):(c.updateQueue=a.updateQueue,c.effectTag&=-517,a.expirationTime<=w&&(a.expirationTime=0),$i(a,c,w))}function $p(a,c,h,m,w){if(ir(h)){var C=!0;Pc(c)}else C=!1;if(sa(c,w),c.stateNode===null)a!==null&&(a.alternate=null,c.alternate=null,c.effectTag|=2),Ep(c,h,m),Cd(c,h,m,w),m=!0;else if(a===null){var S=c.stateNode,M=c.memoizedProps;S.props=M;var te=S.context,X=h.contextType;typeof X=="object"&&X!==null?X=Fr(X):X=ia(c,X=ir(h)?cs:Fn.current);var ye=h.getDerivedStateFromProps,Fe=typeof ye=="function"||typeof S.getSnapshotBeforeUpdate=="function";Fe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==m||te!==X)&&xp(c,S,m,X),Ao=!1;var Qe=c.memoizedState;S.state=Qe,nl(c,m,S,w),te=c.memoizedState,M!==m||Qe!==te||rr.current||Ao?(typeof ye=="function"&&(Lc(c,h,ye,m),te=c.memoizedState),(M=Ao||kp(c,h,M,m,Qe,te,X))?(Fe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.effectTag|=4)):(typeof S.componentDidMount=="function"&&(c.effectTag|=4),c.memoizedProps=m,c.memoizedState=te),S.props=m,S.state=te,S.context=X,m=M):(typeof S.componentDidMount=="function"&&(c.effectTag|=4),m=!1)}else S=c.stateNode,xd(a,c),M=c.memoizedProps,S.props=c.type===c.elementType?M:Yr(c.type,M),te=S.context,typeof(X=h.contextType)=="object"&&X!==null?X=Fr(X):X=ia(c,X=ir(h)?cs:Fn.current),(Fe=typeof(ye=h.getDerivedStateFromProps)=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==m||te!==X)&&xp(c,S,m,X),Ao=!1,te=c.memoizedState,S.state=te,nl(c,m,S,w),Qe=c.memoizedState,M!==m||te!==Qe||rr.current||Ao?(typeof ye=="function"&&(Lc(c,h,ye,m),Qe=c.memoizedState),(ye=Ao||kp(c,h,M,m,te,Qe,X))?(Fe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Qe,X),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Qe,X)),typeof S.componentDidUpdate=="function"&&(c.effectTag|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.effectTag|=256)):(typeof S.componentDidUpdate!="function"||M===a.memoizedProps&&te===a.memoizedState||(c.effectTag|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&te===a.memoizedState||(c.effectTag|=256),c.memoizedProps=m,c.memoizedState=Qe),S.props=m,S.state=Qe,S.context=X,m=ye):(typeof S.componentDidUpdate!="function"||M===a.memoizedProps&&te===a.memoizedState||(c.effectTag|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&te===a.memoizedState||(c.effectTag|=256),m=!1);return jd(a,c,h,m,C,w)}function jd(a,c,h,m,w,C){jp(a,c);var S=(64&c.effectTag)!=0;if(!m&&!S)return w&&op(c,h,!1),$i(a,c,C);m=c.stateNode,uy.current=c;var M=S&&typeof h.getDerivedStateFromError!="function"?null:m.render();return c.effectTag|=1,a!==null&&S?(c.child=aa(c,a.child,null,C),c.child=aa(c,null,M,C)):zr(a,c,M,C),c.memoizedState=m.state,w&&op(c,h,!0),c.child}function Wp(a){var c=a.stateNode;c.pendingContext?rp(0,c.pendingContext,c.pendingContext!==c.context):c.context&&rp(0,c.context,!1),Sd(a,c.containerInfo)}var Hp,Up,qp,$d={dehydrated:null,retryTime:0};function Kp(a,c,h){var m,w=c.mode,C=c.pendingProps,S=rn.current,M=!1;if((m=(64&c.effectTag)!=0)||(m=(2&S)!=0&&(a===null||a.memoizedState!==null)),m?(M=!0,c.effectTag&=-65):a!==null&&a.memoizedState===null||C.fallback===void 0||C.unstable_avoidThisFallback===!0||(S|=1),nn(rn,1&S),a===null){if(C.fallback!==void 0&&Fd(c),M){if(M=C.fallback,(C=Lo(null,w,0,null)).return=c,(2&c.mode)==0)for(a=c.memoizedState!==null?c.child.child:c.child,C.child=a;a!==null;)a.return=C,a=a.sibling;return(h=Lo(M,w,h,null)).return=c,C.sibling=h,c.memoizedState=$d,c.child=C,h}return w=C.children,c.memoizedState=null,c.child=Td(c,null,w,h)}if(a.memoizedState!==null){if(w=(a=a.child).sibling,M){if(C=C.fallback,(h=ys(a,a.pendingProps)).return=c,(2&c.mode)==0&&(M=c.memoizedState!==null?c.child.child:c.child)!==a.child)for(h.child=M;M!==null;)M.return=h,M=M.sibling;return(w=ys(w,C)).return=c,h.sibling=w,h.childExpirationTime=0,c.memoizedState=$d,c.child=h,w}return h=aa(c,a.child,C.children,h),c.memoizedState=null,c.child=h}if(a=a.child,M){if(M=C.fallback,(C=Lo(null,w,0,null)).return=c,C.child=a,a!==null&&(a.return=C),(2&c.mode)==0)for(a=c.memoizedState!==null?c.child.child:c.child,C.child=a;a!==null;)a.return=C,a=a.sibling;return(h=Lo(M,w,h,null)).return=c,C.sibling=h,h.effectTag|=2,C.childExpirationTime=0,c.memoizedState=$d,c.child=C,h}return c.memoizedState=null,c.child=aa(c,a,C.children,h)}function Gp(a,c){a.expirationTime<c&&(a.expirationTime=c);var h=a.alternate;h!==null&&h.expirationTime<c&&(h.expirationTime=c),wp(a.return,c)}function Wd(a,c,h,m,w,C){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:h,tailExpiration:0,tailMode:w,lastEffect:C}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=h,S.tailExpiration=0,S.tailMode=w,S.lastEffect=C)}function Zp(a,c,h){var m=c.pendingProps,w=m.revealOrder,C=m.tail;if(zr(a,c,m.children,h),(2&(m=rn.current))!=0)m=1&m|2,c.effectTag|=64;else{if(a!==null&&64&a.effectTag)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Gp(a,h);else if(a.tag===19)Gp(a,h);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(nn(rn,m),(2&c.mode)==0)c.memoizedState=null;else switch(w){case"forwards":for(h=c.child,w=null;h!==null;)(a=h.alternate)!==null&&zc(a)===null&&(w=h),h=h.sibling;(h=w)===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),Wd(c,!1,w,h,C,c.lastEffect);break;case"backwards":for(h=null,w=c.child,c.child=null;w!==null;){if((a=w.alternate)!==null&&zc(a)===null){c.child=w;break}a=w.sibling,w.sibling=h,h=w,w=a}Wd(c,!0,h,null,C,c.lastEffect);break;case"together":Wd(c,!1,null,null,void 0,c.lastEffect);break;default:c.memoizedState=null}return c.child}function $i(a,c,h){a!==null&&(c.dependencies=a.dependencies);var m=c.expirationTime;if(m!==0&&au(m),c.childExpirationTime<h)return null;if(a!==null&&c.child!==a.child)throw Error(u(153));if(c.child!==null){for(h=ys(a=c.child,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,(h=h.sibling=ys(a,a.pendingProps)).return=c;h.sibling=null}return c.child}function Zc(a,c){switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function dy(a,c,h){var m=c.pendingProps;switch(c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ir(c.type)&&Sc(),null;case 3:return la(),Kt(rr),Kt(Fn),(h=c.stateNode).pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),a!==null&&a.child!==null||!Gc(c)||(c.effectTag|=4),null;case 5:Pd(c),h=us(al.current);var w=c.type;if(a!==null&&c.stateNode!=null)Up(a,c,w,m,h),a.ref!==c.ref&&(c.effectTag|=128);else{if(!m){if(c.stateNode===null)throw Error(u(166));return null}if(a=us(bi.current),Gc(c)){m=c.stateNode,w=c.type;var C=c.memoizedProps;switch(m[hi]=c,m[rs]=C,w){case"iframe":case"object":case"embed":Bt("load",m);break;case"video":case"audio":for(a=0;a<Tt.length;a++)Bt(Tt[a],m);break;case"source":Bt("error",m);break;case"img":case"image":case"link":Bt("error",m),Bt("load",m);break;case"form":Bt("reset",m),Bt("submit",m);break;case"details":Bt("toggle",m);break;case"input":ur(m,C),Bt("invalid",m),Gr(h,"onChange");break;case"select":m._wrapperState={wasMultiple:!!C.multiple},Bt("invalid",m),Gr(h,"onChange");break;case"textarea":Ar(m,C),Bt("invalid",m),Gr(h,"onChange")}for(var S in Ha(w,C),a=null,C)if(C.hasOwnProperty(S)){var M=C[S];S==="children"?typeof M=="string"?m.textContent!==M&&(a=["children",M]):typeof M=="number"&&m.textContent!==""+M&&(a=["children",""+M]):V.hasOwnProperty(S)&&M!=null&&Gr(h,S)}switch(w){case"input":ho(m),Ai(m,C,!0);break;case"textarea":ho(m),Qo(m);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(m.onclick=Zs)}h=a,c.updateQueue=h,h!==null&&(c.effectTag|=4)}else{switch(S=h.nodeType===9?h:h.ownerDocument,a===pc&&(a=xe(w)),a===pc?w==="script"?((a=S.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=S.createElement(w,{is:m.is}):(a=S.createElement(w),w==="select"&&(S=a,m.multiple?S.multiple=!0:m.size&&(S.size=m.size))):a=S.createElementNS(a,w),a[hi]=c,a[rs]=m,Hp(a,c),c.stateNode=a,S=Ua(w,m),w){case"iframe":case"object":case"embed":Bt("load",a),M=m;break;case"video":case"audio":for(M=0;M<Tt.length;M++)Bt(Tt[M],a);M=m;break;case"source":Bt("error",a),M=m;break;case"img":case"image":case"link":Bt("error",a),Bt("load",a),M=m;break;case"form":Bt("reset",a),Bt("submit",a),M=m;break;case"details":Bt("toggle",a),M=m;break;case"input":ur(a,m),M=fo(a,m),Bt("invalid",a),Gr(h,"onChange");break;case"option":M=Oi(a,m);break;case"select":a._wrapperState={wasMultiple:!!m.multiple},M=s({},m,{value:void 0}),Bt("invalid",a),Gr(h,"onChange");break;case"textarea":Ar(a,m),M=Mi(a,m),Bt("invalid",a),Gr(h,"onChange");break;default:M=m}Ha(w,M);var te=M;for(C in te)if(te.hasOwnProperty(C)){var X=te[C];C==="style"?hc(a,X):C==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0)!=null&&rt(a,X):C==="children"?typeof X=="string"?(w!=="textarea"||X!=="")&&xt(a,X):typeof X=="number"&&xt(a,""+X):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(V.hasOwnProperty(C)?X!=null&&Gr(h,C):X!=null&&We(a,C,X,S))}switch(w){case"input":ho(a),Ai(a,m,!1);break;case"textarea":ho(a),Qo(a);break;case"option":m.value!=null&&a.setAttribute("value",""+Nn(m.value));break;case"select":a.multiple=!!m.multiple,(h=m.value)!=null?Pr(a,!!m.multiple,h,!1):m.defaultValue!=null&&Pr(a,!!m.multiple,m.defaultValue,!0);break;default:typeof M.onClick=="function"&&(a.onclick=Zs)}wc(w,m)&&(c.effectTag|=4)}c.ref!==null&&(c.effectTag|=128)}return null;case 6:if(a&&c.stateNode!=null)qp(0,c,a.memoizedProps,m);else{if(typeof m!="string"&&c.stateNode===null)throw Error(u(166));h=us(al.current),us(bi.current),Gc(c)?(h=c.stateNode,m=c.memoizedProps,h[hi]=c,h.nodeValue!==m&&(c.effectTag|=4)):((h=(h.nodeType===9?h:h.ownerDocument).createTextNode(m))[hi]=c,c.stateNode=h)}return null;case 13:return Kt(rn),m=c.memoizedState,64&c.effectTag?(c.expirationTime=h,c):(h=m!==null,m=!1,a===null?c.memoizedProps.fallback!==void 0&&Gc(c):(m=(w=a.memoizedState)!==null,h||w===null||(w=a.child.sibling)!==null&&((C=c.firstEffect)!==null?(c.firstEffect=w,w.nextEffect=C):(c.firstEffect=c.lastEffect=w,w.nextEffect=null),w.effectTag=8)),h&&!m&&2&c.mode&&(a===null&&c.memoizedProps.unstable_avoidThisFallback!==!0||1&rn.current?En===fs&&(En=Jc):(En!==fs&&En!==Jc||(En=Qc),cl!==0&&gr!==null&&(vs(gr,or),ym(gr,cl)))),(h||m)&&(c.effectTag|=4),null);case 4:return la(),null;case 10:return kd(c),null;case 17:return ir(c.type)&&Sc(),null;case 19:if(Kt(rn),(m=c.memoizedState)===null)return null;if(w=(64&c.effectTag)!=0,(C=m.rendering)===null){if(w)Zc(m,!1);else if(En!==fs||a!==null&&64&a.effectTag)for(C=c.child;C!==null;){if((a=zc(C))!==null){for(c.effectTag|=64,Zc(m,!1),(w=a.updateQueue)!==null&&(c.updateQueue=w,c.effectTag|=4),m.lastEffect===null&&(c.firstEffect=null),c.lastEffect=m.lastEffect,m=c.child;m!==null;)C=h,(w=m).effectTag&=2,w.nextEffect=null,w.firstEffect=null,w.lastEffect=null,(a=w.alternate)===null?(w.childExpirationTime=0,w.expirationTime=C,w.child=null,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null):(w.childExpirationTime=a.childExpirationTime,w.expirationTime=a.expirationTime,w.child=a.child,w.memoizedProps=a.memoizedProps,w.memoizedState=a.memoizedState,w.updateQueue=a.updateQueue,C=a.dependencies,w.dependencies=C===null?null:{expirationTime:C.expirationTime,firstContext:C.firstContext,responders:C.responders}),m=m.sibling;return nn(rn,1&rn.current|2),c.child}C=C.sibling}}else{if(!w)if((a=zc(C))!==null){if(c.effectTag|=64,w=!0,(h=a.updateQueue)!==null&&(c.updateQueue=h,c.effectTag|=4),Zc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!C.alternate)return(c=c.lastEffect=m.lastEffect)!==null&&(c.nextEffect=null),null}else 2*Br()-m.renderingStartTime>m.tailExpiration&&1<h&&(c.effectTag|=64,w=!0,Zc(m,!1),c.expirationTime=c.childExpirationTime=h-1);m.isBackwards?(C.sibling=c.child,c.child=C):((h=m.last)!==null?h.sibling=C:c.child=C,m.last=C)}return m.tail!==null?(m.tailExpiration===0&&(m.tailExpiration=Br()+500),h=m.tail,m.rendering=h,m.tail=h.sibling,m.lastEffect=c.lastEffect,m.renderingStartTime=Br(),h.sibling=null,c=rn.current,nn(rn,w?1&c|2:1&c),h):null}throw Error(u(156,c.tag))}function hy(a){switch(a.tag){case 1:ir(a.type)&&Sc();var c=a.effectTag;return 4096&c?(a.effectTag=-4097&c|64,a):null;case 3:if(la(),Kt(rr),Kt(Fn),(64&(c=a.effectTag))!=0)throw Error(u(285));return a.effectTag=-4097&c|64,a;case 5:return Pd(a),null;case 13:return Kt(rn),4096&(c=a.effectTag)?(a.effectTag=-4097&c|64,a):null;case 19:return Kt(rn),null;case 4:return la(),null;case 10:return kd(a),null;default:return null}}function Hd(a,c){return{value:a,source:c,stack:uo(c)}}Hp=function(a,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Up=function(a,c,h,m,w){var C=a.memoizedProps;if(C!==m){var S,M,te=c.stateNode;switch(us(bi.current),a=null,h){case"input":C=fo(te,C),m=fo(te,m),a=[];break;case"option":C=Oi(te,C),m=Oi(te,m),a=[];break;case"select":C=s({},C,{value:void 0}),m=s({},m,{value:void 0}),a=[];break;case"textarea":C=Mi(te,C),m=Mi(te,m),a=[];break;default:typeof C.onClick!="function"&&typeof m.onClick=="function"&&(te.onclick=Zs)}for(S in Ha(h,m),h=null,C)if(!m.hasOwnProperty(S)&&C.hasOwnProperty(S)&&C[S]!=null)if(S==="style")for(M in te=C[S])te.hasOwnProperty(M)&&(h||(h={}),h[M]="");else S!=="dangerouslySetInnerHTML"&&S!=="children"&&S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(V.hasOwnProperty(S)?a||(a=[]):(a=a||[]).push(S,null));for(S in m){var X=m[S];if(te=C!=null?C[S]:void 0,m.hasOwnProperty(S)&&X!==te&&(X!=null||te!=null))if(S==="style")if(te){for(M in te)!te.hasOwnProperty(M)||X&&X.hasOwnProperty(M)||(h||(h={}),h[M]="");for(M in X)X.hasOwnProperty(M)&&te[M]!==X[M]&&(h||(h={}),h[M]=X[M])}else h||(a||(a=[]),a.push(S,h)),h=X;else S==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,te=te?te.__html:void 0,X!=null&&te!==X&&(a=a||[]).push(S,X)):S==="children"?te===X||typeof X!="string"&&typeof X!="number"||(a=a||[]).push(S,""+X):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&(V.hasOwnProperty(S)?(X!=null&&Gr(w,S),a||te===X||(a=[])):(a=a||[]).push(S,X))}h&&(a=a||[]).push("style",h),w=a,(c.updateQueue=w)&&(c.effectTag|=4)}},qp=function(a,c,h,m){h!==m&&(c.effectTag|=4)};var fy=typeof WeakSet=="function"?WeakSet:Set;function Ud(a,c){var h=c.source,m=c.stack;m===null&&h!==null&&(m=uo(h)),h!==null&&In(h.type),c=c.value,a!==null&&a.tag===1&&In(a.type);try{console.error(c)}catch(w){setTimeout(function(){throw w})}}function Yp(a){var c=a.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){ws(a,h)}else c.current=null}function py(a,c){switch(c.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&c.effectTag&&a!==null){var h=a.memoizedProps,m=a.memoizedState;c=(a=c.stateNode).getSnapshotBeforeUpdate(c.elementType===c.type?h:Yr(c.type,h),m),a.__reactInternalSnapshotBeforeUpdate=c}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(u(163))}function Jp(a,c){if((c=(c=c.updateQueue)!==null?c.lastEffect:null)!==null){var h=c=c.next;do{if((h.tag&a)===a){var m=h.destroy;h.destroy=void 0,m!==void 0&&m()}h=h.next}while(h!==c)}}function Qp(a,c){if((c=(c=c.updateQueue)!==null?c.lastEffect:null)!==null){var h=c=c.next;do{if((h.tag&a)===a){var m=h.create;h.destroy=m()}h=h.next}while(h!==c)}}function my(a,c,h){switch(h.tag){case 0:case 11:case 15:case 22:return void Qp(3,h);case 1:if(a=h.stateNode,4&h.effectTag)if(c===null)a.componentDidMount();else{var m=h.elementType===h.type?c.memoizedProps:Yr(h.type,c.memoizedProps);a.componentDidUpdate(m,c.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}return void((c=h.updateQueue)!==null&&vp(h,c,a));case 3:if((c=h.updateQueue)!==null){if(a=null,h.child!==null)switch(h.child.tag){case 5:a=h.child.stateNode;break;case 1:a=h.child.stateNode}vp(h,c,a)}return;case 5:return a=h.stateNode,void(c===null&&4&h.effectTag&&wc(h.type,h.memoizedProps)&&a.focus());case 6:case 4:case 12:return;case 13:return void(h.memoizedState===null&&(h=h.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&Li(h)))));case 19:case 17:case 20:case 21:return}throw Error(u(163))}function Xp(a,c,h){switch(typeof Xd=="function"&&Xd(c),c.tag){case 0:case 11:case 14:case 15:case 22:if((a=c.updateQueue)!==null&&(a=a.lastEffect)!==null){var m=a.next;Po(97<h?97:h,function(){var w=m;do{var C=w.destroy;if(C!==void 0){var S=c;try{C()}catch(M){ws(S,M)}}w=w.next}while(w!==m)})}break;case 1:Yp(c),typeof(h=c.stateNode).componentWillUnmount=="function"&&function(w,C){try{C.props=w.memoizedProps,C.state=w.memoizedState,C.componentWillUnmount()}catch(S){ws(w,S)}}(c,h);break;case 5:Yp(c);break;case 4:rm(a,c,h)}}function em(a){var c=a.alternate;a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.alternate=null,a.firstEffect=null,a.lastEffect=null,a.pendingProps=null,a.memoizedProps=null,a.stateNode=null,c!==null&&em(c)}function tm(a){return a.tag===5||a.tag===3||a.tag===4}function nm(a){e:{for(var c=a.return;c!==null;){if(tm(c)){var h=c;break e}c=c.return}throw Error(u(160))}switch(c=h.stateNode,h.tag){case 5:var m=!1;break;case 3:case 4:c=c.containerInfo,m=!0;break;default:throw Error(u(161))}16&h.effectTag&&(xt(c,""),h.effectTag&=-17);e:t:for(h=a;;){for(;h.sibling===null;){if(h.return===null||tm(h.return)){h=null;break e}h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(2&h.effectTag||h.child===null||h.tag===4)continue t;h.child.return=h,h=h.child}if(!(2&h.effectTag)){h=h.stateNode;break e}}m?function w(C,S,M){var te=C.tag,X=te===5||te===6;if(X)C=X?C.stateNode:C.stateNode.instance,S?M.nodeType===8?M.parentNode.insertBefore(C,S):M.insertBefore(C,S):(M.nodeType===8?(S=M.parentNode).insertBefore(C,M):(S=M).appendChild(C),(M=M._reactRootContainer)!==null&&M!==void 0||S.onclick!==null||(S.onclick=Zs));else if(te!==4&&(C=C.child)!==null)for(w(C,S,M),C=C.sibling;C!==null;)w(C,S,M),C=C.sibling}(a,h,c):function w(C,S,M){var te=C.tag,X=te===5||te===6;if(X)C=X?C.stateNode:C.stateNode.instance,S?M.insertBefore(C,S):M.appendChild(C);else if(te!==4&&(C=C.child)!==null)for(w(C,S,M),C=C.sibling;C!==null;)w(C,S,M),C=C.sibling}(a,h,c)}function rm(a,c,h){for(var m,w,C=c,S=!1;;){if(!S){S=C.return;e:for(;;){if(S===null)throw Error(u(160));switch(m=S.stateNode,S.tag){case 5:w=!1;break e;case 3:case 4:m=m.containerInfo,w=!0;break e}S=S.return}S=!0}if(C.tag===5||C.tag===6){e:for(var M=a,te=C,X=h,ye=te;;)if(Xp(M,ye,X),ye.child!==null&&ye.tag!==4)ye.child.return=ye,ye=ye.child;else{if(ye===te)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===te)break e;ye=ye.return}ye.sibling.return=ye.return,ye=ye.sibling}w?(M=m,te=C.stateNode,M.nodeType===8?M.parentNode.removeChild(te):M.removeChild(te)):m.removeChild(C.stateNode)}else if(C.tag===4){if(C.child!==null){m=C.stateNode.containerInfo,w=!0,C.child.return=C,C=C.child;continue}}else if(Xp(a,C,h),C.child!==null){C.child.return=C,C=C.child;continue}if(C===c)break;for(;C.sibling===null;){if(C.return===null||C.return===c)return;(C=C.return).tag===4&&(S=!1)}C.sibling.return=C.return,C=C.sibling}}function qd(a,c){switch(c.tag){case 0:case 11:case 14:case 15:case 22:return void Jp(3,c);case 1:return;case 5:var h=c.stateNode;if(h!=null){var m=c.memoizedProps,w=a!==null?a.memoizedProps:m;a=c.type;var C=c.updateQueue;if(c.updateQueue=null,C!==null){for(h[rs]=m,a==="input"&&m.type==="radio"&&m.name!=null&&po(h,m),Ua(a,w),c=Ua(a,m),w=0;w<C.length;w+=2){var S=C[w],M=C[w+1];S==="style"?hc(h,M):S==="dangerouslySetInnerHTML"?rt(h,M):S==="children"?xt(h,M):We(h,S,M,c)}switch(a){case"input":Pi(h,m);break;case"textarea":Jo(h,m);break;case"select":c=h._wrapperState.wasMultiple,h._wrapperState.wasMultiple=!!m.multiple,(a=m.value)!=null?Pr(h,!!m.multiple,a,!1):c!==!!m.multiple&&(m.defaultValue!=null?Pr(h,!!m.multiple,m.defaultValue,!0):Pr(h,!!m.multiple,m.multiple?[]:"",!1))}}}return;case 6:if(c.stateNode===null)throw Error(u(162));return void(c.stateNode.nodeValue=c.memoizedProps);case 3:return void((c=c.stateNode).hydrate&&(c.hydrate=!1,Li(c.containerInfo)));case 12:return;case 13:if(h=c,c.memoizedState===null?m=!1:(m=!0,h=c.child,Kd=Br()),h!==null)e:for(a=h;;){if(a.tag===5)C=a.stateNode,m?typeof(C=C.style).setProperty=="function"?C.setProperty("display","none","important"):C.display="none":(C=a.stateNode,w=(w=a.memoizedProps.style)!=null&&w.hasOwnProperty("display")?w.display:null,C.style.display=dc("display",w));else if(a.tag===6)a.stateNode.nodeValue=m?"":a.memoizedProps;else{if(a.tag===13&&a.memoizedState!==null&&a.memoizedState.dehydrated===null){(C=a.child.sibling).return=a,a=C;continue}if(a.child!==null){a.child.return=a,a=a.child;continue}}if(a===h)break;for(;a.sibling===null;){if(a.return===null||a.return===h)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}return void im(c);case 19:return void im(c);case 17:return}throw Error(u(163))}function im(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new fy),c.forEach(function(m){var w=xy.bind(null,a,m);h.has(m)||(h.add(m),m.then(w,w))})}}var gy=typeof WeakMap=="function"?WeakMap:Map;function om(a,c,h){(h=Oo(h,null)).tag=3,h.payload={element:null};var m=c.value;return h.callback=function(){nu||(nu=!0,Gd=m),Ud(a,c)},h}function sm(a,c,h){(h=Oo(h,null)).tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var w=c.value;h.payload=function(){return Ud(a,c),m(w)}}var C=a.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(h.callback=function(){typeof m!="function"&&(No===null?No=new Set([this]):No.add(this),Ud(a,c));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})}),h}var am,by=Math.ceil,Yc=be.ReactCurrentDispatcher,lm=be.ReactCurrentOwner,fs=0,Jc=3,Qc=4,ot=0,gr=null,st=null,or=0,En=fs,Xc=null,Wi=1073741823,ll=1073741823,eu=null,cl=0,tu=!1,Kd=0,je=null,nu=!1,Gd=null,No=null,ru=!1,ul=null,dl=90,ps=null,hl=0,Zd=null,iu=0;function yi(){return 48&ot?1073741821-(Br()/10|0):iu!==0?iu:iu=1073741821-(Br()/10|0)}function ms(a,c,h){if(!(2&(c=c.mode)))return 1073741823;var m=Mc();if(!(4&c))return m===99?1073741823:1073741822;if(16&ot)return or;if(h!==null)a=Rc(a,0|h.timeoutMs||5e3,250);else switch(m){case 99:a=1073741823;break;case 98:a=Rc(a,150,100);break;case 97:case 96:a=Rc(a,5e3,250);break;case 95:a=2;break;default:throw Error(u(326))}return gr!==null&&a===or&&--a,a}function Do(a,c){if(50<hl)throw hl=0,Zd=null,Error(u(185));if((a=ou(a,c))!==null){var h=Mc();c===1073741823?8&ot&&!(48&ot)?Yd(a):(br(a),ot===0&&gi()):br(a),!(4&ot)||h!==98&&h!==99||(ps===null?ps=new Map([[a,c]]):((h=ps.get(a))===void 0||h>c)&&ps.set(a,c))}}function ou(a,c){a.expirationTime<c&&(a.expirationTime=c);var h=a.alternate;h!==null&&h.expirationTime<c&&(h.expirationTime=c);var m=a.return,w=null;if(m===null&&a.tag===3)w=a.stateNode;else for(;m!==null;){if(h=m.alternate,m.childExpirationTime<c&&(m.childExpirationTime=c),h!==null&&h.childExpirationTime<c&&(h.childExpirationTime=c),m.return===null&&m.tag===3){w=m.stateNode;break}m=m.return}return w!==null&&(gr===w&&(au(c),En===Qc&&vs(w,or)),ym(w,c)),w}function su(a){var c=a.lastExpiredTime;if(c!==0||!wm(a,c=a.firstPendingTime))return c;var h=a.lastPingedTime;return 2>=(a=h>(a=a.nextKnownPendingLevel)?h:a)&&c!==a?0:a}function br(a){if(a.lastExpiredTime!==0)a.callbackExpirationTime=1073741823,a.callbackPriority=99,a.callbackNode=gp(Yd.bind(null,a));else{var c=su(a),h=a.callbackNode;if(c===0)h!==null&&(a.callbackNode=null,a.callbackExpirationTime=0,a.callbackPriority=90);else{var m=yi();if(c===1073741823?m=99:c===1||c===2?m=95:m=0>=(m=10*(1073741821-c)-10*(1073741821-m))?99:250>=m?98:5250>=m?97:95,h!==null){var w=a.callbackPriority;if(a.callbackExpirationTime===c&&w>=m)return;h!==hp&&sp(h)}a.callbackExpirationTime=c,a.callbackPriority=m,c=c===1073741823?gp(Yd.bind(null,a)):mp(m,cm.bind(null,a),{timeout:10*(1073741821-c)-Br()}),a.callbackNode=c}}}function cm(a,c){if(iu=0,c)return rh(a,c=yi()),br(a),null;var h=su(a);if(h!==0){if(c=a.callbackNode,(48&ot)!=0)throw Error(u(327));if(da(),a===gr&&h===or||gs(a,h),st!==null){var m=ot;ot|=16;for(var w=fm();;)try{yy();break}catch(M){hm(a,M)}if(_d(),ot=m,Yc.current=w,En===1)throw c=Xc,gs(a,h),vs(a,h),br(a),c;if(st===null)switch(w=a.finishedWork=a.current.alternate,a.finishedExpirationTime=h,m=En,gr=null,m){case fs:case 1:throw Error(u(345));case 2:rh(a,2<h?2:h);break;case Jc:if(vs(a,h),h===(m=a.lastSuspendedTime)&&(a.nextKnownPendingLevel=Jd(w)),Wi===1073741823&&10<(w=Kd+500-Br())){if(tu){var C=a.lastPingedTime;if(C===0||C>=h){a.lastPingedTime=h,gs(a,h);break}}if((C=su(a))!==0&&C!==h)break;if(m!==0&&m!==h){a.lastPingedTime=m;break}a.timeoutHandle=Ja(bs.bind(null,a),w);break}bs(a);break;case Qc:if(vs(a,h),h===(m=a.lastSuspendedTime)&&(a.nextKnownPendingLevel=Jd(w)),tu&&((w=a.lastPingedTime)===0||w>=h)){a.lastPingedTime=h,gs(a,h);break}if((w=su(a))!==0&&w!==h)break;if(m!==0&&m!==h){a.lastPingedTime=m;break}if(ll!==1073741823?m=10*(1073741821-ll)-Br():Wi===1073741823?m=0:(m=10*(1073741821-Wi)-5e3,0>(m=(w=Br())-m)&&(m=0),(h=10*(1073741821-h)-w)<(m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*by(m/1960))-m)&&(m=h)),10<m){a.timeoutHandle=Ja(bs.bind(null,a),m);break}bs(a);break;case 5:if(Wi!==1073741823&&eu!==null){C=Wi;var S=eu;if(0>=(m=0|S.busyMinDurationMs)?m=0:(w=0|S.busyDelayMs,m=(C=Br()-(10*(1073741821-C)-(0|S.timeoutMs||5e3)))<=w?0:w+m-C),10<m){vs(a,h),a.timeoutHandle=Ja(bs.bind(null,a),m);break}}bs(a);break;default:throw Error(u(329))}if(br(a),a.callbackNode===c)return cm.bind(null,a)}}return null}function Yd(a){var c=a.lastExpiredTime;if(c=c!==0?c:1073741823,(48&ot)!=0)throw Error(u(327));if(da(),a===gr&&c===or||gs(a,c),st!==null){var h=ot;ot|=16;for(var m=fm();;)try{wy();break}catch(w){hm(a,w)}if(_d(),ot=h,Yc.current=m,En===1)throw h=Xc,gs(a,c),vs(a,c),br(a),h;if(st!==null)throw Error(u(261));a.finishedWork=a.current.alternate,a.finishedExpirationTime=c,gr=null,bs(a),br(a)}return null}function um(a,c){var h=ot;ot|=1;try{return a(c)}finally{(ot=h)===0&&gi()}}function dm(a,c){var h=ot;ot&=-2,ot|=8;try{return a(c)}finally{(ot=h)===0&&gi()}}function gs(a,c){a.finishedWork=null,a.finishedExpirationTime=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,yc(h)),st!==null)for(h=st.return;h!==null;){var m=h;switch(m.tag){case 1:(m=m.type.childContextTypes)!=null&&Sc();break;case 3:la(),Kt(rr),Kt(Fn);break;case 5:Pd(m);break;case 4:la();break;case 13:case 19:Kt(rn);break;case 10:kd(m)}h=h.return}gr=a,st=ys(a.current,null),or=c,En=fs,Xc=null,ll=Wi=1073741823,eu=null,cl=0,tu=!1}function hm(a,c){for(;;){try{if(_d(),jc.current=Kc,$c)for(var h=yn.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}if(Ro=0,Vn=Gn=yn=null,$c=!1,st===null||st.return===null)return En=1,Xc=c,st=null;e:{var w=a,C=st.return,S=st,M=c;if(c=or,S.effectTag|=2048,S.firstEffect=S.lastEffect=null,M!==null&&typeof M=="object"&&typeof M.then=="function"){var te=M;if(!(2&S.mode)){var X=S.alternate;X?(S.updateQueue=X.updateQueue,S.memoizedState=X.memoizedState,S.expirationTime=X.expirationTime):(S.updateQueue=null,S.memoizedState=null)}var ye=(1&rn.current)!=0,Fe=C;do{var Qe;if(Qe=Fe.tag===13){var vt=Fe.memoizedState;if(vt!==null)Qe=vt.dehydrated!==null;else{var jr=Fe.memoizedProps;Qe=jr.fallback!==void 0&&(jr.unstable_avoidThisFallback!==!0||!ye)}}if(Qe){var Zn=Fe.updateQueue;if(Zn===null){var se=new Set;se.add(te),Fe.updateQueue=se}else Zn.add(te);if(!(2&Fe.mode)){if(Fe.effectTag|=64,S.effectTag&=-2981,S.tag===1)if(S.alternate===null)S.tag=17;else{var re=Oo(1073741823,null);re.tag=2,Mo(S,re)}S.expirationTime=1073741823;break e}M=void 0,S=c;var fe=w.pingCache;if(fe===null?(fe=w.pingCache=new gy,M=new Set,fe.set(te,M)):(M=fe.get(te))===void 0&&(M=new Set,fe.set(te,M)),!M.has(S)){M.add(S);var Ee=Ey.bind(null,w,te,S);te.then(Ee,Ee)}Fe.effectTag|=4096,Fe.expirationTime=c;break e}Fe=Fe.return}while(Fe!==null);M=Error((In(S.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+uo(S))}En!==5&&(En=2),M=Hd(M,S),Fe=C;do{switch(Fe.tag){case 3:te=M,Fe.effectTag|=4096,Fe.expirationTime=c,yp(Fe,om(Fe,te,c));break e;case 1:te=M;var Se=Fe.type,Ie=Fe.stateNode;if(!(64&Fe.effectTag)&&(typeof Se.getDerivedStateFromError=="function"||Ie!==null&&typeof Ie.componentDidCatch=="function"&&(No===null||!No.has(Ie)))){Fe.effectTag|=4096,Fe.expirationTime=c,yp(Fe,sm(Fe,te,c));break e}}Fe=Fe.return}while(Fe!==null)}st=gm(st)}catch(Ze){c=Ze;continue}break}}function fm(){var a=Yc.current;return Yc.current=Kc,a===null?Kc:a}function pm(a,c){a<Wi&&2<a&&(Wi=a),c!==null&&a<ll&&2<a&&(ll=a,eu=c)}function au(a){a>cl&&(cl=a)}function wy(){for(;st!==null;)st=mm(st)}function yy(){for(;st!==null&&!oy();)st=mm(st)}function mm(a){var c=am(a.alternate,a,or);return a.memoizedProps=a.pendingProps,c===null&&(c=gm(a)),lm.current=null,c}function gm(a){st=a;do{var c=st.alternate;if(a=st.return,(2048&st.effectTag)==0){if(c=dy(c,st,or),or===1||st.childExpirationTime!==1){for(var h=0,m=st.child;m!==null;){var w=m.expirationTime,C=m.childExpirationTime;w>h&&(h=w),C>h&&(h=C),m=m.sibling}st.childExpirationTime=h}if(c!==null)return c;a!==null&&!(2048&a.effectTag)&&(a.firstEffect===null&&(a.firstEffect=st.firstEffect),st.lastEffect!==null&&(a.lastEffect!==null&&(a.lastEffect.nextEffect=st.firstEffect),a.lastEffect=st.lastEffect),1<st.effectTag&&(a.lastEffect!==null?a.lastEffect.nextEffect=st:a.firstEffect=st,a.lastEffect=st))}else{if((c=hy(st))!==null)return c.effectTag&=2047,c;a!==null&&(a.firstEffect=a.lastEffect=null,a.effectTag|=2048)}if((c=st.sibling)!==null)return c;st=a}while(st!==null);return En===fs&&(En=5),null}function Jd(a){var c=a.expirationTime;return c>(a=a.childExpirationTime)?c:a}function bs(a){var c=Mc();return Po(99,vy.bind(null,a,c)),null}function vy(a,c){do da();while(ul!==null);if(48&ot)throw Error(u(327));var h=a.finishedWork,m=a.finishedExpirationTime;if(h===null)return null;if(a.finishedWork=null,a.finishedExpirationTime=0,h===a.current)throw Error(u(177));a.callbackNode=null,a.callbackExpirationTime=0,a.callbackPriority=90,a.nextKnownPendingLevel=0;var w=Jd(h);if(a.firstPendingTime=w,m<=a.lastSuspendedTime?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:m<=a.firstSuspendedTime&&(a.firstSuspendedTime=m-1),m<=a.lastPingedTime&&(a.lastPingedTime=0),m<=a.lastExpiredTime&&(a.lastExpiredTime=0),a===gr&&(st=gr=null,or=0),1<h.effectTag?h.lastEffect!==null?(h.lastEffect.nextEffect=h,w=h.firstEffect):w=h:w=h.firstEffect,w!==null){var C=ot;ot|=32,lm.current=null,Ga=Ks;var S=bc();if(Ka(S)){if("selectionStart"in S)var M={start:S.selectionStart,end:S.selectionEnd};else e:{var te=(M=(M=S.ownerDocument)&&M.defaultView||window).getSelection&&M.getSelection();if(te&&te.rangeCount!==0){M=te.anchorNode;var X=te.anchorOffset,ye=te.focusNode;te=te.focusOffset;try{M.nodeType,ye.nodeType}catch{M=null;break e}var Fe=0,Qe=-1,vt=-1,jr=0,Zn=0,se=S,re=null;t:for(;;){for(var fe;se!==M||X!==0&&se.nodeType!==3||(Qe=Fe+X),se!==ye||te!==0&&se.nodeType!==3||(vt=Fe+te),se.nodeType===3&&(Fe+=se.nodeValue.length),(fe=se.firstChild)!==null;)re=se,se=fe;for(;;){if(se===S)break t;if(re===M&&++jr===X&&(Qe=Fe),re===ye&&++Zn===te&&(vt=Fe),(fe=se.nextSibling)!==null)break;re=(se=re).parentNode}se=fe}M=Qe===-1||vt===-1?null:{start:Qe,end:vt}}else M=null}M=M||{start:0,end:0}}else M=null;Za={activeElementDetached:null,focusedElem:S,selectionRange:M},Ks=!1,je=w;do try{_y()}catch(ct){if(je===null)throw Error(u(330));ws(je,ct),je=je.nextEffect}while(je!==null);je=w;do try{for(S=a,M=c;je!==null;){var Ee=je.effectTag;if(16&Ee&&xt(je.stateNode,""),128&Ee){var Se=je.alternate;if(Se!==null){var Ie=Se.ref;Ie!==null&&(typeof Ie=="function"?Ie(null):Ie.current=null)}}switch(1038&Ee){case 2:nm(je),je.effectTag&=-3;break;case 6:nm(je),je.effectTag&=-3,qd(je.alternate,je);break;case 1024:je.effectTag&=-1025;break;case 1028:je.effectTag&=-1025,qd(je.alternate,je);break;case 4:qd(je.alternate,je);break;case 8:rm(S,X=je,M),em(X)}je=je.nextEffect}}catch(ct){if(je===null)throw Error(u(330));ws(je,ct),je=je.nextEffect}while(je!==null);if(Ie=Za,Se=bc(),Ee=Ie.focusedElem,M=Ie.selectionRange,Se!==Ee&&Ee&&Ee.ownerDocument&&function ct(xn,Hi){return!(!xn||!Hi)&&(xn===Hi||(!xn||xn.nodeType!==3)&&(Hi&&Hi.nodeType===3?ct(xn,Hi.parentNode):"contains"in xn?xn.contains(Hi):!!xn.compareDocumentPosition&&!!(16&xn.compareDocumentPosition(Hi))))}(Ee.ownerDocument.documentElement,Ee)){for(M!==null&&Ka(Ee)&&(Se=M.start,(Ie=M.end)===void 0&&(Ie=Se),"selectionStart"in Ee?(Ee.selectionStart=Se,Ee.selectionEnd=Math.min(Ie,Ee.value.length)):(Ie=(Se=Ee.ownerDocument||document)&&Se.defaultView||window).getSelection&&(Ie=Ie.getSelection(),X=Ee.textContent.length,S=Math.min(M.start,X),M=M.end===void 0?S:Math.min(M.end,X),!Ie.extend&&S>M&&(X=M,M=S,S=X),X=gc(Ee,S),ye=gc(Ee,M),X&&ye&&(Ie.rangeCount!==1||Ie.anchorNode!==X.node||Ie.anchorOffset!==X.offset||Ie.focusNode!==ye.node||Ie.focusOffset!==ye.offset)&&((Se=Se.createRange()).setStart(X.node,X.offset),Ie.removeAllRanges(),S>M?(Ie.addRange(Se),Ie.extend(ye.node,ye.offset)):(Se.setEnd(ye.node,ye.offset),Ie.addRange(Se))))),Se=[],Ie=Ee;Ie=Ie.parentNode;)Ie.nodeType===1&&Se.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof Ee.focus=="function"&&Ee.focus(),Ee=0;Ee<Se.length;Ee++)(Ie=Se[Ee]).element.scrollLeft=Ie.left,Ie.element.scrollTop=Ie.top}Ks=!!Ga,Za=Ga=null,a.current=h,je=w;do try{for(Ee=a;je!==null;){var Ze=je.effectTag;if(36&Ze&&my(Ee,je.alternate,je),128&Ze){Se=void 0;var Et=je.ref;if(Et!==null){var hn=je.stateNode;switch(je.tag){case 5:Se=hn;break;default:Se=hn}typeof Et=="function"?Et(Se):Et.current=Se}}je=je.nextEffect}}catch(ct){if(je===null)throw Error(u(330));ws(je,ct),je=je.nextEffect}while(je!==null);je=null,sy(),ot=C}else a.current=h;if(ru)ru=!1,ul=a,dl=c;else for(je=w;je!==null;)c=je.nextEffect,je.nextEffect=null,je=c;if((c=a.firstPendingTime)===0&&(No=null),c===1073741823?a===Zd?hl++:(hl=0,Zd=a):hl=0,typeof Qd=="function"&&Qd(h.stateNode,m),br(a),nu)throw nu=!1,a=Gd,Gd=null,a;return 8&ot||gi(),null}function _y(){for(;je!==null;){var a=je.effectTag;256&a&&py(je.alternate,je),!(512&a)||ru||(ru=!0,mp(97,function(){return da(),null})),je=je.nextEffect}}function da(){if(dl!==90){var a=97<dl?97:dl;return dl=90,Po(a,ky)}}function ky(){if(ul===null)return!1;var a=ul;if(ul=null,(48&ot)!=0)throw Error(u(331));var c=ot;for(ot|=32,a=a.current.firstEffect;a!==null;){try{var h=a;if(512&h.effectTag)switch(h.tag){case 0:case 11:case 15:case 22:Jp(5,h),Qp(5,h)}}catch(m){if(a===null)throw Error(u(330));ws(a,m)}h=a.nextEffect,a.nextEffect=null,a=h}return ot=c,gi(),!0}function bm(a,c,h){Mo(a,c=om(a,c=Hd(h,c),1073741823)),(a=ou(a,1073741823))!==null&&br(a)}function ws(a,c){if(a.tag===3)bm(a,a,c);else for(var h=a.return;h!==null;){if(h.tag===3){bm(h,a,c);break}if(h.tag===1){var m=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(No===null||!No.has(m))){Mo(h,a=sm(h,a=Hd(c,a),1073741823)),(h=ou(h,1073741823))!==null&&br(h);break}}h=h.return}}function Ey(a,c,h){var m=a.pingCache;m!==null&&m.delete(c),gr===a&&or===h?En===Qc||En===Jc&&Wi===1073741823&&Br()-Kd<500?gs(a,or):tu=!0:wm(a,h)&&((c=a.lastPingedTime)!==0&&c<h||(a.lastPingedTime=h,br(a)))}function xy(a,c){var h=a.stateNode;h!==null&&h.delete(c),(c=0)==0&&(c=ms(c=yi(),a,null)),(a=ou(a,c))!==null&&br(a)}am=function(a,c,h){var m=c.expirationTime;if(a!==null){var w=c.pendingProps;if(a.memoizedProps!==w||rr.current)wi=!0;else{if(m<h){switch(wi=!1,c.tag){case 3:Wp(c),Vd();break;case 5:if(Tp(c),4&c.mode&&h!==1&&w.hidden)return c.expirationTime=c.childExpirationTime=1,null;break;case 1:ir(c.type)&&Pc(c);break;case 4:Sd(c,c.stateNode.containerInfo);break;case 10:m=c.memoizedProps.value,w=c.type._context,nn(Ic,w._currentValue),w._currentValue=m;break;case 13:if(c.memoizedState!==null)return(m=c.child.childExpirationTime)!==0&&m>=h?Kp(a,c,h):(nn(rn,1&rn.current),(c=$i(a,c,h))!==null?c.sibling:null);nn(rn,1&rn.current);break;case 19:if(m=c.childExpirationTime>=h,(64&a.effectTag)!=0){if(m)return Zp(a,c,h);c.effectTag|=64}if((w=c.memoizedState)!==null&&(w.rendering=null,w.tail=null),nn(rn,rn.current),!m)return null}return $i(a,c,h)}wi=!1}}else wi=!1;switch(c.expirationTime=0,c.tag){case 2:if(m=c.type,a!==null&&(a.alternate=null,c.alternate=null,c.effectTag|=2),a=c.pendingProps,w=ia(c,Fn.current),sa(c,h),w=Md(null,c,m,a,w,h),c.effectTag|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0){if(c.tag=1,c.memoizedState=null,c.updateQueue=null,ir(m)){var C=!0;Pc(c)}else C=!1;c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Ed(c);var S=m.getDerivedStateFromProps;typeof S=="function"&&Lc(c,m,S,a),w.updater=Bc,c.stateNode=w,w._reactInternalFiber=c,Cd(c,m,a,h),c=jd(null,c,m,!0,C,h)}else c.tag=0,zr(null,c,w,h),c=c.child;return c;case 16:e:{if(w=c.elementType,a!==null&&(a.alternate=null,c.alternate=null,c.effectTag|=2),a=c.pendingProps,function(ye){if(ye._status===-1){ye._status=0;var Fe=ye._ctor;Fe=Fe(),ye._result=Fe,Fe.then(function(Qe){ye._status===0&&(Qe=Qe.default,ye._status=1,ye._result=Qe)},function(Qe){ye._status===0&&(ye._status=2,ye._result=Qe)})}}(w),w._status!==1)throw w._result;switch(w=w._result,c.type=w,C=c.tag=function(ye){if(typeof ye=="function")return eh(ye)?1:0;if(ye!=null){if((ye=ye.$$typeof)===an)return 11;if(ye===Tr)return 14}return 2}(w),a=Yr(w,a),C){case 0:c=zd(null,c,w,a,h);break e;case 1:c=$p(null,c,w,a,h);break e;case 11:c=Fp(null,c,w,a,h);break e;case 14:c=Vp(null,c,w,Yr(w.type,a),m,h);break e}throw Error(u(306,w,""))}return c;case 0:return m=c.type,w=c.pendingProps,zd(a,c,m,w=c.elementType===m?w:Yr(m,w),h);case 1:return m=c.type,w=c.pendingProps,$p(a,c,m,w=c.elementType===m?w:Yr(m,w),h);case 3:if(Wp(c),m=c.updateQueue,a===null||m===null)throw Error(u(282));if(m=c.pendingProps,w=(w=c.memoizedState)!==null?w.element:null,xd(a,c),nl(c,m,null,h),(m=c.memoizedState.element)===w)Vd(),c=$i(a,c,h);else{if((w=c.stateNode.hydrate)&&(Io=_o(c.stateNode.containerInfo.firstChild),ji=c,w=hs=!0),w)for(h=Td(c,null,m,h),c.child=h;h;)h.effectTag=-3&h.effectTag|1024,h=h.sibling;else zr(a,c,m,h),Vd();c=c.child}return c;case 5:return Tp(c),a===null&&Fd(c),m=c.type,w=c.pendingProps,C=a!==null?a.memoizedProps:null,S=w.children,Ya(m,w)?S=null:C!==null&&Ya(m,C)&&(c.effectTag|=16),jp(a,c),4&c.mode&&h!==1&&w.hidden?(c.expirationTime=c.childExpirationTime=1,c=null):(zr(a,c,S,h),c=c.child),c;case 6:return a===null&&Fd(c),null;case 13:return Kp(a,c,h);case 4:return Sd(c,c.stateNode.containerInfo),m=c.pendingProps,a===null?c.child=aa(c,null,m,h):zr(a,c,m,h),c.child;case 11:return m=c.type,w=c.pendingProps,Fp(a,c,m,w=c.elementType===m?w:Yr(m,w),h);case 7:return zr(a,c,c.pendingProps,h),c.child;case 8:case 12:return zr(a,c,c.pendingProps.children,h),c.child;case 10:e:{m=c.type._context,w=c.pendingProps,S=c.memoizedProps,C=w.value;var M=c.type._context;if(nn(Ic,M._currentValue),M._currentValue=C,S!==null)if(M=S.value,(C=Fi(M,C)?0:0|(typeof m._calculateChangedBits=="function"?m._calculateChangedBits(M,C):1073741823))===0){if(S.children===w.children&&!rr.current){c=$i(a,c,h);break e}}else for((M=c.child)!==null&&(M.return=c);M!==null;){var te=M.dependencies;if(te!==null){S=M.child;for(var X=te.firstContext;X!==null;){if(X.context===m&&X.observedBits&C){M.tag===1&&((X=Oo(h,null)).tag=2,Mo(M,X)),M.expirationTime<h&&(M.expirationTime=h),(X=M.alternate)!==null&&X.expirationTime<h&&(X.expirationTime=h),wp(M.return,h),te.expirationTime<h&&(te.expirationTime=h);break}X=X.next}}else S=M.tag===10&&M.type===c.type?null:M.child;if(S!==null)S.return=M;else for(S=M;S!==null;){if(S===c){S=null;break}if((M=S.sibling)!==null){M.return=S.return,S=M;break}S=S.return}M=S}zr(a,c,w.children,h),c=c.child}return c;case 9:return w=c.type,m=(C=c.pendingProps).children,sa(c,h),m=m(w=Fr(w,C.unstable_observedBits)),c.effectTag|=1,zr(a,c,m,h),c.child;case 14:return C=Yr(w=c.type,c.pendingProps),Vp(a,c,w,C=Yr(w.type,C),m,h);case 15:return zp(a,c,c.type,c.pendingProps,m,h);case 17:return m=c.type,w=c.pendingProps,w=c.elementType===m?w:Yr(m,w),a!==null&&(a.alternate=null,c.alternate=null,c.effectTag|=2),c.tag=1,ir(m)?(a=!0,Pc(c)):a=!1,sa(c,h),Ep(c,m,w),Cd(c,m,w,h),jd(null,c,m,!0,a,h);case 19:return Zp(a,c,h)}throw Error(u(156,c.tag))};var Qd=null,Xd=null;function Cy(a,c,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function vi(a,c,h,m){return new Cy(a,c,h,m)}function eh(a){return!(!(a=a.prototype)||!a.isReactComponent)}function ys(a,c){var h=a.alternate;return h===null?((h=vi(a.tag,c,a.key,a.mode)).elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.effectTag=0,h.nextEffect=null,h.firstEffect=null,h.lastEffect=null),h.childExpirationTime=a.childExpirationTime,h.expirationTime=a.expirationTime,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{expirationTime:c.expirationTime,firstContext:c.firstContext,responders:c.responders},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function lu(a,c,h,m,w,C){var S=2;if(m=a,typeof a=="function")eh(a)&&(S=1);else if(typeof a=="string")S=5;else e:switch(a){case Yt:return Lo(h.children,w,C,c);case lo:S=8,w|=7;break;case jn:S=8,w|=1;break;case Qt:return(a=vi(12,h,c,8|w)).elementType=Qt,a.type=Qt,a.expirationTime=C,a;case Dt:return(a=vi(13,h,c,w)).type=Dt,a.elementType=Dt,a.expirationTime=C,a;case ci:return(a=vi(19,h,c,w)).elementType=ci,a.expirationTime=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Vt:S=10;break e;case Xn:S=9;break e;case an:S=11;break e;case Tr:S=14;break e;case Si:S=16,m=null;break e;case co:S=22;break e}throw Error(u(130,a==null?a:typeof a,""))}return(c=vi(S,h,c,w)).elementType=a,c.type=m,c.expirationTime=C,c}function Lo(a,c,h,m){return(a=vi(7,a,m,c)).expirationTime=h,a}function th(a,c,h){return(a=vi(6,a,null,c)).expirationTime=h,a}function nh(a,c,h){return(c=vi(4,a.children!==null?a.children:[],a.key,c)).expirationTime=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function Ty(a,c,h){this.tag=c,this.current=null,this.containerInfo=a,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=h,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function wm(a,c){var h=a.firstSuspendedTime;return a=a.lastSuspendedTime,h!==0&&h>=c&&a<=c}function vs(a,c){var h=a.firstSuspendedTime,m=a.lastSuspendedTime;h<c&&(a.firstSuspendedTime=c),(m>c||h===0)&&(a.lastSuspendedTime=c),c<=a.lastPingedTime&&(a.lastPingedTime=0),c<=a.lastExpiredTime&&(a.lastExpiredTime=0)}function ym(a,c){c>a.firstPendingTime&&(a.firstPendingTime=c);var h=a.firstSuspendedTime;h!==0&&(c>=h?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:c>=a.lastSuspendedTime&&(a.lastSuspendedTime=c+1),c>a.nextKnownPendingLevel&&(a.nextKnownPendingLevel=c))}function rh(a,c){var h=a.lastExpiredTime;(h===0||h>c)&&(a.lastExpiredTime=c)}function cu(a,c,h,m){var w=c.current,C=yi(),S=rl.suspense;C=ms(C,w,S);e:if(h){t:{if(Mr(h=h._reactInternalFiber)!==h||h.tag!==1)throw Error(u(170));var M=h;do{switch(M.tag){case 3:M=M.stateNode.context;break t;case 1:if(ir(M.type)){M=M.stateNode.__reactInternalMemoizedMergedChildContext;break t}}M=M.return}while(M!==null);throw Error(u(171))}if(h.tag===1){var te=h.type;if(ir(te)){h=ip(h,te,M);break e}}h=M}else h=So;return c.context===null?c.context=h:c.pendingContext=h,(c=Oo(C,S)).payload={element:a},(m=m===void 0?null:m)!==null&&(c.callback=m),Mo(w,c),Do(w,C),C}function ih(a){if(!(a=a.current).child)return null;switch(a.child.tag){case 5:default:return a.child.stateNode}}function vm(a,c){(a=a.memoizedState)!==null&&a.dehydrated!==null&&a.retryTime<c&&(a.retryTime=c)}function oh(a,c){vm(a,c),(a=a.alternate)&&vm(a,c)}function sh(a,c,h){var m=new Ty(a,c,h=h!=null&&h.hydrate===!0),w=vi(3,null,null,c===2?7:c===1?3:0);m.current=w,w.stateNode=m,Ed(w),a[is]=m.current,h&&c!==0&&function(C,S){var M=er(S);Kr.forEach(function(te){jt(te,S,M)}),un.forEach(function(te){jt(te,S,M)})}(0,a.nodeType===9?a:a.ownerDocument),this._internalRoot=m}function fl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function uu(a,c,h,m,w){var C=h._reactRootContainer;if(C){var S=C._internalRoot;if(typeof w=="function"){var M=w;w=function(){var X=ih(S);M.call(X)}}cu(c,S,a,w)}else{if(C=h._reactRootContainer=function(X,ye){if(ye||(ye=!(!(ye=X?X.nodeType===9?X.documentElement:X.firstChild:null)||ye.nodeType!==1||!ye.hasAttribute("data-reactroot"))),!ye)for(var Fe;Fe=X.lastChild;)X.removeChild(Fe);return new sh(X,0,ye?{hydrate:!0}:void 0)}(h,m),S=C._internalRoot,typeof w=="function"){var te=w;w=function(){var X=ih(S);te.call(X)}}dm(function(){cu(c,S,a,w)})}return ih(S)}function Sy(a,c,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:m==null?null:""+m,children:a,containerInfo:c,implementation:h}}function _m(a,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fl(c))throw Error(u(200));return Sy(a,c,null,h)}sh.prototype.render=function(a){cu(a,this._internalRoot,null,null)},sh.prototype.unmount=function(){var a=this._internalRoot,c=a.containerInfo;cu(null,a,null,function(){c[is]=null})},Xt=function(a){if(a.tag===13){var c=Rc(yi(),150,100);Do(a,c),oh(a,c)}},Ii=function(a){a.tag===13&&(Do(a,3),oh(a,3))},Ni=function(a){if(a.tag===13){var c=yi();Do(a,c=ms(c,a,null)),oh(a,c)}},he=function(a,c,h){switch(c){case"input":if(Pi(a,h),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var m=h[c];if(m!==a&&m.form===a.form){var w=Qa(m);if(!w)throw Error(u(90));Ot(m),Pi(m,w)}}}break;case"textarea":Jo(a,h);break;case"select":(c=h.value)!=null&&Pr(a,!!h.multiple,c,!1)}},_e=um,Re=function(a,c,h,m,w){var C=ot;ot|=4;try{return Po(98,a.bind(null,c,h,m,w))}finally{(ot=C)===0&&gi()}},Ce=function(){!(49&ot)&&(function(){if(ps!==null){var a=ps;ps=null,a.forEach(function(c,h){rh(h,c),br(h)}),gi()}}(),da())},Ne=function(a,c){var h=ot;ot|=2;try{return a(c)}finally{(ot=h)===0&&gi()}};var km,ah,Py={Events:[os,fi,Qa,de,D,Eo,function(a){ui(a,gd)},B,le,Gs,mn,da,{current:!1}]};ah=(km={findFiberByHostInstance:ko,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(a){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)return!0;try{var h=c.inject(a);Qd=function(m){try{c.onCommitFiberRoot(h,m,void 0,(64&m.current.effectTag)==64)}catch{}},Xd=function(m){try{c.onCommitFiberUnmount(h,m)}catch{}}}catch{}}(s({},km,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:be.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return(a=yt(a))===null?null:a.stateNode},findFiberByHostInstance:function(a){return ah?ah(a):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Py,t.createPortal=_m,t.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternalFiber;if(c===void 0)throw typeof a.render=="function"?Error(u(188)):Error(u(268,Object.keys(a)));return a=(a=yt(c))===null?null:a.stateNode},t.flushSync=function(a,c){if(48&ot)throw Error(u(187));var h=ot;ot|=1;try{return Po(99,a.bind(null,c))}finally{ot=h,gi()}},t.hydrate=function(a,c,h){if(!fl(c))throw Error(u(200));return uu(null,a,c,!0,h)},t.render=function(a,c,h){if(!fl(c))throw Error(u(200));return uu(null,a,c,!1,h)},t.unmountComponentAtNode=function(a){if(!fl(a))throw Error(u(40));return!!a._reactRootContainer&&(dm(function(){uu(null,null,a,!1,function(){a._reactRootContainer=null,a[is]=null})}),!0)},t.unstable_batchedUpdates=um,t.unstable_createPortal=function(a,c){return _m(a,c,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(a,c,h,m){if(!fl(h))throw Error(u(200));if(a==null||a._reactInternalFiber===void 0)throw Error(u(38));return uu(a,c,h,!1,m)},t.version="16.14.0"},function(e,t,r){e.exports=r(24)},function(e,t,r){var o,s,l,u,d;if(typeof window>"u"||typeof MessageChannel!="function"){var f=null,p=null,b=function(){if(f!==null)try{var Q=t.unstable_now();f(!0,Q),f=null}catch(we){throw setTimeout(b,0),we}},v=Date.now();t.unstable_now=function(){return Date.now()-v},o=function(Q){f!==null?setTimeout(o,0,Q):(f=Q,setTimeout(b,0))},s=function(Q,we){p=setTimeout(Q,we)},l=function(){clearTimeout(p)},u=function(){return!1},d=t.unstable_forceFrameRate=function(){}}else{var x=window.performance,L=window.Date,j=window.setTimeout,N=window.clearTimeout;if(typeof console<"u"){var $=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof $!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof x=="object"&&typeof x.now=="function")t.unstable_now=function(){return x.now()};else{var R=L.now();t.unstable_now=function(){return L.now()-R}}var z=!1,U=null,F=-1,G=5,q=0;u=function(){return t.unstable_now()>=q},d=function(){},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):G=0<Q?Math.floor(1e3/Q):5};var D=new MessageChannel,V=D.port2;D.port1.onmessage=function(){if(U!==null){var Q=t.unstable_now();q=Q+G;try{U(!0,Q)?V.postMessage(null):(z=!1,U=null)}catch(we){throw V.postMessage(null),we}}else z=!1},o=function(Q){U=Q,z||(z=!0,V.postMessage(null))},s=function(Q,we){F=j(function(){Q(t.unstable_now())},we)},l=function(){N(F),F=-1}}function ce(Q,we){var _=Q.length;Q.push(we);e:for(;;){var E=_-1>>>1,P=Q[E];if(!(P!==void 0&&0<he(P,we)))break e;Q[E]=we,Q[_]=P,_=E}}function de(Q){return(Q=Q[0])===void 0?null:Q}function ie(Q){var we=Q[0];if(we!==void 0){var _=Q.pop();if(_!==we){Q[0]=_;e:for(var E=0,P=Q.length;E<P;){var H=2*(E+1)-1,K=Q[H],Y=H+1,be=Q[Y];if(K!==void 0&&0>he(K,_))be!==void 0&&0>he(be,K)?(Q[E]=be,Q[Y]=_,E=Y):(Q[E]=K,Q[H]=_,E=H);else{if(!(be!==void 0&&0>he(be,_)))break e;Q[E]=be,Q[Y]=_,E=Y}}}return we}return null}function he(Q,we){var _=Q.sortIndex-we.sortIndex;return _!==0?_:Q.id-we.id}var ke=[],ne=[],pe=1,B=null,le=3,_e=!1,Re=!1,Ce=!1;function Ne(Q){for(var we=de(ne);we!==null;){if(we.callback===null)ie(ne);else{if(!(we.startTime<=Q))break;ie(ne),we.sortIndex=we.expirationTime,ce(ke,we)}we=de(ne)}}function Ae(Q){if(Ce=!1,Ne(Q),!Re)if(de(ke)!==null)Re=!0,o(Ue);else{var we=de(ne);we!==null&&s(Ae,we.startTime-Q)}}function Ue(Q,we){Re=!1,Ce&&(Ce=!1,l()),_e=!0;var _=le;try{for(Ne(we),B=de(ke);B!==null&&(!(B.expirationTime>we)||Q&&!u());){var E=B.callback;if(E!==null){B.callback=null,le=B.priorityLevel;var P=E(B.expirationTime<=we);we=t.unstable_now(),typeof P=="function"?B.callback=P:B===de(ke)&&ie(ke),Ne(we)}else ie(ke);B=de(ke)}if(B!==null)var H=!0;else{var K=de(ne);K!==null&&s(Ae,K.startTime-we),H=!1}return H}finally{B=null,le=_,_e=!1}}function dt(Q){switch(Q){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var ee=d;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){Re||_e||(Re=!0,o(Ue))},t.unstable_getCurrentPriorityLevel=function(){return le},t.unstable_getFirstCallbackNode=function(){return de(ke)},t.unstable_next=function(Q){switch(le){case 1:case 2:case 3:var we=3;break;default:we=le}var _=le;le=we;try{return Q()}finally{le=_}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ee,t.unstable_runWithPriority=function(Q,we){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var _=le;le=Q;try{return we()}finally{le=_}},t.unstable_scheduleCallback=function(Q,we,_){var E=t.unstable_now();if(typeof _=="object"&&_!==null){var P=_.delay;P=typeof P=="number"&&0<P?E+P:E,_=typeof _.timeout=="number"?_.timeout:dt(Q)}else _=dt(Q),P=E;return Q={id:pe++,callback:we,priorityLevel:Q,startTime:P,expirationTime:_=P+_,sortIndex:-1},P>E?(Q.sortIndex=P,ce(ne,Q),de(ke)===null&&Q===de(ne)&&(Ce?l():Ce=!0,s(Ae,P-E))):(Q.sortIndex=_,ce(ke,Q),Re||_e||(Re=!0,o(Ue))),Q},t.unstable_shouldYield=function(){var Q=t.unstable_now();Ne(Q);var we=de(ke);return we!==B&&B!==null&&we!==null&&we.callback!==null&&we.startTime<=Q&&we.expirationTime<B.expirationTime||u()},t.unstable_wrapCallback=function(Q){var we=le;return function(){var _=le;le=we;try{return Q.apply(this,arguments)}finally{le=_}}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.toString=void 0;const o=r(13),s=r(26),l=r(17),u={string:o.quoteString,number:d=>Object.is(d,-0)?"-0":String(d),boolean:String,symbol:(d,f,p)=>{const b=Symbol.keyFor(d);return b!==void 0?`Symbol.for(${p(b)})`:`Symbol(${p(d.description)})`},bigint:(d,f,p)=>`BigInt(${p(String(d))})`,undefined:String,object:s.objectToString,function:l.functionToString};t.toString=(d,f,p,b)=>d===null?"null":u[typeof d](d,f,p,b)},function(e,t,r){(function(o,s){Object.defineProperty(t,"__esModule",{value:!0}),t.objectToString=void 0;const l=r(13),u=r(17),d=r(31);t.objectToString=(b,v,x,L)=>{if(typeof o=="function"&&o.isBuffer(b))return`Buffer.from(${x(b.toString("base64"))}, 'base64')`;if(typeof s=="object"&&b===s)return f(b,v,x);const j=p[Object.prototype.toString.call(b)];return j?j(b,v,x,L):void 0};const f=(b,v,x)=>`Function(${x("return this")})()`,p={"[object Array]":d.arrayToString,"[object Object]":(b,v,x,L)=>{const j=v?`
`:"",N=v?" ":"",$=Object.keys(b).reduce(function(R,z){const U=b[z],F=x(U,z);if(F===void 0)return R;const G=F.split(`
`).join(`
`+v);return u.USED_METHOD_KEY.has(U)?(R.push(`${v}${G}`),R):(R.push(`${v}${l.quoteKey(z,x)}:${N}${G}`),R)},[]).join(","+j);return $===""?"{}":`{${j}${$}${j}}`},"[object Error]":(b,v,x)=>`new Error(${x(b.message)})`,"[object Date]":b=>`new Date(${b.getTime()})`,"[object String]":(b,v,x)=>`new String(${x(b.toString())})`,"[object Number]":b=>`new Number(${b})`,"[object Boolean]":b=>`new Boolean(${b})`,"[object Set]":(b,v,x)=>`new Set(${x(Array.from(b))})`,"[object Map]":(b,v,x)=>`new Map(${x(Array.from(b))})`,"[object RegExp]":String,"[object global]":f,"[object Window]":f}}).call(this,r(27).Buffer,r(15))},function(e,t,r){(function(o){var s=r(28),l=r(29),u=r(30);function d(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(_,E){if(d()<E)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(_=new Uint8Array(E)).__proto__=p.prototype:(_===null&&(_=new p(E)),_.length=E),_}function p(_,E,P){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(_,E,P);if(typeof _=="number"){if(typeof E=="string")throw new Error("If encoding is specified then the first argument must be a string");return x(this,_)}return b(this,_,E,P)}function b(_,E,P,H){if(typeof E=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&E instanceof ArrayBuffer?function(K,Y,be,We){if(Y.byteLength,be<0||Y.byteLength<be)throw new RangeError("'offset' is out of bounds");if(Y.byteLength<be+(We||0))throw new RangeError("'length' is out of bounds");return Y=be===void 0&&We===void 0?new Uint8Array(Y):We===void 0?new Uint8Array(Y,be):new Uint8Array(Y,be,We),p.TYPED_ARRAY_SUPPORT?(K=Y).__proto__=p.prototype:K=L(K,Y),K}(_,E,P,H):typeof E=="string"?function(K,Y,be){if(typeof be=="string"&&be!==""||(be="utf8"),!p.isEncoding(be))throw new TypeError('"encoding" must be a valid string encoding');var We=0|N(Y,be),Ve=(K=f(K,We)).write(Y,be);return Ve!==We&&(K=K.slice(0,Ve)),K}(_,E,P):function(K,Y){if(p.isBuffer(Y)){var be=0|j(Y.length);return(K=f(K,be)).length===0||Y.copy(K,0,0,be),K}if(Y){if(typeof ArrayBuffer<"u"&&Y.buffer instanceof ArrayBuffer||"length"in Y)return typeof Y.length!="number"||(We=Y.length)!=We?f(K,0):L(K,Y);if(Y.type==="Buffer"&&u(Y.data))return L(K,Y.data)}var We;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(_,E)}function v(_){if(typeof _!="number")throw new TypeError('"size" argument must be a number');if(_<0)throw new RangeError('"size" argument must not be negative')}function x(_,E){if(v(E),_=f(_,E<0?0:0|j(E)),!p.TYPED_ARRAY_SUPPORT)for(var P=0;P<E;++P)_[P]=0;return _}function L(_,E){var P=E.length<0?0:0|j(E.length);_=f(_,P);for(var H=0;H<P;H+=1)_[H]=255&E[H];return _}function j(_){if(_>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|_}function N(_,E){if(p.isBuffer(_))return _.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(_)||_ instanceof ArrayBuffer))return _.byteLength;typeof _!="string"&&(_=""+_);var P=_.length;if(P===0)return 0;for(var H=!1;;)switch(E){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":case void 0:return ee(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*P;case"hex":return P>>>1;case"base64":return Q(_).length;default:if(H)return ee(_).length;E=(""+E).toLowerCase(),H=!0}}function $(_,E,P){var H=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0)<=(E>>>=0))return"";for(_||(_="utf8");;)switch(_){case"hex":return ne(this,E,P);case"utf8":case"utf-8":return ie(this,E,P);case"ascii":return he(this,E,P);case"latin1":case"binary":return ke(this,E,P);case"base64":return de(this,E,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,E,P);default:if(H)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),H=!0}}function R(_,E,P){var H=_[E];_[E]=_[P],_[P]=H}function z(_,E,P,H,K){if(_.length===0)return-1;if(typeof P=="string"?(H=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,isNaN(P)&&(P=K?0:_.length-1),P<0&&(P=_.length+P),P>=_.length){if(K)return-1;P=_.length-1}else if(P<0){if(!K)return-1;P=0}if(typeof E=="string"&&(E=p.from(E,H)),p.isBuffer(E))return E.length===0?-1:U(_,E,P,H,K);if(typeof E=="number")return E&=255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(_,E,P):Uint8Array.prototype.lastIndexOf.call(_,E,P):U(_,[E],P,H,K);throw new TypeError("val must be string, number or Buffer")}function U(_,E,P,H,K){var Y,be=1,We=_.length,Ve=E.length;if(H!==void 0&&((H=String(H).toLowerCase())==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(_.length<2||E.length<2)return-1;be=2,We/=2,Ve/=2,P/=2}function at(jn,Qt){return be===1?jn[Qt]:jn.readUInt16BE(Qt*be)}if(K){var et=-1;for(Y=P;Y<We;Y++)if(at(_,Y)===at(E,et===-1?0:Y-et)){if(et===-1&&(et=Y),Y-et+1===Ve)return et*be}else et!==-1&&(Y-=Y-et),et=-1}else for(P+Ve>We&&(P=We-Ve),Y=P;Y>=0;Y--){for(var pn=!0,Yt=0;Yt<Ve;Yt++)if(at(_,Y+Yt)!==at(E,Yt)){pn=!1;break}if(pn)return Y}return-1}function F(_,E,P,H){P=Number(P)||0;var K=_.length-P;H?(H=Number(H))>K&&(H=K):H=K;var Y=E.length;if(Y%2!=0)throw new TypeError("Invalid hex string");H>Y/2&&(H=Y/2);for(var be=0;be<H;++be){var We=parseInt(E.substr(2*be,2),16);if(isNaN(We))return be;_[P+be]=We}return be}function G(_,E,P,H){return we(ee(E,_.length-P),_,P,H)}function q(_,E,P,H){return we(function(K){for(var Y=[],be=0;be<K.length;++be)Y.push(255&K.charCodeAt(be));return Y}(E),_,P,H)}function D(_,E,P,H){return q(_,E,P,H)}function V(_,E,P,H){return we(Q(E),_,P,H)}function ce(_,E,P,H){return we(function(K,Y){for(var be,We,Ve,at=[],et=0;et<K.length&&!((Y-=2)<0);++et)be=K.charCodeAt(et),We=be>>8,Ve=be%256,at.push(Ve),at.push(We);return at}(E,_.length-P),_,P,H)}function de(_,E,P){return E===0&&P===_.length?s.fromByteArray(_):s.fromByteArray(_.slice(E,P))}function ie(_,E,P){P=Math.min(_.length,P);for(var H=[],K=E;K<P;){var Y,be,We,Ve,at=_[K],et=null,pn=at>239?4:at>223?3:at>191?2:1;if(K+pn<=P)switch(pn){case 1:at<128&&(et=at);break;case 2:(192&(Y=_[K+1]))==128&&(Ve=(31&at)<<6|63&Y)>127&&(et=Ve);break;case 3:Y=_[K+1],be=_[K+2],(192&Y)==128&&(192&be)==128&&(Ve=(15&at)<<12|(63&Y)<<6|63&be)>2047&&(Ve<55296||Ve>57343)&&(et=Ve);break;case 4:Y=_[K+1],be=_[K+2],We=_[K+3],(192&Y)==128&&(192&be)==128&&(192&We)==128&&(Ve=(15&at)<<18|(63&Y)<<12|(63&be)<<6|63&We)>65535&&Ve<1114112&&(et=Ve)}et===null?(et=65533,pn=1):et>65535&&(et-=65536,H.push(et>>>10&1023|55296),et=56320|1023&et),H.push(et),K+=pn}return function(Yt){var jn=Yt.length;if(jn<=4096)return String.fromCharCode.apply(String,Yt);for(var Qt="",Vt=0;Vt<jn;)Qt+=String.fromCharCode.apply(String,Yt.slice(Vt,Vt+=4096));return Qt}(H)}t.Buffer=p,t.SlowBuffer=function(_){return+_!=_&&(_=0),p.alloc(+_)},t.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=o.TYPED_ARRAY_SUPPORT!==void 0?o.TYPED_ARRAY_SUPPORT:function(){try{var _=new Uint8Array(1);return _.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},_.foo()===42&&typeof _.subarray=="function"&&_.subarray(1,1).byteLength===0}catch{return!1}}(),t.kMaxLength=d(),p.poolSize=8192,p._augment=function(_){return _.__proto__=p.prototype,_},p.from=function(_,E,P){return b(null,_,E,P)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(_,E,P){return function(H,K,Y,be){return v(K),K<=0?f(H,K):Y!==void 0?typeof be=="string"?f(H,K).fill(Y,be):f(H,K).fill(Y):f(H,K)}(null,_,E,P)},p.allocUnsafe=function(_){return x(null,_)},p.allocUnsafeSlow=function(_){return x(null,_)},p.isBuffer=function(_){return!(_==null||!_._isBuffer)},p.compare=function(_,E){if(!p.isBuffer(_)||!p.isBuffer(E))throw new TypeError("Arguments must be Buffers");if(_===E)return 0;for(var P=_.length,H=E.length,K=0,Y=Math.min(P,H);K<Y;++K)if(_[K]!==E[K]){P=_[K],H=E[K];break}return P<H?-1:H<P?1:0},p.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(_,E){if(!u(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return p.alloc(0);var P;if(E===void 0)for(E=0,P=0;P<_.length;++P)E+=_[P].length;var H=p.allocUnsafe(E),K=0;for(P=0;P<_.length;++P){var Y=_[P];if(!p.isBuffer(Y))throw new TypeError('"list" argument must be an Array of Buffers');Y.copy(H,K),K+=Y.length}return H},p.byteLength=N,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<_;E+=2)R(this,E,E+1);return this},p.prototype.swap32=function(){var _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<_;E+=4)R(this,E,E+3),R(this,E+1,E+2);return this},p.prototype.swap64=function(){var _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<_;E+=8)R(this,E,E+7),R(this,E+1,E+6),R(this,E+2,E+5),R(this,E+3,E+4);return this},p.prototype.toString=function(){var _=0|this.length;return _===0?"":arguments.length===0?ie(this,0,_):$.apply(this,arguments)},p.prototype.equals=function(_){if(!p.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||p.compare(this,_)===0},p.prototype.inspect=function(){var _="",E=t.INSPECT_MAX_BYTES;return this.length>0&&(_=this.toString("hex",0,E).match(/.{2}/g).join(" "),this.length>E&&(_+=" ... ")),"<Buffer "+_+">"},p.prototype.compare=function(_,E,P,H,K){if(!p.isBuffer(_))throw new TypeError("Argument must be a Buffer");if(E===void 0&&(E=0),P===void 0&&(P=_?_.length:0),H===void 0&&(H=0),K===void 0&&(K=this.length),E<0||P>_.length||H<0||K>this.length)throw new RangeError("out of range index");if(H>=K&&E>=P)return 0;if(H>=K)return-1;if(E>=P)return 1;if(this===_)return 0;for(var Y=(K>>>=0)-(H>>>=0),be=(P>>>=0)-(E>>>=0),We=Math.min(Y,be),Ve=this.slice(H,K),at=_.slice(E,P),et=0;et<We;++et)if(Ve[et]!==at[et]){Y=Ve[et],be=at[et];break}return Y<be?-1:be<Y?1:0},p.prototype.includes=function(_,E,P){return this.indexOf(_,E,P)!==-1},p.prototype.indexOf=function(_,E,P){return z(this,_,E,P,!0)},p.prototype.lastIndexOf=function(_,E,P){return z(this,_,E,P,!1)},p.prototype.write=function(_,E,P,H){if(E===void 0)H="utf8",P=this.length,E=0;else if(P===void 0&&typeof E=="string")H=E,P=this.length,E=0;else{if(!isFinite(E))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");E|=0,isFinite(P)?(P|=0,H===void 0&&(H="utf8")):(H=P,P=void 0)}var K=this.length-E;if((P===void 0||P>K)&&(P=K),_.length>0&&(P<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");for(var Y=!1;;)switch(H){case"hex":return F(this,_,E,P);case"utf8":case"utf-8":return G(this,_,E,P);case"ascii":return q(this,_,E,P);case"latin1":case"binary":return D(this,_,E,P);case"base64":return V(this,_,E,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,_,E,P);default:if(Y)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),Y=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function he(_,E,P){var H="";P=Math.min(_.length,P);for(var K=E;K<P;++K)H+=String.fromCharCode(127&_[K]);return H}function ke(_,E,P){var H="";P=Math.min(_.length,P);for(var K=E;K<P;++K)H+=String.fromCharCode(_[K]);return H}function ne(_,E,P){var H=_.length;(!E||E<0)&&(E=0),(!P||P<0||P>H)&&(P=H);for(var K="",Y=E;Y<P;++Y)K+=dt(_[Y]);return K}function pe(_,E,P){for(var H=_.slice(E,P),K="",Y=0;Y<H.length;Y+=2)K+=String.fromCharCode(H[Y]+256*H[Y+1]);return K}function B(_,E,P){if(_%1!=0||_<0)throw new RangeError("offset is not uint");if(_+E>P)throw new RangeError("Trying to access beyond buffer length")}function le(_,E,P,H,K,Y){if(!p.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>K||E<Y)throw new RangeError('"value" argument is out of bounds');if(P+H>_.length)throw new RangeError("Index out of range")}function _e(_,E,P,H){E<0&&(E=65535+E+1);for(var K=0,Y=Math.min(_.length-P,2);K<Y;++K)_[P+K]=(E&255<<8*(H?K:1-K))>>>8*(H?K:1-K)}function Re(_,E,P,H){E<0&&(E=4294967295+E+1);for(var K=0,Y=Math.min(_.length-P,4);K<Y;++K)_[P+K]=E>>>8*(H?K:3-K)&255}function Ce(_,E,P,H,K,Y){if(P+H>_.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function Ne(_,E,P,H,K){return K||Ce(_,0,P,4),l.write(_,E,P,H,23,4),P+4}function Ae(_,E,P,H,K){return K||Ce(_,0,P,8),l.write(_,E,P,H,52,8),P+8}p.prototype.slice=function(_,E){var P,H=this.length;if((_=~~_)<0?(_+=H)<0&&(_=0):_>H&&(_=H),(E=E===void 0?H:~~E)<0?(E+=H)<0&&(E=0):E>H&&(E=H),E<_&&(E=_),p.TYPED_ARRAY_SUPPORT)(P=this.subarray(_,E)).__proto__=p.prototype;else{var K=E-_;P=new p(K,void 0);for(var Y=0;Y<K;++Y)P[Y]=this[Y+_]}return P},p.prototype.readUIntLE=function(_,E,P){_|=0,E|=0,P||B(_,E,this.length);for(var H=this[_],K=1,Y=0;++Y<E&&(K*=256);)H+=this[_+Y]*K;return H},p.prototype.readUIntBE=function(_,E,P){_|=0,E|=0,P||B(_,E,this.length);for(var H=this[_+--E],K=1;E>0&&(K*=256);)H+=this[_+--E]*K;return H},p.prototype.readUInt8=function(_,E){return E||B(_,1,this.length),this[_]},p.prototype.readUInt16LE=function(_,E){return E||B(_,2,this.length),this[_]|this[_+1]<<8},p.prototype.readUInt16BE=function(_,E){return E||B(_,2,this.length),this[_]<<8|this[_+1]},p.prototype.readUInt32LE=function(_,E){return E||B(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},p.prototype.readUInt32BE=function(_,E){return E||B(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},p.prototype.readIntLE=function(_,E,P){_|=0,E|=0,P||B(_,E,this.length);for(var H=this[_],K=1,Y=0;++Y<E&&(K*=256);)H+=this[_+Y]*K;return H>=(K*=128)&&(H-=Math.pow(2,8*E)),H},p.prototype.readIntBE=function(_,E,P){_|=0,E|=0,P||B(_,E,this.length);for(var H=E,K=1,Y=this[_+--H];H>0&&(K*=256);)Y+=this[_+--H]*K;return Y>=(K*=128)&&(Y-=Math.pow(2,8*E)),Y},p.prototype.readInt8=function(_,E){return E||B(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},p.prototype.readInt16LE=function(_,E){E||B(_,2,this.length);var P=this[_]|this[_+1]<<8;return 32768&P?4294901760|P:P},p.prototype.readInt16BE=function(_,E){E||B(_,2,this.length);var P=this[_+1]|this[_]<<8;return 32768&P?4294901760|P:P},p.prototype.readInt32LE=function(_,E){return E||B(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},p.prototype.readInt32BE=function(_,E){return E||B(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},p.prototype.readFloatLE=function(_,E){return E||B(_,4,this.length),l.read(this,_,!0,23,4)},p.prototype.readFloatBE=function(_,E){return E||B(_,4,this.length),l.read(this,_,!1,23,4)},p.prototype.readDoubleLE=function(_,E){return E||B(_,8,this.length),l.read(this,_,!0,52,8)},p.prototype.readDoubleBE=function(_,E){return E||B(_,8,this.length),l.read(this,_,!1,52,8)},p.prototype.writeUIntLE=function(_,E,P,H){_=+_,E|=0,P|=0,H||le(this,_,E,P,Math.pow(2,8*P)-1,0);var K=1,Y=0;for(this[E]=255&_;++Y<P&&(K*=256);)this[E+Y]=_/K&255;return E+P},p.prototype.writeUIntBE=function(_,E,P,H){_=+_,E|=0,P|=0,H||le(this,_,E,P,Math.pow(2,8*P)-1,0);var K=P-1,Y=1;for(this[E+K]=255&_;--K>=0&&(Y*=256);)this[E+K]=_/Y&255;return E+P},p.prototype.writeUInt8=function(_,E,P){return _=+_,E|=0,P||le(this,_,E,1,255,0),p.TYPED_ARRAY_SUPPORT||(_=Math.floor(_)),this[E]=255&_,E+1},p.prototype.writeUInt16LE=function(_,E,P){return _=+_,E|=0,P||le(this,_,E,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[E]=255&_,this[E+1]=_>>>8):_e(this,_,E,!0),E+2},p.prototype.writeUInt16BE=function(_,E,P){return _=+_,E|=0,P||le(this,_,E,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[E]=_>>>8,this[E+1]=255&_):_e(this,_,E,!1),E+2},p.prototype.writeUInt32LE=function(_,E,P){return _=+_,E|=0,P||le(this,_,E,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[E+3]=_>>>24,this[E+2]=_>>>16,this[E+1]=_>>>8,this[E]=255&_):Re(this,_,E,!0),E+4},p.prototype.writeUInt32BE=function(_,E,P){return _=+_,E|=0,P||le(this,_,E,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=255&_):Re(this,_,E,!1),E+4},p.prototype.writeIntLE=function(_,E,P,H){if(_=+_,E|=0,!H){var K=Math.pow(2,8*P-1);le(this,_,E,P,K-1,-K)}var Y=0,be=1,We=0;for(this[E]=255&_;++Y<P&&(be*=256);)_<0&&We===0&&this[E+Y-1]!==0&&(We=1),this[E+Y]=(_/be>>0)-We&255;return E+P},p.prototype.writeIntBE=function(_,E,P,H){if(_=+_,E|=0,!H){var K=Math.pow(2,8*P-1);le(this,_,E,P,K-1,-K)}var Y=P-1,be=1,We=0;for(this[E+Y]=255&_;--Y>=0&&(be*=256);)_<0&&We===0&&this[E+Y+1]!==0&&(We=1),this[E+Y]=(_/be>>0)-We&255;return E+P},p.prototype.writeInt8=function(_,E,P){return _=+_,E|=0,P||le(this,_,E,1,127,-128),p.TYPED_ARRAY_SUPPORT||(_=Math.floor(_)),_<0&&(_=255+_+1),this[E]=255&_,E+1},p.prototype.writeInt16LE=function(_,E,P){return _=+_,E|=0,P||le(this,_,E,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[E]=255&_,this[E+1]=_>>>8):_e(this,_,E,!0),E+2},p.prototype.writeInt16BE=function(_,E,P){return _=+_,E|=0,P||le(this,_,E,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[E]=_>>>8,this[E+1]=255&_):_e(this,_,E,!1),E+2},p.prototype.writeInt32LE=function(_,E,P){return _=+_,E|=0,P||le(this,_,E,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[E]=255&_,this[E+1]=_>>>8,this[E+2]=_>>>16,this[E+3]=_>>>24):Re(this,_,E,!0),E+4},p.prototype.writeInt32BE=function(_,E,P){return _=+_,E|=0,P||le(this,_,E,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),p.TYPED_ARRAY_SUPPORT?(this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=255&_):Re(this,_,E,!1),E+4},p.prototype.writeFloatLE=function(_,E,P){return Ne(this,_,E,!0,P)},p.prototype.writeFloatBE=function(_,E,P){return Ne(this,_,E,!1,P)},p.prototype.writeDoubleLE=function(_,E,P){return Ae(this,_,E,!0,P)},p.prototype.writeDoubleBE=function(_,E,P){return Ae(this,_,E,!1,P)},p.prototype.copy=function(_,E,P,H){if(P||(P=0),H||H===0||(H=this.length),E>=_.length&&(E=_.length),E||(E=0),H>0&&H<P&&(H=P),H===P||_.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("sourceStart out of bounds");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),_.length-E<H-P&&(H=_.length-E+P);var K,Y=H-P;if(this===_&&P<E&&E<H)for(K=Y-1;K>=0;--K)_[K+E]=this[K+P];else if(Y<1e3||!p.TYPED_ARRAY_SUPPORT)for(K=0;K<Y;++K)_[K+E]=this[K+P];else Uint8Array.prototype.set.call(_,this.subarray(P,P+Y),E);return Y},p.prototype.fill=function(_,E,P,H){if(typeof _=="string"){if(typeof E=="string"?(H=E,E=0,P=this.length):typeof P=="string"&&(H=P,P=this.length),_.length===1){var K=_.charCodeAt(0);K<256&&(_=K)}if(H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!p.isEncoding(H))throw new TypeError("Unknown encoding: "+H)}else typeof _=="number"&&(_&=255);if(E<0||this.length<E||this.length<P)throw new RangeError("Out of range index");if(P<=E)return this;var Y;if(E>>>=0,P=P===void 0?this.length:P>>>0,_||(_=0),typeof _=="number")for(Y=E;Y<P;++Y)this[Y]=_;else{var be=p.isBuffer(_)?_:ee(new p(_,H).toString()),We=be.length;for(Y=0;Y<P-E;++Y)this[Y+E]=be[Y%We]}return this};var Ue=/[^+\/0-9A-Za-z-_]/g;function dt(_){return _<16?"0"+_.toString(16):_.toString(16)}function ee(_,E){var P;E=E||1/0;for(var H=_.length,K=null,Y=[],be=0;be<H;++be){if((P=_.charCodeAt(be))>55295&&P<57344){if(!K){if(P>56319){(E-=3)>-1&&Y.push(239,191,189);continue}if(be+1===H){(E-=3)>-1&&Y.push(239,191,189);continue}K=P;continue}if(P<56320){(E-=3)>-1&&Y.push(239,191,189),K=P;continue}P=65536+(K-55296<<10|P-56320)}else K&&(E-=3)>-1&&Y.push(239,191,189);if(K=null,P<128){if((E-=1)<0)break;Y.push(P)}else if(P<2048){if((E-=2)<0)break;Y.push(P>>6|192,63&P|128)}else if(P<65536){if((E-=3)<0)break;Y.push(P>>12|224,P>>6&63|128,63&P|128)}else{if(!(P<1114112))throw new Error("Invalid code point");if((E-=4)<0)break;Y.push(P>>18|240,P>>12&63|128,P>>6&63|128,63&P|128)}}return Y}function Q(_){return s.toByteArray(function(E){if((E=function(P){return P.trim?P.trim():P.replace(/^\s+|\s+$/g,"")}(E).replace(Ue,"")).length<2)return"";for(;E.length%4!=0;)E+="=";return E}(_))}function we(_,E,P,H){for(var K=0;K<H&&!(K+P>=E.length||K>=_.length);++K)E[K+P]=_[K];return K}}).call(this,r(15))},function(e,t,r){t.byteLength=function(v){var x=p(v),L=x[0],j=x[1];return 3*(L+j)/4-j},t.toByteArray=function(v){var x,L,j=p(v),N=j[0],$=j[1],R=new l(function(F,G,q){return 3*(G+q)/4-q}(0,N,$)),z=0,U=$>0?N-4:N;for(L=0;L<U;L+=4)x=s[v.charCodeAt(L)]<<18|s[v.charCodeAt(L+1)]<<12|s[v.charCodeAt(L+2)]<<6|s[v.charCodeAt(L+3)],R[z++]=x>>16&255,R[z++]=x>>8&255,R[z++]=255&x;return $===2&&(x=s[v.charCodeAt(L)]<<2|s[v.charCodeAt(L+1)]>>4,R[z++]=255&x),$===1&&(x=s[v.charCodeAt(L)]<<10|s[v.charCodeAt(L+1)]<<4|s[v.charCodeAt(L+2)]>>2,R[z++]=x>>8&255,R[z++]=255&x),R},t.fromByteArray=function(v){for(var x,L=v.length,j=L%3,N=[],$=0,R=L-j;$<R;$+=16383)N.push(b(v,$,$+16383>R?R:$+16383));return j===1?(x=v[L-1],N.push(o[x>>2]+o[x<<4&63]+"==")):j===2&&(x=(v[L-2]<<8)+v[L-1],N.push(o[x>>10]+o[x>>4&63]+o[x<<2&63]+"=")),N.join("")};for(var o=[],s=[],l=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,f=u.length;d<f;++d)o[d]=u[d],s[u.charCodeAt(d)]=d;function p(v){var x=v.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=v.indexOf("=");return L===-1&&(L=x),[L,L===x?0:4-L%4]}function b(v,x,L){for(var j,N,$=[],R=x;R<L;R+=3)j=(v[R]<<16&16711680)+(v[R+1]<<8&65280)+(255&v[R+2]),$.push(o[(N=j)>>18&63]+o[N>>12&63]+o[N>>6&63]+o[63&N]);return $.join("")}s[45]=62,s[95]=63},function(e,t){t.read=function(r,o,s,l,u){var d,f,p=8*u-l-1,b=(1<<p)-1,v=b>>1,x=-7,L=s?u-1:0,j=s?-1:1,N=r[o+L];for(L+=j,d=N&(1<<-x)-1,N>>=-x,x+=p;x>0;d=256*d+r[o+L],L+=j,x-=8);for(f=d&(1<<-x)-1,d>>=-x,x+=l;x>0;f=256*f+r[o+L],L+=j,x-=8);if(d===0)d=1-v;else{if(d===b)return f?NaN:1/0*(N?-1:1);f+=Math.pow(2,l),d-=v}return(N?-1:1)*f*Math.pow(2,d-l)},t.write=function(r,o,s,l,u,d){var f,p,b,v=8*d-u-1,x=(1<<v)-1,L=x>>1,j=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,N=l?0:d-1,$=l?1:-1,R=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(p=isNaN(o)?1:0,f=x):(f=Math.floor(Math.log(o)/Math.LN2),o*(b=Math.pow(2,-f))<1&&(f--,b*=2),(o+=f+L>=1?j/b:j*Math.pow(2,1-L))*b>=2&&(f++,b/=2),f+L>=x?(p=0,f=x):f+L>=1?(p=(o*b-1)*Math.pow(2,u),f+=L):(p=o*Math.pow(2,L-1)*Math.pow(2,u),f=0));u>=8;r[s+N]=255&p,N+=$,p/=256,u-=8);for(f=f<<u|p,v+=u;v>0;r[s+N]=255&f,N+=$,f/=256,v-=8);r[s+N-$]|=128*R}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(o){return r.call(o)=="[object Array]"}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.arrayToString=void 0,t.arrayToString=(o,s,l)=>{const u=o.map(function(f,p){const b=l(f,p);return b===void 0?String(b):s+b.split(`
`).join(`
`+s)}).join(s?`,
`:","),d=s&&u?`
`:"";return`[${d}${u}${d}]`}},function(e,t,r){function o(N){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(N)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=v,t.matchesSelectorAndParentsTo=function(N,$,R){var z=N;do{if(v(z,$))return!0;if(z===R)return!1;z=z.parentNode}while(z);return!1},t.addEvent=function(N,$,R,z){if(N){var U=f({capture:!0},z);N.addEventListener?N.addEventListener($,R,U):N.attachEvent?N.attachEvent("on"+$,R):N["on"+$]=R}},t.removeEvent=function(N,$,R,z){if(N){var U=f({capture:!0},z);N.removeEventListener?N.removeEventListener($,R,U):N.detachEvent?N.detachEvent("on"+$,R):N["on"+$]=null}},t.outerHeight=function(N){var $=N.clientHeight,R=N.ownerDocument.defaultView.getComputedStyle(N);return $+=(0,s.int)(R.borderTopWidth),$+=(0,s.int)(R.borderBottomWidth)},t.outerWidth=function(N){var $=N.clientWidth,R=N.ownerDocument.defaultView.getComputedStyle(N);return $+=(0,s.int)(R.borderLeftWidth),$+=(0,s.int)(R.borderRightWidth)},t.innerHeight=function(N){var $=N.clientHeight,R=N.ownerDocument.defaultView.getComputedStyle(N);return $-=(0,s.int)(R.paddingTop),$-=(0,s.int)(R.paddingBottom)},t.innerWidth=function(N){var $=N.clientWidth,R=N.ownerDocument.defaultView.getComputedStyle(N);return $-=(0,s.int)(R.paddingLeft),$-=(0,s.int)(R.paddingRight)},t.offsetXYFromParent=function(N,$,R){var z=$===$.ownerDocument.body?{left:0,top:0}:$.getBoundingClientRect(),U=(N.clientX+$.scrollLeft-z.left)/R,F=(N.clientY+$.scrollTop-z.top)/R;return{x:U,y:F}},t.createCSSTransform=function(N,$){var R=x(N,$,"px");return p({},(0,l.browserPrefixToKey)("transform",l.default),R)},t.createSVGTransform=function(N,$){return x(N,$,"")},t.getTranslation=x,t.getTouch=function(N,$){return N.targetTouches&&(0,s.findInArray)(N.targetTouches,function(R){return $===R.identifier})||N.changedTouches&&(0,s.findInArray)(N.changedTouches,function(R){return $===R.identifier})},t.getTouchIdentifier=function(N){if(N.targetTouches&&N.targetTouches[0])return N.targetTouches[0].identifier;if(N.changedTouches&&N.changedTouches[0])return N.changedTouches[0].identifier},t.addUserSelectStyles=function(N){if(N){var $=N.getElementById("react-draggable-style-el");$||(($=N.createElement("style")).type="text/css",$.id="react-draggable-style-el",$.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,$.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,N.getElementsByTagName("head")[0].appendChild($)),N.body&&L(N.body,"react-draggable-transparent-selection")}},t.removeUserSelectStyles=function(N){if(N)try{if(N.body&&j(N.body,"react-draggable-transparent-selection"),N.selection)N.selection.empty();else{var $=(N.defaultView||window).getSelection();$&&$.type!=="Caret"&&$.removeAllRanges()}}catch{}},t.addClassName=L,t.removeClassName=j;var s=r(20),l=function(N){if(N&&N.__esModule)return N;if(N===null||o(N)!=="object"&&typeof N!="function")return{default:N};var $=u();if($&&$.has(N))return $.get(N);var R={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in N)if(Object.prototype.hasOwnProperty.call(N,U)){var F=z?Object.getOwnPropertyDescriptor(N,U):null;F&&(F.get||F.set)?Object.defineProperty(R,U,F):R[U]=N[U]}return R.default=N,$&&$.set(N,R),R}(r(56));function u(){if(typeof WeakMap!="function")return null;var N=new WeakMap;return u=function(){return N},N}function d(N,$){var R=Object.keys(N);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(N);$&&(z=z.filter(function(U){return Object.getOwnPropertyDescriptor(N,U).enumerable})),R.push.apply(R,z)}return R}function f(N){for(var $=1;$<arguments.length;$++){var R=arguments[$]!=null?arguments[$]:{};$%2?d(Object(R),!0).forEach(function(z){p(N,z,R[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(R)):d(Object(R)).forEach(function(z){Object.defineProperty(N,z,Object.getOwnPropertyDescriptor(R,z))})}return N}function p(N,$,R){return $ in N?Object.defineProperty(N,$,{value:R,enumerable:!0,configurable:!0,writable:!0}):N[$]=R,N}var b="";function v(N,$){return b||(b=(0,s.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(R){return(0,s.isFunction)(N[R])})),!!(0,s.isFunction)(N[b])&&N[b]($)}function x(N,$,R){var z=N.x,U=N.y,F="translate(".concat(z).concat(R,",").concat(U).concat(R,")");if($){var G="".concat(typeof $.x=="string"?$.x:$.x+R),q="".concat(typeof $.y=="string"?$.y:$.y+R);F="translate(".concat(G,", ").concat(q,")")+F}return F}function L(N,$){N.classList?N.classList.add($):N.className.match(new RegExp("(?:^|\\s)".concat($,"(?!\\S)")))||(N.className+=" ".concat($))}function j(N,$){N.classList?N.classList.remove($):N.className=N.className.replace(new RegExp("(?:^|\\s)".concat($,"(?!\\S)"),"g"),"")}},function(e,t){e.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),r.webpackPolyfill=1),r}},function(e,t,r){var o=r(6),s=r(35);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,`.ck-inspector{--ck-inspector-color-tree-node-hover:#eaf2fb;--ck-inspector-color-tree-node-name:#882680;--ck-inspector-color-tree-node-attribute-name:#8a8a8a;--ck-inspector-color-tree-node-tag:#aaa;--ck-inspector-color-tree-node-attribute:#9a4819;--ck-inspector-color-tree-node-attribute-value:#2a43ac;--ck-inspector-color-tree-text-border:#b7b7b7;--ck-inspector-color-tree-node-border-hover:#b0c6e0;--ck-inspector-color-tree-content-delimiter:#ddd;--ck-inspector-color-tree-node-active-bg:#f5faff;--ck-inspector-color-tree-node-name-active-bg:#2b98f0;--ck-inspector-color-tree-node-inactive:#8a8a8a;--ck-inspector-color-tree-selection:#ff1744;--ck-inspector-color-tree-position:#000;--ck-inspector-color-comment:green}.ck-inspector .ck-inspector-tree{background:var(--ck-inspector-color-white);padding:1em;width:100%;height:100%;overflow:auto;user-select:none}.ck-inspector-tree .ck-inspector-tree-node__attribute{font:inherit;margin-left:.4em;color:var(--ck-inspector-color-tree-node-tag)}.ck-inspector-tree .ck-inspector-tree-node__attribute .ck-inspector-tree-node__attribute__name{color:var(--ck-inspector-color-tree-node-attribute)}.ck-inspector-tree .ck-inspector-tree-node__attribute .ck-inspector-tree-node__attribute__value{color:var(--ck-inspector-color-tree-node-attribute-value)}.ck-inspector-tree .ck-inspector-tree-node__attribute .ck-inspector-tree-node__attribute__value:before{content:'="'}.ck-inspector-tree .ck-inspector-tree-node__attribute .ck-inspector-tree-node__attribute__value:after{content:'"'}.ck-inspector-tree .ck-inspector-tree-node .ck-inspector-tree-node__name{color:var(--ck-inspector-color-tree-node-name);display:inline-block;width:100%;padding:0 .1em;border-left:1px solid transparent}.ck-inspector-tree .ck-inspector-tree-node .ck-inspector-tree-node__name:hover{background:var(--ck-inspector-color-tree-node-hover)}.ck-inspector-tree .ck-inspector-tree-node .ck-inspector-tree-node__content{padding:1px .5em 1px 1.5em;border-left:1px solid var(--ck-inspector-color-tree-content-delimiter);white-space:pre-wrap}.ck-inspector-tree .ck-inspector-tree-node:not(.ck-inspector-tree-node_tagless) .ck-inspector-tree-node__name>.ck-inspector-tree-node__name__bracket_open:after{content:"<";color:var(--ck-inspector-color-tree-node-tag)}.ck-inspector-tree .ck-inspector-tree-node:not(.ck-inspector-tree-node_tagless) .ck-inspector-tree-node__name .ck-inspector-tree-node__name__bracket_close:after{content:">";color:var(--ck-inspector-color-tree-node-tag)}.ck-inspector-tree .ck-inspector-tree-node:not(.ck-inspector-tree-node_tagless).ck-inspector-tree-node_empty .ck-inspector-tree-node__name:after{content:" />"}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_tagless .ck-inspector-tree-node__content{display:none}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__name:not(.ck-inspector-tree-node__name_close),.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__name:not(.ck-inspector-tree-node__name_close) :not(.ck-inspector-tree__position),.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__name:not(.ck-inspector-tree-node__name_close)>.ck-inspector-tree-node__name__bracket:after{background:var(--ck-inspector-color-tree-node-name-active-bg);color:var(--ck-inspector-color-white)}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__content,.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__name_close{background:var(--ck-inspector-color-tree-node-active-bg)}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__content{border-left-color:var(--ck-inspector-color-tree-node-name-active-bg)}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__name{border-left:1px solid var(--ck-inspector-color-tree-node-name-active-bg)}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_disabled{opacity:.8}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_disabled .ck-inspector-tree-node__name,.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_disabled .ck-inspector-tree-node__name *{color:var(--ck-inspector-color-tree-node-inactive)}.ck-inspector-tree .ck-inspector-tree-text{display:block;margin-bottom:1px}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-node__content{border:1px dotted var(--ck-inspector-color-tree-text-border);border-radius:2px;padding:0 1px;margin-right:1px;display:inline-block;word-break:break-all}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-text__attributes:not(:empty){margin-right:.5em}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-text__attributes .ck-inspector-tree-node__attribute{background:var(--ck-inspector-color-tree-node-attribute-name);border-radius:2px;padding:0 .5em}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-text__attributes .ck-inspector-tree-node__attribute+.ck-inspector-tree-node__attribute{margin-left:.2em}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-text__attributes .ck-inspector-tree-node__attribute>*{color:var(--ck-inspector-color-white)}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-text__attributes .ck-inspector-tree-node__attribute:first-child{margin-left:0}.ck-inspector-tree .ck-inspector-tree-text.ck-inspector-tree-node_active .ck-inspector-tree-node__content{border-style:solid;border-color:var(--ck-inspector-color-tree-node-name-active-bg)}.ck-inspector-tree .ck-inspector-tree-text.ck-inspector-tree-node_active .ck-inspector-tree-node__attribute{background:var(--ck-inspector-color-white)}.ck-inspector-tree .ck-inspector-tree-text.ck-inspector-tree-node_active .ck-inspector-tree-node__attribute>*{color:var(--ck-inspector-color-tree-node-name-active-bg)}.ck-inspector-tree .ck-inspector-tree-text.ck-inspector-tree-node_active>.ck-inspector-tree-node__content{background:var(--ck-inspector-color-tree-node-name-active-bg);color:var(--ck-inspector-color-white)}.ck-inspector-tree .ck-inspector-tree-text:not(.ck-inspector-tree-node_active) .ck-inspector-tree-node__content:hover{background:var(--ck-inspector-color-tree-node-hover);border-style:solid;border-color:var(--ck-inspector-color-tree-node-border-hover)}.ck-inspector-tree.ck-inspector-tree_text-direction_ltr .ck-inspector-tree-node__content{direction:ltr}.ck-inspector-tree.ck-inspector-tree_text-direction_rtl .ck-inspector-tree-node__content{direction:rtl}.ck-inspector-tree.ck-inspector-tree_text-direction_rtl .ck-inspector-tree-node__content .ck-inspector-tree-node__name{direction:ltr}.ck-inspector-tree.ck-inspector-tree_text-direction_rtl .ck-inspector-tree__position{transform:rotate(180deg)}.ck-inspector-tree .ck-inspector-tree-comment{color:var(--ck-inspector-color-comment);font-style:italic}.ck-inspector-tree .ck-inspector-tree-comment a{color:inherit;text-decoration:underline}.ck-inspector-tree_compact-text .ck-inspector-tree-text,.ck-inspector-tree_compact-text .ck-inspector-tree-text .ck-inspector-tree-node__content{display:inline}.ck-inspector .ck-inspector__tree__navigation{padding:.5em 1em;border-bottom:1px solid var(--ck-inspector-color-border)}.ck-inspector .ck-inspector__tree__navigation label{margin-right:.5em}.ck-inspector-tree .ck-inspector-tree__position{display:inline-block;position:relative;cursor:default;height:100%;pointer-events:none;vertical-align:top}.ck-inspector-tree .ck-inspector-tree__position:after{content:"";position:absolute;border:1px solid var(--ck-inspector-color-tree-position);width:0;top:0;bottom:0;margin-left:-1px}.ck-inspector-tree .ck-inspector-tree__position:before{margin-left:-1px}.ck-inspector-tree .ck-inspector-tree__position.ck-inspector-tree__position_selection{z-index:2;--ck-inspector-color-tree-position:var(--ck-inspector-color-tree-selection)}.ck-inspector-tree .ck-inspector-tree__position.ck-inspector-tree__position_selection:before{content:"";position:absolute;top:-1px;bottom:-1px;left:0;border-top:2px solid var(--ck-inspector-color-tree-position);border-bottom:2px solid var(--ck-inspector-color-tree-position);width:8px}.ck-inspector-tree .ck-inspector-tree__position.ck-inspector-tree__position_selection.ck-inspector-tree__position_end:before{right:-1px;left:auto}.ck-inspector-tree .ck-inspector-tree__position.ck-inspector-tree__position_marker{z-index:1}.ck-inspector-tree .ck-inspector-tree__position.ck-inspector-tree__position_marker:before{content:"";display:block;position:absolute;left:0;top:-1px;cursor:default;width:0;height:0;border-left:0 solid transparent;border-bottom:0 solid transparent;border-right:7px solid transparent;border-top:7px solid var(--ck-inspector-color-tree-position)}.ck-inspector-tree .ck-inspector-tree__position.ck-inspector-tree__position_marker.ck-inspector-tree__position_end:before{border-width:0 7px 7px 0;border-left-color:transparent;border-bottom-color:transparent;border-right-color:var(--ck-inspector-color-tree-position);border-top-color:transparent;left:-5px}`,""])},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var o,s=r(82),l=((o=s)&&o.__esModule?o:{default:o}).default,u=l.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=l.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=l.canUseDOM?window.NodeList:{},t.canUseDOM=l.canUseDOM,t.default=u},function(e,t,r){var o=r(6),s=r(38);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,`.ck-inspector,.ck-inspector-portal{--ck-inspector-color-white:#fff;--ck-inspector-color-black:#000;--ck-inspector-color-background:#f3f3f3;--ck-inspector-color-link:#005cc6;--ck-inspector-code-font-size:11px;--ck-inspector-code-font-family:monaco,Consolas,Lucida Console,monospace;--ck-inspector-color-border:#d0d0d0}.ck-inspector,.ck-inspector-portal,.ck-inspector-portal :not(select),.ck-inspector :not(select){box-sizing:border-box;width:auto;height:auto;position:static;margin:0;padding:0;border:0;background:transparent;text-decoration:none;transition:none;word-wrap:break-word;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:12px;line-height:17px;font-weight:400;-webkit-font-smoothing:auto}.ck-inspector{overflow:hidden;border-collapse:collapse;color:var(--ck-inspector-color-black);text-align:left;white-space:normal;cursor:auto;float:none;background:var(--ck-inspector-color-background);border-top:1px solid var(--ck-inspector-color-border);z-index:9999}.ck-inspector.ck-inspector_collapsed>.ck-inspector-navbox>.ck-inspector-navbox__navigation .ck-inspector-horizontal-nav{display:none}.ck-inspector .ck-inspector-navbox__navigation__logo{background-size:contain;background-repeat:no-repeat;background-position:50%;display:block;overflow:hidden;text-indent:100px;align-self:center;white-space:nowrap;margin-right:1em;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='68' height='64' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M43.71 11.025a11.508 11.508 0 00-1.213 5.159c0 6.42 5.244 11.625 11.713 11.625.083 0 .167 0 .25-.002v16.282a5.464 5.464 0 01-2.756 4.739L30.986 60.7a5.548 5.548 0 01-5.512 0L4.756 48.828A5.464 5.464 0 012 44.089V20.344c0-1.955 1.05-3.76 2.756-4.738L25.474 3.733a5.548 5.548 0 015.512 0l12.724 7.292z' fill='%23FFF'/%3E%3Cpath d='M45.684 8.79a12.604 12.604 0 00-1.329 5.65c0 7.032 5.744 12.733 12.829 12.733.091 0 .183-.001.274-.003v17.834a5.987 5.987 0 01-3.019 5.19L31.747 63.196a6.076 6.076 0 01-6.037 0L3.02 50.193A5.984 5.984 0 010 45.003V18.997c0-2.14 1.15-4.119 3.019-5.19L25.71.804a6.076 6.076 0 016.037 0L45.684 8.79zm-29.44 11.89c-.834 0-1.51.671-1.51 1.498v.715c0 .828.676 1.498 1.51 1.498h25.489c.833 0 1.51-.67 1.51-1.498v-.715c0-.827-.677-1.498-1.51-1.498h-25.49zm0 9.227c-.834 0-1.51.671-1.51 1.498v.715c0 .828.676 1.498 1.51 1.498h18.479c.833 0 1.509-.67 1.509-1.498v-.715c0-.827-.676-1.498-1.51-1.498H16.244zm0 9.227c-.834 0-1.51.671-1.51 1.498v.715c0 .828.676 1.498 1.51 1.498h25.489c.833 0 1.51-.67 1.51-1.498v-.715c0-.827-.677-1.498-1.51-1.498h-25.49zm41.191-14.459c-5.835 0-10.565-4.695-10.565-10.486 0-5.792 4.73-10.487 10.565-10.487C63.27 3.703 68 8.398 68 14.19c0 5.791-4.73 10.486-10.565 10.486zm3.422-8.68c0-.467-.084-.875-.251-1.225a2.547 2.547 0 00-.686-.88 2.888 2.888 0 00-1.026-.531 4.418 4.418 0 00-1.259-.175c-.134 0-.283.006-.447.018a2.72 2.72 0 00-.446.07l.075-1.4h3.587v-1.8h-5.462l-.214 5.06c.319-.116.682-.21 1.089-.28.406-.071.77-.107 1.088-.107.218 0 .437.021.655.063.218.041.413.114.585.218s.313.244.422.419c.109.175.163.391.163.65 0 .424-.132.745-.396.961a1.434 1.434 0 01-.938.325c-.352 0-.656-.1-.912-.3-.256-.2-.43-.453-.523-.762l-1.925.588c.1.35.258.664.472.943.214.279.47.514.767.706.298.191.63.339.995.443.365.104.749.156 1.151.156.437 0 .86-.064 1.272-.193.41-.13.778-.323 1.1-.581a2.8 2.8 0 00.775-.981c.193-.396.29-.864.29-1.405z' fill='%231EBC61' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E");width:1.8em;height:1.8em;margin-left:1em}.ck-inspector .ck-inspector-navbox__navigation__toggle{margin-right:1em}.ck-inspector .ck-inspector-navbox__navigation__toggle.ck-inspector-navbox__navigation__toggle_up{transform:rotate(180deg)}.ck-inspector .ck-inspector-editor-selector{margin-left:auto;margin-right:.3em}@media screen and (max-width:680px){.ck-inspector .ck-inspector-editor-selector label{display:none}}.ck-inspector .ck-inspector-editor-selector select{margin-left:.5em}.ck-inspector .ck-inspector-code,.ck-inspector .ck-inspector-code *{font-size:var(--ck-inspector-code-font-size);font-family:var(--ck-inspector-code-font-family);cursor:default}.ck-inspector a{color:var(--ck-inspector-color-link);text-decoration:none}.ck-inspector a:hover{text-decoration:underline;cursor:pointer}.ck-inspector button{outline:0}.ck-inspector .ck-inspector-separator{border-right:1px solid var(--ck-inspector-color-border);display:inline-block;width:0;height:20px;margin:0 .5em;vertical-align:middle}`,""])},function(e,t,r){var o=r(49),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},l={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},d={};function f(N){return o.isMemo(N)?u:d[N.$$typeof]||s}d[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},d[o.Memo]=u;var p=Object.defineProperty,b=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,x=Object.getOwnPropertyDescriptor,L=Object.getPrototypeOf,j=Object.prototype;e.exports=function N($,R,z){if(typeof R!="string"){if(j){var U=L(R);U&&U!==j&&N($,U,z)}var F=b(R);v&&(F=F.concat(v(R)));for(var G=f($),q=f(R),D=0;D<F.length;++D){var V=F[D];if(!(l[V]||z&&z[V]||q&&q[V]||G&&G[V])){var ce=x(R,V);try{p($,V,ce)}catch{}}}}return $}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(u,d,f){if(!u.props.bounds)return[d,f];var p=u.props.bounds;p=typeof p=="string"?p:function($){return{left:$.left,top:$.top,right:$.right,bottom:$.bottom}}(p);var b=l(u);if(typeof p=="string"){var v,x=b.ownerDocument,L=x.defaultView;if(!((v=p==="parent"?b.parentNode:x.querySelector(p))instanceof L.HTMLElement))throw new Error('Bounds selector "'+p+'" could not find an element.');var j=L.getComputedStyle(b),N=L.getComputedStyle(v);p={left:-b.offsetLeft+(0,o.int)(N.paddingLeft)+(0,o.int)(j.marginLeft),top:-b.offsetTop+(0,o.int)(N.paddingTop)+(0,o.int)(j.marginTop),right:(0,s.innerWidth)(v)-(0,s.outerWidth)(b)-b.offsetLeft+(0,o.int)(N.paddingRight)-(0,o.int)(j.marginRight),bottom:(0,s.innerHeight)(v)-(0,s.outerHeight)(b)-b.offsetTop+(0,o.int)(N.paddingBottom)-(0,o.int)(j.marginBottom)}}return(0,o.isNum)(p.right)&&(d=Math.min(d,p.right)),(0,o.isNum)(p.bottom)&&(f=Math.min(f,p.bottom)),(0,o.isNum)(p.left)&&(d=Math.max(d,p.left)),(0,o.isNum)(p.top)&&(f=Math.max(f,p.top)),[d,f]},t.snapToGrid=function(u,d,f){var p=Math.round(d/u[0])*u[0],b=Math.round(f/u[1])*u[1];return[p,b]},t.canDragX=function(u){return u.props.axis==="both"||u.props.axis==="x"},t.canDragY=function(u){return u.props.axis==="both"||u.props.axis==="y"},t.getControlPosition=function(u,d,f){var p=typeof d=="number"?(0,s.getTouch)(u,d):null;if(typeof d=="number"&&!p)return null;var b=l(f),v=f.props.offsetParent||b.offsetParent||b.ownerDocument.body;return(0,s.offsetXYFromParent)(p||u,v,f.props.scale)},t.createCoreData=function(u,d,f){var p=u.state,b=!(0,o.isNum)(p.lastX),v=l(u);return b?{node:v,deltaX:0,deltaY:0,lastX:d,lastY:f,x:d,y:f}:{node:v,deltaX:d-p.lastX,deltaY:f-p.lastY,lastX:p.lastX,lastY:p.lastY,x:d,y:f}},t.createDraggableData=function(u,d){var f=u.props.scale;return{node:d.node,x:u.state.x+d.deltaX/f,y:u.state.y+d.deltaY/f,deltaX:d.deltaX/f,deltaY:d.deltaY/f,lastX:u.state.x,lastY:u.state.y}};var o=r(20),s=r(32);function l(u){var d=u.findDOMNode();if(!d)throw new Error("<DraggableCore>: Unmounted during event!");return d}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function d(f){return[].slice.call(f.querySelectorAll("*"),0).reduce(function(p,b){return p.concat(b.shadowRoot?d(b.shadowRoot):[b])},[]).filter(u)};var o=/input|select|textarea|button|object|iframe/;function s(d){var f=d.offsetWidth<=0&&d.offsetHeight<=0;if(f&&!d.innerHTML)return!0;try{var p=window.getComputedStyle(d);return f?p.getPropertyValue("overflow")!=="visible"||d.scrollWidth<=0&&d.scrollHeight<=0:p.getPropertyValue("display")=="none"}catch{return console.warn("Failed to inspect element style"),!1}}function l(d,f){var p=d.nodeName.toLowerCase();return(o.test(p)&&!d.disabled||p==="a"&&d.href||f)&&function(b){for(var v=b,x=b.getRootNode&&b.getRootNode();v&&v!==document.body;){if(x&&v===x&&(v=x.host.parentNode),s(v))return!1;v=v.parentNode}return!0}(d)}function u(d){var f=d.getAttribute("tabindex");f===null&&(f=void 0);var p=isNaN(f);return(p||f>=0)&&l(d,!p)}e.exports=t.default},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){d&&(d.removeAttribute?d.removeAttribute("aria-hidden"):d.length!=null?d.forEach(function(b){return b.removeAttribute("aria-hidden")}):document.querySelectorAll(d).forEach(function(b){return b.removeAttribute("aria-hidden")})),d=null},t.log=function(){},t.assertNodeList=f,t.setElement=function(b){var v=b;if(typeof v=="string"&&u.canUseDOM){var x=document.querySelectorAll(v);f(x,v),v=x}return d=v||d},t.validateElement=p,t.hide=function(b){var v=!0,x=!1,L=void 0;try{for(var j,N=p(b)[Symbol.iterator]();!(v=(j=N.next()).done);v=!0)j.value.setAttribute("aria-hidden","true")}catch($){x=!0,L=$}finally{try{!v&&N.return&&N.return()}finally{if(x)throw L}}},t.show=function(b){var v=!0,x=!1,L=void 0;try{for(var j,N=p(b)[Symbol.iterator]();!(v=(j=N.next()).done);v=!0)j.value.removeAttribute("aria-hidden")}catch($){x=!0,L=$}finally{try{!v&&N.return&&N.return()}finally{if(x)throw L}}},t.documentNotReadyOrSSRTesting=function(){d=null};var o,s=r(81),l=(o=s)&&o.__esModule?o:{default:o},u=r(36),d=null;function f(b,v){if(!b||!b.length)throw new Error("react-modal: No elements were found for selector "+v+".")}function p(b){var v=b||d;return v?Array.isArray(v)||v instanceof HTMLCollection||v instanceof NodeList?v:[v]:((0,l.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(s.openInstances.length),s.openInstances.forEach(function(l){return console.log(l)}),console.log("end portalOpenInstances ----------")},t.resetState=function(){s=new o};var o=function l(){var u=this;(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.register=function(d){u.openInstances.indexOf(d)===-1&&(u.openInstances.push(d),u.emit("register"))},this.deregister=function(d){var f=u.openInstances.indexOf(d);f!==-1&&(u.openInstances.splice(f,1),u.emit("deregister"))},this.subscribe=function(d){u.subscribers.push(d)},this.emit=function(d){u.subscribers.forEach(function(f){return f(d,u.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},s=new o;t.default=s},function(e,t,r){e.exports=r(51)},function(e,t,r){var o=r(52),s=o.default,l=o.DraggableCore;e.exports=s,e.exports.default=s,e.exports.DraggableCore=l},function(e,t,r){var o=r(76),s={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(l,u){var d,f,p,b,v,x,L=!1;u||(u={}),d=u.debug||!1;try{if(p=o(),b=document.createRange(),v=document.getSelection(),(x=document.createElement("span")).textContent=l,x.style.all="unset",x.style.position="fixed",x.style.top=0,x.style.clip="rect(0, 0, 0, 0)",x.style.whiteSpace="pre",x.style.webkitUserSelect="text",x.style.MozUserSelect="text",x.style.msUserSelect="text",x.style.userSelect="text",x.addEventListener("copy",function(j){if(j.stopPropagation(),u.format)if(j.preventDefault(),j.clipboardData===void 0){d&&console.warn("unable to use e.clipboardData"),d&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var N=s[u.format]||s.default;window.clipboardData.setData(N,l)}else j.clipboardData.clearData(),j.clipboardData.setData(u.format,l);u.onCopy&&(j.preventDefault(),u.onCopy(j.clipboardData))}),document.body.appendChild(x),b.selectNodeContents(x),v.addRange(b),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");L=!0}catch(j){d&&console.error("unable to copy using execCommand: ",j),d&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(u.format||"text",l),u.onCopy&&u.onCopy(window.clipboardData),L=!0}catch(N){d&&console.error("unable to copy using clipboardData: ",N),d&&console.error("falling back to prompt"),f=function($){var R=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return $.replace(/#{\s*key\s*}/g,R)}("message"in u?u.message:"Copy to clipboard: #{key}, Enter"),window.prompt(f,l)}}finally{v&&(typeof v.removeRange=="function"?v.removeRange(b):v.removeAllRanges()),x&&document.body.removeChild(x),p()}return L}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(77),l=(o=s)&&o.__esModule?o:{default:o};t.default=l.default,e.exports=t.default},function(e,t,r){e.exports=r(50)},function(e,t,r){var o=typeof Symbol=="function"&&Symbol.for,s=o?Symbol.for("react.element"):60103,l=o?Symbol.for("react.portal"):60106,u=o?Symbol.for("react.fragment"):60107,d=o?Symbol.for("react.strict_mode"):60108,f=o?Symbol.for("react.profiler"):60114,p=o?Symbol.for("react.provider"):60109,b=o?Symbol.for("react.context"):60110,v=o?Symbol.for("react.async_mode"):60111,x=o?Symbol.for("react.concurrent_mode"):60111,L=o?Symbol.for("react.forward_ref"):60112,j=o?Symbol.for("react.suspense"):60113,N=o?Symbol.for("react.suspense_list"):60120,$=o?Symbol.for("react.memo"):60115,R=o?Symbol.for("react.lazy"):60116,z=o?Symbol.for("react.block"):60121,U=o?Symbol.for("react.fundamental"):60117,F=o?Symbol.for("react.responder"):60118,G=o?Symbol.for("react.scope"):60119;function q(V){if(typeof V=="object"&&V!==null){var ce=V.$$typeof;switch(ce){case s:switch(V=V.type){case v:case x:case u:case f:case d:case j:return V;default:switch(V=V&&V.$$typeof){case b:case L:case R:case $:case p:return V;default:return ce}}case l:return ce}}}function D(V){return q(V)===x}t.AsyncMode=v,t.ConcurrentMode=x,t.ContextConsumer=b,t.ContextProvider=p,t.Element=s,t.ForwardRef=L,t.Fragment=u,t.Lazy=R,t.Memo=$,t.Portal=l,t.Profiler=f,t.StrictMode=d,t.Suspense=j,t.isAsyncMode=function(V){return D(V)||q(V)===v},t.isConcurrentMode=D,t.isContextConsumer=function(V){return q(V)===b},t.isContextProvider=function(V){return q(V)===p},t.isElement=function(V){return typeof V=="object"&&V!==null&&V.$$typeof===s},t.isForwardRef=function(V){return q(V)===L},t.isFragment=function(V){return q(V)===u},t.isLazy=function(V){return q(V)===R},t.isMemo=function(V){return q(V)===$},t.isPortal=function(V){return q(V)===l},t.isProfiler=function(V){return q(V)===f},t.isStrictMode=function(V){return q(V)===d},t.isSuspense=function(V){return q(V)===j},t.isValidElementType=function(V){return typeof V=="string"||typeof V=="function"||V===u||V===x||V===f||V===d||V===j||V===N||typeof V=="object"&&V!==null&&(V.$$typeof===R||V.$$typeof===$||V.$$typeof===p||V.$$typeof===b||V.$$typeof===L||V.$$typeof===U||V.$$typeof===F||V.$$typeof===G||V.$$typeof===z)},t.typeOf=q},function(e,t,r){var o=60103,s=60106,l=60107,u=60108,d=60114,f=60109,p=60110,b=60112,v=60113,x=60120,L=60115,j=60116,N=60121,$=60122,R=60117,z=60129,U=60131;if(typeof Symbol=="function"&&Symbol.for){var F=Symbol.for;o=F("react.element"),s=F("react.portal"),l=F("react.fragment"),u=F("react.strict_mode"),d=F("react.profiler"),f=F("react.provider"),p=F("react.context"),b=F("react.forward_ref"),v=F("react.suspense"),x=F("react.suspense_list"),L=F("react.memo"),j=F("react.lazy"),N=F("react.block"),$=F("react.server.block"),R=F("react.fundamental"),z=F("react.debug_trace_mode"),U=F("react.legacy_hidden")}function G(B){if(typeof B=="object"&&B!==null){var le=B.$$typeof;switch(le){case o:switch(B=B.type){case l:case d:case u:case v:case x:return B;default:switch(B=B&&B.$$typeof){case p:case b:case j:case L:case f:return B;default:return le}}case s:return le}}}var q=f,D=o,V=b,ce=l,de=j,ie=L,he=s,ke=d,ne=u,pe=v;t.ContextConsumer=p,t.ContextProvider=q,t.Element=D,t.ForwardRef=V,t.Fragment=ce,t.Lazy=de,t.Memo=ie,t.Portal=he,t.Profiler=ke,t.StrictMode=ne,t.Suspense=pe,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(B){return G(B)===p},t.isContextProvider=function(B){return G(B)===f},t.isElement=function(B){return typeof B=="object"&&B!==null&&B.$$typeof===o},t.isForwardRef=function(B){return G(B)===b},t.isFragment=function(B){return G(B)===l},t.isLazy=function(B){return G(B)===j},t.isMemo=function(B){return G(B)===L},t.isPortal=function(B){return G(B)===s},t.isProfiler=function(B){return G(B)===d},t.isStrictMode=function(B){return G(B)===u},t.isSuspense=function(B){return G(B)===v},t.isValidElementType=function(B){return typeof B=="string"||typeof B=="function"||B===l||B===d||B===z||B===u||B===v||B===x||B===U||typeof B=="object"&&B!==null&&(B.$$typeof===j||B.$$typeof===L||B.$$typeof===f||B.$$typeof===p||B.$$typeof===b||B.$$typeof===R||B.$$typeof===N||B[0]===$)},t.typeOf=G},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return b.default}}),t.default=void 0;var o=function(ne){if(ne&&ne.__esModule)return ne;if(ne===null||j(ne)!=="object"&&typeof ne!="function")return{default:ne};var pe=L();if(pe&&pe.has(ne))return pe.get(ne);var B={},le=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _e in ne)if(Object.prototype.hasOwnProperty.call(ne,_e)){var Re=le?Object.getOwnPropertyDescriptor(ne,_e):null;Re&&(Re.get||Re.set)?Object.defineProperty(B,_e,Re):B[_e]=ne[_e]}return B.default=ne,pe&&pe.set(ne,B),B}(r(0)),s=x(r(18)),l=x(r(12)),u=x(r(55)),d=r(32),f=r(40),p=r(20),b=x(r(57)),v=x(r(41));function x(ne){return ne&&ne.__esModule?ne:{default:ne}}function L(){if(typeof WeakMap!="function")return null;var ne=new WeakMap;return L=function(){return ne},ne}function j(ne){return(j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(ne)}function N(){return(N=Object.assign||function(ne){for(var pe=1;pe<arguments.length;pe++){var B=arguments[pe];for(var le in B)Object.prototype.hasOwnProperty.call(B,le)&&(ne[le]=B[le])}return ne}).apply(this,arguments)}function $(ne,pe){if(ne==null)return{};var B,le,_e=function(Ce,Ne){if(Ce==null)return{};var Ae,Ue,dt={},ee=Object.keys(Ce);for(Ue=0;Ue<ee.length;Ue++)Ae=ee[Ue],Ne.indexOf(Ae)>=0||(dt[Ae]=Ce[Ae]);return dt}(ne,pe);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(ne);for(le=0;le<Re.length;le++)B=Re[le],pe.indexOf(B)>=0||Object.prototype.propertyIsEnumerable.call(ne,B)&&(_e[B]=ne[B])}return _e}function R(ne,pe){return function(B){if(Array.isArray(B))return B}(ne)||function(B,le){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(B)))){var _e=[],Re=!0,Ce=!1,Ne=void 0;try{for(var Ae,Ue=B[Symbol.iterator]();!(Re=(Ae=Ue.next()).done)&&(_e.push(Ae.value),!le||_e.length!==le);Re=!0);}catch(dt){Ce=!0,Ne=dt}finally{try{Re||Ue.return==null||Ue.return()}finally{if(Ce)throw Ne}}return _e}}(ne,pe)||function(B,le){if(B){if(typeof B=="string")return z(B,le);var _e=Object.prototype.toString.call(B).slice(8,-1);if(_e==="Object"&&B.constructor&&(_e=B.constructor.name),_e==="Map"||_e==="Set")return Array.from(B);if(_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return z(B,le)}}(ne,pe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function z(ne,pe){(pe==null||pe>ne.length)&&(pe=ne.length);for(var B=0,le=new Array(pe);B<pe;B++)le[B]=ne[B];return le}function U(ne,pe){var B=Object.keys(ne);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(ne);pe&&(le=le.filter(function(_e){return Object.getOwnPropertyDescriptor(ne,_e).enumerable})),B.push.apply(B,le)}return B}function F(ne){for(var pe=1;pe<arguments.length;pe++){var B=arguments[pe]!=null?arguments[pe]:{};pe%2?U(Object(B),!0).forEach(function(le){he(ne,le,B[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(B)):U(Object(B)).forEach(function(le){Object.defineProperty(ne,le,Object.getOwnPropertyDescriptor(B,le))})}return ne}function G(ne,pe){for(var B=0;B<pe.length;B++){var le=pe[B];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(ne,le.key,le)}}function q(ne,pe,B){return pe&&G(ne.prototype,pe),B&&G(ne,B),ne}function D(ne,pe){return(D=Object.setPrototypeOf||function(B,le){return B.__proto__=le,B})(ne,pe)}function V(ne){var pe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var B,le=ie(ne);if(pe){var _e=ie(this).constructor;B=Reflect.construct(le,arguments,_e)}else B=le.apply(this,arguments);return ce(this,B)}}function ce(ne,pe){return!pe||j(pe)!=="object"&&typeof pe!="function"?de(ne):pe}function de(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function ie(ne){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(ne)}function he(ne,pe,B){return pe in ne?Object.defineProperty(ne,pe,{value:B,enumerable:!0,configurable:!0,writable:!0}):ne[pe]=B,ne}var ke=function(ne){(function(le,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(_e&&_e.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),_e&&D(le,_e)})(B,ne);var pe=V(B);function B(le){var _e;return function(Re,Ce){if(!(Re instanceof Ce))throw new TypeError("Cannot call a class as a function")}(this,B),he(de(_e=pe.call(this,le)),"onDragStart",function(Re,Ce){if((0,v.default)("Draggable: onDragStart: %j",Ce),_e.props.onStart(Re,(0,f.createDraggableData)(de(_e),Ce))===!1)return!1;_e.setState({dragging:!0,dragged:!0})}),he(de(_e),"onDrag",function(Re,Ce){if(!_e.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",Ce);var Ne=(0,f.createDraggableData)(de(_e),Ce),Ae={x:Ne.x,y:Ne.y};if(_e.props.bounds){var Ue=Ae.x,dt=Ae.y;Ae.x+=_e.state.slackX,Ae.y+=_e.state.slackY;var ee=R((0,f.getBoundPosition)(de(_e),Ae.x,Ae.y),2),Q=ee[0],we=ee[1];Ae.x=Q,Ae.y=we,Ae.slackX=_e.state.slackX+(Ue-Ae.x),Ae.slackY=_e.state.slackY+(dt-Ae.y),Ne.x=Ae.x,Ne.y=Ae.y,Ne.deltaX=Ae.x-_e.state.x,Ne.deltaY=Ae.y-_e.state.y}if(_e.props.onDrag(Re,Ne)===!1)return!1;_e.setState(Ae)}),he(de(_e),"onDragStop",function(Re,Ce){if(!_e.state.dragging||_e.props.onStop(Re,(0,f.createDraggableData)(de(_e),Ce))===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",Ce);var Ne={dragging:!1,slackX:0,slackY:0};if(_e.props.position){var Ae=_e.props.position,Ue=Ae.x,dt=Ae.y;Ne.x=Ue,Ne.y=dt}_e.setState(Ne)}),_e.state={dragging:!1,dragged:!1,x:le.position?le.position.x:le.defaultPosition.x,y:le.position?le.position.y:le.defaultPosition.y,prevPropsPosition:F({},le.position),slackX:0,slackY:0,isElementSVG:!1},!le.position||le.onDrag||le.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),_e}return q(B,null,[{key:"getDerivedStateFromProps",value:function(le,_e){var Re=le.position,Ce=_e.prevPropsPosition;return!Re||Ce&&Re.x===Ce.x&&Re.y===Ce.y?null:((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:Re,prevPropsPosition:Ce}),{x:Re.x,y:Re.y,prevPropsPosition:F({},Re)})}}]),q(B,[{key:"componentDidMount",value:function(){window.SVGElement!==void 0&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:l.default.findDOMNode(this)}},{key:"render",value:function(){var le,_e=this.props,Re=(_e.axis,_e.bounds,_e.children),Ce=_e.defaultPosition,Ne=_e.defaultClassName,Ae=_e.defaultClassNameDragging,Ue=_e.defaultClassNameDragged,dt=_e.position,ee=_e.positionOffset,Q=(_e.scale,$(_e,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),we={},_=null,E=!dt||this.state.dragging,P=dt||Ce,H={x:(0,f.canDragX)(this)&&E?this.state.x:P.x,y:(0,f.canDragY)(this)&&E?this.state.y:P.y};this.state.isElementSVG?_=(0,d.createSVGTransform)(H,ee):we=(0,d.createCSSTransform)(H,ee);var K=(0,u.default)(Re.props.className||"",Ne,(he(le={},Ae,this.state.dragging),he(le,Ue,this.state.dragged),le));return o.createElement(b.default,N({},Q,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(Re),{className:K,style:F(F({},Re.props.style),we),transform:_}))}}]),B}(o.Component);t.default=ke,he(ke,"displayName","Draggable"),he(ke,"propTypes",F(F({},b.default.propTypes),{},{axis:s.default.oneOf(["both","x","y","none"]),bounds:s.default.oneOfType([s.default.shape({left:s.default.number,right:s.default.number,top:s.default.number,bottom:s.default.number}),s.default.string,s.default.oneOf([!1])]),defaultClassName:s.default.string,defaultClassNameDragging:s.default.string,defaultClassNameDragged:s.default.string,defaultPosition:s.default.shape({x:s.default.number,y:s.default.number}),positionOffset:s.default.shape({x:s.default.oneOfType([s.default.number,s.default.string]),y:s.default.oneOfType([s.default.number,s.default.string])}),position:s.default.shape({x:s.default.number,y:s.default.number}),className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe})),he(ke,"defaultProps",F(F({},b.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},function(e,t,r){var o=r(54);function s(){}function l(){}l.resetWarningCache=s,e.exports=function(){function u(p,b,v,x,L,j){if(j!==o){var N=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw N.name="Invariant Violation",N}}function d(){return u}u.isRequired=u;var f={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:d,element:u,elementType:u,instanceOf:d,node:u,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:l,resetWarningCache:s};return f.PropTypes=f,f}},function(e,t,r){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){var o;(function(){var s={}.hasOwnProperty;function l(){for(var u=[],d=0;d<arguments.length;d++){var f=arguments[d];if(f){var p=typeof f;if(p==="string"||p==="number")u.push(f);else if(Array.isArray(f)){if(f.length){var b=l.apply(null,f);b&&u.push(b)}}else if(p==="object")if(f.toString===Object.prototype.toString)for(var v in f)s.call(f,v)&&f[v]&&u.push(v);else u.push(f.toString())}}return u.join(" ")}e.exports?(l.default=l,e.exports=l):(o=(function(){return l}).apply(t,[]))===void 0||(e.exports=o)})()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=s,t.browserPrefixToKey=l,t.browserPrefixToStyle=function(d,f){return f?"-".concat(f.toLowerCase(),"-").concat(d):d},t.default=void 0;var o=["Moz","Webkit","O","ms"];function s(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u"||window.document===void 0)return"";var f=window.document.documentElement.style;if(d in f)return"";for(var p=0;p<o.length;p++)if(l(d,o[p])in f)return o[p];return""}function l(d,f){return f?"".concat(f).concat(function(p){for(var b="",v=!0,x=0;x<p.length;x++)v?(b+=p[x].toUpperCase(),v=!1):p[x]==="-"?v=!0:b+=p[x];return b}(d)):d}var u=s();t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(ie){if(ie&&ie.__esModule)return ie;if(ie===null||x(ie)!=="object"&&typeof ie!="function")return{default:ie};var he=v();if(he&&he.has(ie))return he.get(ie);var ke={},ne=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var pe in ie)if(Object.prototype.hasOwnProperty.call(ie,pe)){var B=ne?Object.getOwnPropertyDescriptor(ie,pe):null;B&&(B.get||B.set)?Object.defineProperty(ke,pe,B):ke[pe]=ie[pe]}return ke.default=ie,he&&he.set(ie,ke),ke}(r(0)),s=b(r(18)),l=b(r(12)),u=r(32),d=r(40),f=r(20),p=b(r(41));function b(ie){return ie&&ie.__esModule?ie:{default:ie}}function v(){if(typeof WeakMap!="function")return null;var ie=new WeakMap;return v=function(){return ie},ie}function x(ie){return(x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(ie)}function L(ie,he){return function(ke){if(Array.isArray(ke))return ke}(ie)||function(ke,ne){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(ke)))){var pe=[],B=!0,le=!1,_e=void 0;try{for(var Re,Ce=ke[Symbol.iterator]();!(B=(Re=Ce.next()).done)&&(pe.push(Re.value),!ne||pe.length!==ne);B=!0);}catch(Ne){le=!0,_e=Ne}finally{try{B||Ce.return==null||Ce.return()}finally{if(le)throw _e}}return pe}}(ie,he)||function(ke,ne){if(ke){if(typeof ke=="string")return j(ke,ne);var pe=Object.prototype.toString.call(ke).slice(8,-1);if(pe==="Object"&&ke.constructor&&(pe=ke.constructor.name),pe==="Map"||pe==="Set")return Array.from(ke);if(pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return j(ke,ne)}}(ie,he)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(ie,he){(he==null||he>ie.length)&&(he=ie.length);for(var ke=0,ne=new Array(he);ke<he;ke++)ne[ke]=ie[ke];return ne}function N(ie,he){if(!(ie instanceof he))throw new TypeError("Cannot call a class as a function")}function $(ie,he){for(var ke=0;ke<he.length;ke++){var ne=he[ke];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(ie,ne.key,ne)}}function R(ie,he){return(R=Object.setPrototypeOf||function(ke,ne){return ke.__proto__=ne,ke})(ie,he)}function z(ie){var he=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var ke,ne=G(ie);if(he){var pe=G(this).constructor;ke=Reflect.construct(ne,arguments,pe)}else ke=ne.apply(this,arguments);return U(this,ke)}}function U(ie,he){return!he||x(he)!=="object"&&typeof he!="function"?F(ie):he}function F(ie){if(ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie}function G(ie){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(he){return he.__proto__||Object.getPrototypeOf(he)})(ie)}function q(ie,he,ke){return he in ie?Object.defineProperty(ie,he,{value:ke,enumerable:!0,configurable:!0,writable:!0}):ie[he]=ke,ie}var D={start:"touchstart",move:"touchmove",stop:"touchend"},V={start:"mousedown",move:"mousemove",stop:"mouseup"},ce=V,de=function(ie){(function(B,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(le&&le.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),le&&R(B,le)})(pe,ie);var he,ke,ne=z(pe);function pe(){var B;N(this,pe);for(var le=arguments.length,_e=new Array(le),Re=0;Re<le;Re++)_e[Re]=arguments[Re];return q(F(B=ne.call.apply(ne,[this].concat(_e))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),q(F(B),"mounted",!1),q(F(B),"handleDragStart",function(Ce){if(B.props.onMouseDown(Ce),!B.props.allowAnyClick&&typeof Ce.button=="number"&&Ce.button!==0)return!1;var Ne=B.findDOMNode();if(!Ne||!Ne.ownerDocument||!Ne.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var Ae=Ne.ownerDocument;if(!(B.props.disabled||!(Ce.target instanceof Ae.defaultView.Node)||B.props.handle&&!(0,u.matchesSelectorAndParentsTo)(Ce.target,B.props.handle,Ne)||B.props.cancel&&(0,u.matchesSelectorAndParentsTo)(Ce.target,B.props.cancel,Ne))){Ce.type==="touchstart"&&Ce.preventDefault();var Ue=(0,u.getTouchIdentifier)(Ce);B.setState({touchIdentifier:Ue});var dt=(0,d.getControlPosition)(Ce,Ue,F(B));if(dt!=null){var ee=dt.x,Q=dt.y,we=(0,d.createCoreData)(F(B),ee,Q);(0,p.default)("DraggableCore: handleDragStart: %j",we),(0,p.default)("calling",B.props.onStart),B.props.onStart(Ce,we)!==!1&&B.mounted!==!1&&(B.props.enableUserSelectHack&&(0,u.addUserSelectStyles)(Ae),B.setState({dragging:!0,lastX:ee,lastY:Q}),(0,u.addEvent)(Ae,ce.move,B.handleDrag),(0,u.addEvent)(Ae,ce.stop,B.handleDragStop))}}}),q(F(B),"handleDrag",function(Ce){var Ne=(0,d.getControlPosition)(Ce,B.state.touchIdentifier,F(B));if(Ne!=null){var Ae=Ne.x,Ue=Ne.y;if(Array.isArray(B.props.grid)){var dt=Ae-B.state.lastX,ee=Ue-B.state.lastY,Q=L((0,d.snapToGrid)(B.props.grid,dt,ee),2);if(dt=Q[0],ee=Q[1],!dt&&!ee)return;Ae=B.state.lastX+dt,Ue=B.state.lastY+ee}var we=(0,d.createCoreData)(F(B),Ae,Ue);if((0,p.default)("DraggableCore: handleDrag: %j",we),B.props.onDrag(Ce,we)!==!1&&B.mounted!==!1)B.setState({lastX:Ae,lastY:Ue});else try{B.handleDragStop(new MouseEvent("mouseup"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),B.handleDragStop(_)}}}),q(F(B),"handleDragStop",function(Ce){if(B.state.dragging){var Ne=(0,d.getControlPosition)(Ce,B.state.touchIdentifier,F(B));if(Ne!=null){var Ae=Ne.x,Ue=Ne.y,dt=(0,d.createCoreData)(F(B),Ae,Ue);if(B.props.onStop(Ce,dt)===!1||B.mounted===!1)return!1;var ee=B.findDOMNode();ee&&B.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(ee.ownerDocument),(0,p.default)("DraggableCore: handleDragStop: %j",dt),B.setState({dragging:!1,lastX:NaN,lastY:NaN}),ee&&((0,p.default)("DraggableCore: Removing handlers"),(0,u.removeEvent)(ee.ownerDocument,ce.move,B.handleDrag),(0,u.removeEvent)(ee.ownerDocument,ce.stop,B.handleDragStop))}}}),q(F(B),"onMouseDown",function(Ce){return ce=V,B.handleDragStart(Ce)}),q(F(B),"onMouseUp",function(Ce){return ce=V,B.handleDragStop(Ce)}),q(F(B),"onTouchStart",function(Ce){return ce=D,B.handleDragStart(Ce)}),q(F(B),"onTouchEnd",function(Ce){return ce=D,B.handleDragStop(Ce)}),B}return he=pe,(ke=[{key:"componentDidMount",value:function(){this.mounted=!0;var B=this.findDOMNode();B&&(0,u.addEvent)(B,D.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var B=this.findDOMNode();if(B){var le=B.ownerDocument;(0,u.removeEvent)(le,V.move,this.handleDrag),(0,u.removeEvent)(le,D.move,this.handleDrag),(0,u.removeEvent)(le,V.stop,this.handleDragStop),(0,u.removeEvent)(le,D.stop,this.handleDragStop),(0,u.removeEvent)(B,D.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(le)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:l.default.findDOMNode(this)}},{key:"render",value:function(){return o.cloneElement(o.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&$(he.prototype,ke),pe}(o.Component);t.default=de,q(de,"displayName","DraggableCore"),q(de,"propTypes",{allowAnyClick:s.default.bool,disabled:s.default.bool,enableUserSelectHack:s.default.bool,offsetParent:function(ie,he){if(ie[he]&&ie[he].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:s.default.arrayOf(s.default.number),handle:s.default.string,cancel:s.default.string,nodeRef:s.default.object,onStart:s.default.func,onDrag:s.default.func,onStop:s.default.func,onMouseDown:s.default.func,scale:s.default.number,className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe}),q(de,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},function(e,t,r){var o=r(6),s=r(59);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".ck-inspector{--ck-inspector-color-tab-background-hover:rgba(0,0,0,0.07);--ck-inspector-color-tab-active-border:#0dacef }.ck-inspector .ck-inspector-horizontal-nav{display:flex;flex-direction:row;user-select:none;align-self:stretch}.ck-inspector .ck-inspector-horizontal-nav .ck-inspector-horizontal-nav__item{-webkit-appearance:none;background:none;border:0;border-bottom:2px solid transparent;padding:.5em 1em;align-self:stretch}.ck-inspector .ck-inspector-horizontal-nav .ck-inspector-horizontal-nav__item:hover{background:var(--ck-inspector-color-tab-background-hover)}.ck-inspector .ck-inspector-horizontal-nav .ck-inspector-horizontal-nav__item.ck-inspector-horizontal-nav__item_active{border-bottom-color:var(--ck-inspector-color-tab-active-border)}",""])},function(e,t,r){var o=r(6),s=r(61);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".ck-inspector{--ck-inspector-navbox-empty-background:#fafafa}.ck-inspector .ck-inspector-navbox{display:flex;flex-direction:column;height:100%;align-items:stretch}.ck-inspector .ck-inspector-navbox .ck-inspector-navbox__navigation{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;min-height:30px;max-height:30px;border-bottom:1px solid var(--ck-inspector-color-border);width:100%;user-select:none;align-items:center}.ck-inspector .ck-inspector-navbox .ck-inspector-navbox__content{display:flex;flex-direction:row;height:100%;overflow:hidden}",""])},function(e,t,r){var o=r(6),s=r(63);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".ck-inspector{--ck-inspector-icon-size:19px;--ck-inspector-button-size:calc(4px + var(--ck-inspector-icon-size));--ck-inspector-color-button:#777;--ck-inspector-color-button-hover:#222;--ck-inspector-color-button-on:#0f79e2}.ck-inspector .ck-inspector-button{width:var(--ck-inspector-button-size);height:var(--ck-inspector-button-size);border:0;overflow:hidden;border-radius:2px;padding:2px;color:var(--ck-inspector-color-button)}.ck-inspector .ck-inspector-button.ck-inspector-button_on,.ck-inspector .ck-inspector-button.ck-inspector-button_on:hover{color:var(--ck-inspector-color-button-on);opacity:1}.ck-inspector .ck-inspector-button.ck-inspector-button_disabled{opacity:.3}.ck-inspector .ck-inspector-button>span{display:none}.ck-inspector .ck-inspector-button:hover{color:var(--ck-inspector-color-button-hover)}.ck-inspector .ck-inspector-button svg{width:var(--ck-inspector-icon-size);height:var(--ck-inspector-icon-size)}.ck-inspector .ck-inspector-button svg,.ck-inspector .ck-inspector-button svg *{fill:currentColor}",""])},function(e,t,r){var o=r(6),s=r(65);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".ck-inspector{--ck-inspector-explorer-width:300px}.ck-inspector .ck-inspector-pane{display:flex;width:100%}.ck-inspector .ck-inspector-pane.ck-inspector-pane_empty{align-items:center;justify-content:center;padding:1em;background:var(--ck-inspector-navbox-empty-background)}.ck-inspector .ck-inspector-pane.ck-inspector-pane_empty p{align-self:center;width:100%;text-align:center}.ck-inspector .ck-inspector-pane>.ck-inspector-navbox:last-child{min-width:var(--ck-inspector-explorer-width);width:var(--ck-inspector-explorer-width)}.ck-inspector .ck-inspector-pane.ck-inspector-pane_vsplit>.ck-inspector-navbox:first-child{border-right:1px solid var(--ck-inspector-color-border);flex:1 1 auto;overflow:hidden}.ck-inspector .ck-inspector-pane.ck-inspector-pane_vsplit>.ck-inspector-navbox:first-child .ck-inspector-navbox__navigation{align-items:center}.ck-inspector .ck-inspector-pane.ck-inspector-pane_vsplit>.ck-inspector-navbox:first-child .ck-inspector-tree__config label{margin:0 .5em}.ck-inspector .ck-inspector-pane.ck-inspector-pane_vsplit>.ck-inspector-navbox:first-child .ck-inspector-tree__config input+label{margin-right:1em}",""])},function(e,t,r){var o=r(6),s=r(67);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".ck-inspector-side-pane{position:relative}",""])},function(e,t,r){var o=r(6),s=r(69);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".ck-inspector .ck-inspector-checkbox{vertical-align:middle}",""])},function(e,t,r){var o=r(6),s=r(71);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,'.ck-inspector{--ck-inspector-color-property-list-property-name:#d0363f;--ck-inspector-color-property-list-property-value-true:green;--ck-inspector-color-property-list-property-value-false:red;--ck-inspector-color-property-list-property-value-unknown:#888;--ck-inspector-color-property-list-background:#f5f5f5;--ck-inspector-color-property-list-title-collapser:#727272}.ck-inspector .ck-inspector-property-list{display:grid;grid-template-columns:auto 1fr;background:var(--ck-inspector-color-white)}.ck-inspector .ck-inspector-property-list>:nth-of-type(odd){background:var(--ck-inspector-color-property-list-background)}.ck-inspector .ck-inspector-property-list>:nth-of-type(2n){background:var(--ck-inspector-color-white)}.ck-inspector .ck-inspector-property-list dt{padding:0 .7em 0 1.2em;min-width:15em}.ck-inspector .ck-inspector-property-list dt.ck-inspector-property-list__title_collapsible button{display:inline-block;overflow:hidden;vertical-align:middle;margin-left:-9px;margin-right:.3em;width:0;height:0;border-left:6px solid var(--ck-inspector-color-property-list-title-collapser);border-bottom:3.5px solid transparent;border-right:0 solid transparent;border-top:3.5px solid transparent;transition:transform .2s ease-in-out;transform:rotate(0deg)}.ck-inspector .ck-inspector-property-list dt.ck-inspector-property-list__title_expanded button{transform:rotate(90deg)}.ck-inspector .ck-inspector-property-list dt.ck-inspector-property-list__title_collapsed+dd+.ck-inspector-property-list{display:none}.ck-inspector .ck-inspector-property-list dt .ck-inspector-property-list__title__color-box{width:12px;height:12px;vertical-align:text-top;display:inline-block;margin-right:3px;border-radius:2px;border:1px solid #000}.ck-inspector .ck-inspector-property-list dt.ck-inspector-property-list__title_clickable label:hover{text-decoration:underline;cursor:pointer}.ck-inspector .ck-inspector-property-list dt label{color:var(--ck-inspector-color-property-list-property-name)}.ck-inspector .ck-inspector-property-list dd{padding-right:.7em}.ck-inspector .ck-inspector-property-list dd input{width:100%}.ck-inspector .ck-inspector-property-list dd input[value=false]{color:var(--ck-inspector-color-property-list-property-value-false)}.ck-inspector .ck-inspector-property-list dd input[value=true]{color:var(--ck-inspector-color-property-list-property-value-true)}.ck-inspector .ck-inspector-property-list dd input[value="function() {…}"],.ck-inspector .ck-inspector-property-list dd input[value=undefined]{color:var(--ck-inspector-color-property-list-property-value-unknown)}.ck-inspector .ck-inspector-property-list dd input[value="function() {…}"]{font-style:italic}.ck-inspector .ck-inspector-property-list .ck-inspector-property-list{grid-column:1/-1;margin-left:1em;background:transparent}.ck-inspector .ck-inspector-property-list .ck-inspector-property-list>:nth-of-type(2n),.ck-inspector .ck-inspector-property-list .ck-inspector-property-list>:nth-of-type(odd){background:transparent}',""])},function(e,t,r){var o=r(6),s=r(73);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,`.ck-inspector .ck-inspector__object-inspector{width:100%;background:var(--ck-inspector-color-white);overflow:auto}.ck-inspector .ck-inspector__object-inspector h2,.ck-inspector .ck-inspector__object-inspector h3{display:flex;flex-direction:row;flex-wrap:nowrap}.ck-inspector .ck-inspector__object-inspector h2{display:flex;align-items:center;padding:1em;overflow:hidden;text-overflow:ellipsis}.ck-inspector .ck-inspector__object-inspector h2>span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;margin-right:auto}.ck-inspector .ck-inspector__object-inspector h2>.ck-inspector-button{flex-shrink:0;margin-left:.5em}.ck-inspector .ck-inspector__object-inspector h2 a{font-weight:700;color:var(--ck-inspector-color-tree-node-name)}.ck-inspector .ck-inspector__object-inspector h2 a,.ck-inspector .ck-inspector__object-inspector h2 a>*{cursor:pointer}.ck-inspector .ck-inspector__object-inspector h2 em:after,.ck-inspector .ck-inspector__object-inspector h2 em:before{content:'"'}.ck-inspector .ck-inspector__object-inspector h3{display:flex;align-items:center;font-size:12px;padding:.4em .7em}.ck-inspector .ck-inspector__object-inspector h3 a{color:inherit;font-weight:700;margin-right:auto}.ck-inspector .ck-inspector__object-inspector h3 .ck-inspector-button{visibility:hidden}.ck-inspector .ck-inspector__object-inspector h3:hover .ck-inspector-button{visibility:visible}.ck-inspector .ck-inspector__object-inspector hr{border-top:1px solid var(--ck-inspector-color-border)}`,""])},function(e,t,r){var o=r(6),s=r(75);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".ck-inspector-model-tree__hide-markers .ck-inspector-tree__position.ck-inspector-tree__position_marker{display:none}",""])},function(e,t){e.exports=function(){var r=document.getSelection();if(!r.rangeCount)return function(){};for(var o=document.activeElement,s=[],l=0;l<r.rangeCount;l++)s.push(r.getRangeAt(l));switch(o.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":o.blur();break;default:o=null}return r.removeAllRanges(),function(){r.type==="Caret"&&r.removeAllRanges(),r.rangeCount||s.forEach(function(u){r.addRange(u)}),o&&o.focus()}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var o=Object.assign||function(V){for(var ce=1;ce<arguments.length;ce++){var de=arguments[ce];for(var ie in de)Object.prototype.hasOwnProperty.call(de,ie)&&(V[ie]=de[ie])}return V},s=function(){function V(ce,de){for(var ie=0;ie<de.length;ie++){var he=de[ie];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ce,he.key,he)}}return function(ce,de,ie){return de&&V(ce.prototype,de),ie&&V(ce,ie),ce}}(),l=r(0),u=j(l),d=j(r(12)),f=j(r(18)),p=j(r(78)),b=function(V){if(V&&V.__esModule)return V;var ce={};if(V!=null)for(var de in V)Object.prototype.hasOwnProperty.call(V,de)&&(ce[de]=V[de]);return ce.default=V,ce}(r(43)),v=r(36),x=j(v),L=r(85);function j(V){return V&&V.__esModule?V:{default:V}}function N(V,ce){if(!(V instanceof ce))throw new TypeError("Cannot call a class as a function")}function $(V,ce){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ce||typeof ce!="object"&&typeof ce!="function"?V:ce}var R=t.portalClassName="ReactModalPortal",z=t.bodyOpenClassName="ReactModal__Body--open",U=v.canUseDOM&&d.default.createPortal!==void 0,F=function(V){return document.createElement(V)},G=function(){return U?d.default.createPortal:d.default.unstable_renderSubtreeIntoContainer};function q(V){return V()}var D=function(V){function ce(){var de,ie,he;N(this,ce);for(var ke=arguments.length,ne=Array(ke),pe=0;pe<ke;pe++)ne[pe]=arguments[pe];return ie=he=$(this,(de=ce.__proto__||Object.getPrototypeOf(ce)).call.apply(de,[this].concat(ne))),he.removePortal=function(){!U&&d.default.unmountComponentAtNode(he.node);var B=q(he.props.parentSelector);B&&B.contains(he.node)?B.removeChild(he.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},he.portalRef=function(B){he.portal=B},he.renderPortal=function(B){var le=G()(he,u.default.createElement(p.default,o({defaultStyles:ce.defaultStyles},B)),he.node);he.portalRef(le)},$(he,ie)}return function(de,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);de.prototype=Object.create(ie&&ie.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(de,ie):de.__proto__=ie)}(ce,V),s(ce,[{key:"componentDidMount",value:function(){v.canUseDOM&&(U||(this.node=F("div")),this.node.className=this.props.portalClassName,q(this.props.parentSelector).appendChild(this.node),!U&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(de){return{prevParent:q(de.parentSelector),nextParent:q(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(de,ie,he){if(v.canUseDOM){var ke=this.props,ne=ke.isOpen,pe=ke.portalClassName;de.portalClassName!==pe&&(this.node.className=pe);var B=he.prevParent,le=he.nextParent;le!==B&&(B.removeChild(this.node),le.appendChild(this.node)),(de.isOpen||ne)&&!U&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(v.canUseDOM&&this.node&&this.portal){var de=this.portal.state,ie=Date.now(),he=de.isOpen&&this.props.closeTimeoutMS&&(de.closesAt||ie+this.props.closeTimeoutMS);he?(de.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,he-ie)):this.removePortal()}}},{key:"render",value:function(){return v.canUseDOM&&U?(!this.node&&U&&(this.node=F("div")),G()(u.default.createElement(p.default,o({ref:this.portalRef,defaultStyles:ce.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(de){b.setElement(de)}}]),ce}(l.Component);D.propTypes={isOpen:f.default.bool.isRequired,style:f.default.shape({content:f.default.object,overlay:f.default.object}),portalClassName:f.default.string,bodyOpenClassName:f.default.string,htmlOpenClassName:f.default.string,className:f.default.oneOfType([f.default.string,f.default.shape({base:f.default.string.isRequired,afterOpen:f.default.string.isRequired,beforeClose:f.default.string.isRequired})]),overlayClassName:f.default.oneOfType([f.default.string,f.default.shape({base:f.default.string.isRequired,afterOpen:f.default.string.isRequired,beforeClose:f.default.string.isRequired})]),appElement:f.default.oneOfType([f.default.instanceOf(x.default),f.default.instanceOf(v.SafeHTMLCollection),f.default.instanceOf(v.SafeNodeList),f.default.arrayOf(f.default.instanceOf(x.default))]),onAfterOpen:f.default.func,onRequestClose:f.default.func,closeTimeoutMS:f.default.number,ariaHideApp:f.default.bool,shouldFocusAfterRender:f.default.bool,shouldCloseOnOverlayClick:f.default.bool,shouldReturnFocusAfterClose:f.default.bool,preventScroll:f.default.bool,parentSelector:f.default.func,aria:f.default.object,data:f.default.object,role:f.default.string,contentLabel:f.default.string,shouldCloseOnEsc:f.default.bool,overlayRef:f.default.func,contentRef:f.default.func,id:f.default.string,overlayElement:f.default.func,contentElement:f.default.func},D.defaultProps={isOpen:!1,portalClassName:R,bodyOpenClassName:z,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(V,ce){return u.default.createElement("div",V,ce)},contentElement:function(V,ce){return u.default.createElement("div",V,ce)}},D.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,L.polyfill)(D),t.default=D},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(F){for(var G=1;G<arguments.length;G++){var q=arguments[G];for(var D in q)Object.prototype.hasOwnProperty.call(q,D)&&(F[D]=q[D])}return F},s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},l=function(){function F(G,q){for(var D=0;D<q.length;D++){var V=q[D];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(G,V.key,V)}}return function(G,q,D){return q&&F(G.prototype,q),D&&F(G,D),G}}(),u=r(0),d=$(r(18)),f=N(r(79)),p=$(r(80)),b=N(r(43)),v=N(r(83)),x=r(36),L=$(x),j=$(r(44));function N(F){if(F&&F.__esModule)return F;var G={};if(F!=null)for(var q in F)Object.prototype.hasOwnProperty.call(F,q)&&(G[q]=F[q]);return G.default=F,G}function $(F){return F&&F.__esModule?F:{default:F}}r(84);var R={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},z=0,U=function(F){function G(q){(function(V,ce){if(!(V instanceof ce))throw new TypeError("Cannot call a class as a function")})(this,G);var D=function(V,ce){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ce||typeof ce!="object"&&typeof ce!="function"?V:ce}(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,q));return D.setOverlayRef=function(V){D.overlay=V,D.props.overlayRef&&D.props.overlayRef(V)},D.setContentRef=function(V){D.content=V,D.props.contentRef&&D.props.contentRef(V)},D.afterClose=function(){var V=D.props,ce=V.appElement,de=V.ariaHideApp,ie=V.htmlOpenClassName,he=V.bodyOpenClassName;he&&v.remove(document.body,he),ie&&v.remove(document.getElementsByTagName("html")[0],ie),de&&z>0&&(z-=1)===0&&b.show(ce),D.props.shouldFocusAfterRender&&(D.props.shouldReturnFocusAfterClose?(f.returnFocus(D.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),D.props.onAfterClose&&D.props.onAfterClose(),j.default.deregister(D)},D.open=function(){D.beforeOpen(),D.state.afterOpen&&D.state.beforeClose?(clearTimeout(D.closeTimer),D.setState({beforeClose:!1})):(D.props.shouldFocusAfterRender&&(f.setupScopedFocus(D.node),f.markForFocusLater()),D.setState({isOpen:!0},function(){D.openAnimationFrame=requestAnimationFrame(function(){D.setState({afterOpen:!0}),D.props.isOpen&&D.props.onAfterOpen&&D.props.onAfterOpen({overlayEl:D.overlay,contentEl:D.content})})}))},D.close=function(){D.props.closeTimeoutMS>0?D.closeWithTimeout():D.closeWithoutTimeout()},D.focusContent=function(){return D.content&&!D.contentHasFocus()&&D.content.focus({preventScroll:!0})},D.closeWithTimeout=function(){var V=Date.now()+D.props.closeTimeoutMS;D.setState({beforeClose:!0,closesAt:V},function(){D.closeTimer=setTimeout(D.closeWithoutTimeout,D.state.closesAt-Date.now())})},D.closeWithoutTimeout=function(){D.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},D.afterClose)},D.handleKeyDown=function(V){V.keyCode===9&&(0,p.default)(D.content,V),D.props.shouldCloseOnEsc&&V.keyCode===27&&(V.stopPropagation(),D.requestClose(V))},D.handleOverlayOnClick=function(V){D.shouldClose===null&&(D.shouldClose=!0),D.shouldClose&&D.props.shouldCloseOnOverlayClick&&(D.ownerHandlesClose()?D.requestClose(V):D.focusContent()),D.shouldClose=null},D.handleContentOnMouseUp=function(){D.shouldClose=!1},D.handleOverlayOnMouseDown=function(V){D.props.shouldCloseOnOverlayClick||V.target!=D.overlay||V.preventDefault()},D.handleContentOnClick=function(){D.shouldClose=!1},D.handleContentOnMouseDown=function(){D.shouldClose=!1},D.requestClose=function(V){return D.ownerHandlesClose()&&D.props.onRequestClose(V)},D.ownerHandlesClose=function(){return D.props.onRequestClose},D.shouldBeClosed=function(){return!D.state.isOpen&&!D.state.beforeClose},D.contentHasFocus=function(){return document.activeElement===D.content||D.content.contains(document.activeElement)},D.buildClassName=function(V,ce){var de=(ce===void 0?"undefined":s(ce))==="object"?ce:{base:R[V],afterOpen:R[V]+"--after-open",beforeClose:R[V]+"--before-close"},ie=de.base;return D.state.afterOpen&&(ie=ie+" "+de.afterOpen),D.state.beforeClose&&(ie=ie+" "+de.beforeClose),typeof ce=="string"&&ce?ie+" "+ce:ie},D.attributesFromObject=function(V,ce){return Object.keys(ce).reduce(function(de,ie){return de[V+"-"+ie]=ce[ie],de},{})},D.state={afterOpen:!1,beforeClose:!1},D.shouldClose=null,D.moveFromContentToOverlay=null,D}return function(q,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);q.prototype=Object.create(D&&D.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(q,D):q.__proto__=D)}(G,F),l(G,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(q,D){this.props.isOpen&&!q.isOpen?this.open():!this.props.isOpen&&q.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!D.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var q=this.props,D=q.appElement,V=q.ariaHideApp,ce=q.htmlOpenClassName,de=q.bodyOpenClassName;de&&v.add(document.body,de),ce&&v.add(document.getElementsByTagName("html")[0],ce),V&&(z+=1,b.hide(D)),j.default.register(this)}},{key:"render",value:function(){var q=this.props,D=q.id,V=q.className,ce=q.overlayClassName,de=q.defaultStyles,ie=q.children,he=V?{}:de.content,ke=ce?{}:de.overlay;if(this.shouldBeClosed())return null;var ne={ref:this.setOverlayRef,className:this.buildClassName("overlay",ce),style:o({},ke,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},pe=o({id:D,ref:this.setContentRef,style:o({},he,this.props.style.content),className:this.buildClassName("content",V),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",o({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),B=this.props.contentElement(pe,ie);return this.props.overlayElement(ne,B)}}]),G}(u.Component);U.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},U.propTypes={isOpen:d.default.bool.isRequired,defaultStyles:d.default.shape({content:d.default.object,overlay:d.default.object}),style:d.default.shape({content:d.default.object,overlay:d.default.object}),className:d.default.oneOfType([d.default.string,d.default.object]),overlayClassName:d.default.oneOfType([d.default.string,d.default.object]),bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,ariaHideApp:d.default.bool,appElement:d.default.oneOfType([d.default.instanceOf(L.default),d.default.instanceOf(x.SafeHTMLCollection),d.default.instanceOf(x.SafeNodeList),d.default.arrayOf(d.default.instanceOf(L.default))]),onAfterOpen:d.default.func,onAfterClose:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,role:d.default.string,contentLabel:d.default.string,aria:d.default.object,data:d.default.object,children:d.default.node,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func,testId:d.default.string},t.default=U,e.exports=t.default},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){u=[]},t.log=function(){},t.handleBlur=p,t.handleFocus=b,t.markForFocusLater=function(){u.push(document.activeElement)},t.returnFocus=function(){var v=arguments.length>0&&arguments[0]!==void 0&&arguments[0],x=null;try{return void(u.length!==0&&(x=u.pop()).focus({preventScroll:v}))}catch{console.warn(["You tried to return focus to",x,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){u.length>0&&u.pop()},t.setupScopedFocus=function(v){d=v,window.addEventListener?(window.addEventListener("blur",p,!1),document.addEventListener("focus",b,!0)):(window.attachEvent("onBlur",p),document.attachEvent("onFocus",b))},t.teardownScopedFocus=function(){d=null,window.addEventListener?(window.removeEventListener("blur",p),document.removeEventListener("focus",b)):(window.detachEvent("onBlur",p),document.detachEvent("onFocus",b))};var o,s=r(42),l=(o=s)&&o.__esModule?o:{default:o},u=[],d=null,f=!1;function p(){f=!0}function b(){if(f){if(f=!1,!d)return;setTimeout(function(){d.contains(document.activeElement)||((0,l.default)(d)[0]||d).focus()},0)}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(u,d){var f=(0,l.default)(u);if(!f.length)return void d.preventDefault();var p=void 0,b=d.shiftKey,v=f[0],x=f[f.length-1],L=function $(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return R.activeElement.shadowRoot?$(R.activeElement.shadowRoot):R.activeElement}();if(u===L){if(!b)return;p=x}if(x!==L||b||(p=v),v===L&&b&&(p=x),p)return d.preventDefault(),void p.focus();var j=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(!(j==null||j[1]=="Chrome"||/\biPod\b|\biPad\b/g.exec(navigator.userAgent)!=null)){var N=f.indexOf(L);if(N>-1&&(N+=b?-1:1),(p=f[N])===void 0)return d.preventDefault(),void(p=b?x:v).focus();d.preventDefault(),p.focus()}};var o,s=r(42),l=(o=s)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,r){var o=function(){};e.exports=o},function(e,t,r){var o;(function(){var s=!(typeof window>"u"||!window.document||!window.document.createElement),l={canUseDOM:s,canUseWorkers:typeof Worker<"u",canUseEventListeners:s&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:s&&!!window.screen};(o=(function(){return l}).call(t,r,t,e))===void 0||(e.exports=o)})()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var u=document.getElementsByTagName("html")[0];for(var d in o)l(u,o[d]);var f=document.body;for(var p in s)l(f,s[p]);o={},s={}},t.log=function(){};var o={},s={};function l(u,d){u.classList.remove(d)}t.add=function(u,d){return f=u.classList,p=u.nodeName.toLowerCase()=="html"?o:s,void d.split(" ").forEach(function(b){(function(v,x){v[x]||(v[x]=0),v[x]+=1})(p,b),f.add(b)});var f,p},t.remove=function(u,d){return f=u.classList,p=u.nodeName.toLowerCase()=="html"?o:s,void d.split(" ").forEach(function(b){(function(v,x){v[x]&&(v[x]-=1)})(p,b),p[b]===0&&f.remove(b)});var f,p}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var b=[u,d],v=0;v<b.length;v++){var x=b[v];x&&x.parentNode&&x.parentNode.removeChild(x)}u=d=null,f=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(f.length);for(var b=[u,d],v=0;v<b.length;v++){var x=b[v]||{};console.log(x.nodeName,x.className,x.id)}console.log("edn bodyTrap ----------")};var o,s=r(44),l=(o=s)&&o.__esModule?o:{default:o},u=void 0,d=void 0,f=[];function p(){f.length!==0&&f[f.length-1].focusContent()}l.default.subscribe(function(b,v){u||d||((u=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),u.style.position="absolute",u.style.opacity="0",u.setAttribute("tabindex","0"),u.addEventListener("focus",p),(d=u.cloneNode()).addEventListener("focus",p)),(f=v).length>0?(document.body.firstChild!==u&&document.body.insertBefore(u,document.body.firstChild),document.body.lastChild!==d&&document.body.appendChild(d)):(u.parentElement&&u.parentElement.removeChild(u),d.parentElement&&d.parentElement.removeChild(d))})},function(e,t,r){function o(){var d=this.constructor.getDerivedStateFromProps(this.props,this.state);d!=null&&this.setState(d)}function s(d){this.setState((function(f){var p=this.constructor.getDerivedStateFromProps(d,f);return p??null}).bind(this))}function l(d,f){try{var p=this.props,b=this.state;this.props=d,this.state=f,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(p,b)}finally{this.props=p,this.state=b}}function u(d){var f=d.prototype;if(!f||!f.isReactComponent)throw new Error("Can only polyfill class components");if(typeof d.getDerivedStateFromProps!="function"&&typeof f.getSnapshotBeforeUpdate!="function")return d;var p=null,b=null,v=null;if(typeof f.componentWillMount=="function"?p="componentWillMount":typeof f.UNSAFE_componentWillMount=="function"&&(p="UNSAFE_componentWillMount"),typeof f.componentWillReceiveProps=="function"?b="componentWillReceiveProps":typeof f.UNSAFE_componentWillReceiveProps=="function"&&(b="UNSAFE_componentWillReceiveProps"),typeof f.componentWillUpdate=="function"?v="componentWillUpdate":typeof f.UNSAFE_componentWillUpdate=="function"&&(v="UNSAFE_componentWillUpdate"),p!==null||b!==null||v!==null){var x=d.displayName||d.name,L=typeof d.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+x+" uses "+L+" but also contains the following legacy lifecycles:"+(p!==null?`
  `+p:"")+(b!==null?`
  `+b:"")+(v!==null?`
  `+v:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof d.getDerivedStateFromProps=="function"&&(f.componentWillMount=o,f.componentWillReceiveProps=s),typeof f.getSnapshotBeforeUpdate=="function"){if(typeof f.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");f.componentWillUpdate=l;var j=f.componentDidUpdate;f.componentDidUpdate=function(N,$,R){var z=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:R;j.call(this,N,$,z)}}return d}r.r(t),r.d(t,"polyfill",function(){return u}),o.__suppressDeprecationWarning=!0,s.__suppressDeprecationWarning=!0,l.__suppressDeprecationWarning=!0},function(e,t,r){var o=r(6),s=r(87);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".ck-inspector-modal{--ck-inspector-set-data-modal-overlay:rgba(0,0,0,0.5);--ck-inspector-set-data-modal-shadow:rgba(0,0,0,0.06);--ck-inspector-set-data-modal-button-background:#eee;--ck-inspector-set-data-modal-button-background-hover:#ddd;--ck-inspector-set-data-modal-save-button-background:#1976d2;--ck-inspector-set-data-modal-save-button-background-hover:#0b60b5}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal{z-index:999999;position:fixed;inset:0;background-color:var(--ck-inspector-set-data-modal-overlay)}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal .ck-inspector-quick-actions__set-data-modal__content{position:absolute;border:1px solid var(--ck-inspector-color-border);background:var(--ck-inspector-color-white);overflow:auto;border-radius:2px;outline:none;box-shadow:0 1px 1px var(--ck-inspector-set-data-modal-shadow),0 2px 2px var(--ck-inspector-set-data-modal-shadow),0 4px 4px var(--ck-inspector-set-data-modal-shadow),0 8px 8px var(--ck-inspector-set-data-modal-shadow),0 16px 16px var(--ck-inspector-set-data-modal-shadow);max-height:calc(100vh - 160px);max-width:calc(100vw - 160px);width:100%;height:100%;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;justify-content:space-between}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal .ck-inspector-quick-actions__set-data-modal__content h2{font-size:14px;font-weight:700;margin:0;padding:12px 20px;background:var(--ck-inspector-color-background);border-bottom:1px solid var(--ck-inspector-color-border)}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal .ck-inspector-quick-actions__set-data-modal__content textarea{flex-grow:1;margin:20px;border:1px solid var(--ck-inspector-color-border);border-radius:2px;resize:none;padding:10px;font-family:monospace;font-size:14px}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal .ck-inspector-quick-actions__set-data-modal__content button{padding:10px 20px;border-radius:2px;font-size:14px;white-space:nowrap;border:1px solid var(--ck-inspector-color-border)}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal .ck-inspector-quick-actions__set-data-modal__content button:hover{background:var(--ck-inspector-set-data-modal-button-background-hover)}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal .ck-inspector-quick-actions__set-data-modal__content .ck-inspector-quick-actions__set-data-modal__buttons{margin:0 20px 20px;display:flex;justify-content:center}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal .ck-inspector-quick-actions__set-data-modal__content .ck-inspector-quick-actions__set-data-modal__buttons button+button{margin-left:20px}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal .ck-inspector-quick-actions__set-data-modal__content .ck-inspector-quick-actions__set-data-modal__buttons button:first-child{margin-right:auto}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal .ck-inspector-quick-actions__set-data-modal__content .ck-inspector-quick-actions__set-data-modal__buttons button:not(:first-child){flex-basis:20%}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal .ck-inspector-quick-actions__set-data-modal__content .ck-inspector-quick-actions__set-data-modal__buttons button:last-child{background:var(--ck-inspector-set-data-modal-save-button-background);border-color:var(--ck-inspector-set-data-modal-save-button-background);color:#fff;font-weight:700}.ck-inspector-modal.ck-inspector-quick-actions__set-data-modal .ck-inspector-quick-actions__set-data-modal__content .ck-inspector-quick-actions__set-data-modal__buttons button:last-child:hover{background:var(--ck-inspector-set-data-modal-save-button-background-hover)}",""])},function(e,t,r){var o=r(6),s=r(89);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".ck-inspector .ck-inspector-editor-quick-actions{display:flex;align-content:center;justify-content:center;align-items:center;flex-direction:row;flex-wrap:nowrap}.ck-inspector .ck-inspector-editor-quick-actions>.ck-inspector-button{margin-left:.3em}.ck-inspector .ck-inspector-editor-quick-actions>.ck-inspector-button.ck-inspector-button_data-copied{animation-duration:.5s;animation-name:ck-inspector-bounce-in;color:green}@keyframes ck-inspector-bounce-in{0%{opacity:0;transform:scale3d(.5,.5,.5)}20%{transform:scale3d(1.1,1.1,1.1)}40%{transform:scale3d(.8,.8,.8)}60%{opacity:1;transform:scale3d(1.05,1.05,1.05)}to{opacity:1;transform:scaleX(1)}}",""])},function(e,t,r){var o=r(6),s=r(91);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[e.i,s,""]]);var l={injectType:"singletonStyleTag",attributes:{"data-cke-inspector":!0},insert:"head",singleton:!0};o(s,l),e.exports=s.locals||{}},function(e,t,r){(e.exports=r(7)(!1)).push([e.i,"html body.ck-inspector-body-expanded{margin-bottom:var(--ck-inspector-height)}html body.ck-inspector-body-collapsed{margin-bottom:var(--ck-inspector-collapsed-height)}.ck-inspector-wrapper *{box-sizing:border-box}",""])},,,function(e,t,r){r.r(t),r.d(t,"default",function(){return tt});var o=r(0),s=r.n(o),l=r(12),u=r.n(l);function d(A){return"Minified Redux error #"+A+"; visit https://redux.js.org/Errors?code="+A+" for the full message or use the non-minified dev environment for full errors. "}var f=typeof Symbol=="function"&&Symbol.observable||"@@observable",p=function(){return Math.random().toString(36).substring(7).split("").join(".")},b={INIT:"@@redux/INIT"+p(),REPLACE:"@@redux/REPLACE"+p(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+p()}};function v(A){if(typeof A!="object"||A===null)return!1;for(var y=A;Object.getPrototypeOf(y)!==null;)y=Object.getPrototypeOf(y);return Object.getPrototypeOf(A)===y}function x(A,y,k){var T;if(typeof y=="function"&&typeof k=="function"||typeof k=="function"&&typeof arguments[3]=="function")throw new Error(d(0));if(typeof y=="function"&&k===void 0&&(k=y,y=void 0),k!==void 0){if(typeof k!="function")throw new Error(d(1));return k(x)(A,y)}if(typeof A!="function")throw new Error(d(2));var O=A,I=y,W=[],oe=W,me=!1;function ge(){oe===W&&(oe=W.slice())}function Te(){if(me)throw new Error(d(3));return I}function Be($e){if(typeof $e!="function")throw new Error(d(4));if(me)throw new Error(d(5));var Ge=!0;return ge(),oe.push($e),function(){if(Ge){if(me)throw new Error(d(6));Ge=!1,ge();var mt=oe.indexOf($e);oe.splice(mt,1),W=null}}}function Ye($e){if(!v($e))throw new Error(d(7));if($e.type===void 0)throw new Error(d(8));if(me)throw new Error(d(9));try{me=!0,I=O(I,$e)}finally{me=!1}for(var Ge=W=oe,mt=0;mt<Ge.length;mt++)(0,Ge[mt])();return $e}function ze($e){if(typeof $e!="function")throw new Error(d(10));O=$e,Ye({type:b.REPLACE})}function it(){var $e,Ge=Be;return($e={subscribe:function(mt){if(typeof mt!="object"||mt===null)throw new Error(d(11));function nt(){mt.next&&mt.next(Te())}return nt(),{unsubscribe:Ge(nt)}}})[f]=function(){return this},$e}return Ye({type:b.INIT}),(T={dispatch:Ye,subscribe:Be,getState:Te,replaceReducer:ze})[f]=it,T}var L=s.a.createContext(null),j=function(A){A()};function N(){var A=j,y=null,k=null;return{clear:function(){y=null,k=null},notify:function(){A(function(){for(var T=y;T;)T.callback(),T=T.next})},get:function(){for(var T=[],O=y;O;)T.push(O),O=O.next;return T},subscribe:function(T){var O=!0,I=k={callback:T,next:null,prev:k};return I.prev?I.prev.next=I:y=I,function(){O&&y!==null&&(O=!1,I.next?I.next.prev=I.prev:k=I.prev,I.prev?I.prev.next=I.next:y=I.next)}}}}var $={notify:function(){},get:function(){return[]}};function R(A,y){var k,T=$;function O(){W.onStateChange&&W.onStateChange()}function I(){k||(k=y?y.addNestedSub(O):A.subscribe(O),T=N())}var W={addNestedSub:function(oe){return I(),T.subscribe(oe)},notifyNestedSubs:function(){T.notify()},handleChangeWrapper:O,isSubscribed:function(){return!!k},trySubscribe:I,tryUnsubscribe:function(){k&&(k(),k=void 0,T.clear(),T=$)},getListeners:function(){return T}};return W}var z=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?o.useLayoutEffect:o.useEffect,U=function(A){var y=A.store,k=A.context,T=A.children,O=Object(o.useMemo)(function(){var oe=R(y);return{store:y,subscription:oe}},[y]),I=Object(o.useMemo)(function(){return y.getState()},[y]);z(function(){var oe=O.subscription;return oe.onStateChange=oe.notifyNestedSubs,oe.trySubscribe(),I!==y.getState()&&oe.notifyNestedSubs(),function(){oe.tryUnsubscribe(),oe.onStateChange=null}},[O,I]);var W=k||L;return s.a.createElement(W.Provider,{value:O},T)};function F(){return(F=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}function G(A,y){if(A==null)return{};var k,T,O={},I=Object.keys(A);for(T=0;T<I.length;T++)k=I[T],y.indexOf(k)>=0||(O[k]=A[k]);return O}var q=r(39),D=r.n(q),V=r(45),ce=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],de=["reactReduxForwardedRef"],ie=[],he=[null,null];function ke(A,y){var k=A[1];return[y.payload,k+1]}function ne(A,y,k){z(function(){return A.apply(void 0,y)},k)}function pe(A,y,k,T,O,I,W){A.current=T,y.current=O,k.current=!1,I.current&&(I.current=null,W())}function B(A,y,k,T,O,I,W,oe,me,ge){if(A){var Te=!1,Be=null,Ye=function(){if(!Te){var ze,it,$e=y.getState();try{ze=T($e,O.current)}catch(Ge){it=Ge,Be=Ge}it||(Be=null),ze===I.current?W.current||me():(I.current=ze,oe.current=ze,W.current=!0,ge({type:"STORE_UPDATED",payload:{error:it}}))}};return k.onStateChange=Ye,k.trySubscribe(),Ye(),function(){if(Te=!0,k.tryUnsubscribe(),k.onStateChange=null,Be)throw Be}}}var le=function(){return[null,0]};function _e(A,y){y===void 0&&(y={});var k=y,T=k.getDisplayName,O=T===void 0?function(qe){return"ConnectAdvanced("+qe+")"}:T,I=k.methodName,W=I===void 0?"connectAdvanced":I,oe=k.renderCountProp,me=oe===void 0?void 0:oe,ge=k.shouldHandleStateChanges,Te=ge===void 0||ge,Be=k.storeKey,Ye=Be===void 0?"store":Be,ze=(k.withRef,k.forwardRef),it=ze!==void 0&&ze,$e=k.context,Ge=$e===void 0?L:$e,mt=G(k,ce),nt=Ge;return function(qe){var Rt=qe.displayName||qe.name||"Component",dn=O(Rt),gn=F({},mt,{getDisplayName:O,methodName:W,renderCountProp:me,shouldHandleStateChanges:Te,storeKey:Ye,displayName:dn,wrappedComponentName:Rt,WrappedComponent:qe}),bn=mt.pure,en=bn?o.useMemo:function(Ct){return Ct()};function wn(Ct){var Dr=Object(o.useMemo)(function(){var pr=Ct.reactReduxForwardedRef,ls=G(Ct,de);return[Ct.context,pr,ls]},[Ct]),Zr=Dr[0],xo=Dr[1],tn=Dr[2],ss=Object(o.useMemo)(function(){return Zr&&Zr.Consumer&&Object(V.isContextConsumer)(s.a.createElement(Zr.Consumer,null))?Zr:nt},[Zr,nt]),Lr=Object(o.useContext)(ss),Rn=!!Ct.store&&!!Ct.store.getState&&!!Ct.store.dispatch;Lr&&Lr.store;var tr=Rn?Ct.store:Lr.store,pi=Object(o.useMemo)(function(){return function(pr){return A(pr.dispatch,gn)}(tr)},[tr]),Bn=Object(o.useMemo)(function(){if(!Te)return he;var pr=R(tr,Rn?null:Lr.subscription),ls=pr.notifyNestedSubs.bind(pr);return[pr,ls]},[tr,Rn,Lr]),nr=Bn[0],Co=Bn[1],el=Object(o.useMemo)(function(){return Rn?Lr:F({},Lr,{subscription:nr})},[Rn,Lr,nr]),To=Object(o.useReducer)(ke,ie,le),ta=To[0][0],Fi=To[1];if(ta&&ta.error)throw ta.error;var Cc=Object(o.useRef)(),Vi=Object(o.useRef)(tn),na=Object(o.useRef)(),tl=Object(o.useRef)(!1),mi=en(function(){return na.current&&tn===Vi.current?na.current:pi(tr.getState(),tn)},[tr,ta,tn]);ne(pe,[Vi,Cc,tl,tn,mi,na,Co]),ne(B,[Te,tr,nr,pi,Vi,Cc,tl,na,Co,Fi],[tr,nr,pi]);var as=Object(o.useMemo)(function(){return s.a.createElement(qe,F({},mi,{ref:xo}))},[xo,qe,mi]);return Object(o.useMemo)(function(){return Te?s.a.createElement(ss.Provider,{value:el},as):as},[ss,as,el])}var It=bn?s.a.memo(wn):wn;if(It.WrappedComponent=qe,It.displayName=wn.displayName=dn,it){var Nr=s.a.forwardRef(function(Ct,Dr){return s.a.createElement(It,F({},Ct,{reactReduxForwardedRef:Dr}))});return Nr.displayName=dn,Nr.WrappedComponent=qe,D()(Nr,qe)}return D()(It,qe)}}function Re(A,y){return A===y?A!==0||y!==0||1/A==1/y:A!=A&&y!=y}function Ce(A,y){if(Re(A,y))return!0;if(typeof A!="object"||A===null||typeof y!="object"||y===null)return!1;var k=Object.keys(A),T=Object.keys(y);if(k.length!==T.length)return!1;for(var O=0;O<k.length;O++)if(!Object.prototype.hasOwnProperty.call(y,k[O])||!Re(A[k[O]],y[k[O]]))return!1;return!0}function Ne(A){return function(y,k){var T=A(y,k);function O(){return T}return O.dependsOnOwnProps=!1,O}}function Ae(A){return A.dependsOnOwnProps!==null&&A.dependsOnOwnProps!==void 0?!!A.dependsOnOwnProps:A.length!==1}function Ue(A,y){return function(k,T){T.displayName;var O=function(I,W){return O.dependsOnOwnProps?O.mapToProps(I,W):O.mapToProps(I)};return O.dependsOnOwnProps=!0,O.mapToProps=function(I,W){O.mapToProps=A,O.dependsOnOwnProps=Ae(A);var oe=O(I,W);return typeof oe=="function"&&(O.mapToProps=oe,O.dependsOnOwnProps=Ae(oe),oe=O(I,W)),oe},O}}var dt=[function(A){return typeof A=="function"?Ue(A):void 0},function(A){return A?void 0:Ne(function(y){return{dispatch:y}})},function(A){return A&&typeof A=="object"?Ne(function(y){return function(k,T){var O={},I=function(oe){var me=k[oe];typeof me=="function"&&(O[oe]=function(){return T(me.apply(void 0,arguments))})};for(var W in k)I(W);return O}(A,y)}):void 0}],ee=[function(A){return typeof A=="function"?Ue(A):void 0},function(A){return A?void 0:Ne(function(){return{}})}];function Q(A,y,k){return F({},k,A,y)}var we=[function(A){return typeof A=="function"?function(y){return function(k,T){T.displayName;var O,I=T.pure,W=T.areMergedPropsEqual,oe=!1;return function(me,ge,Te){var Be=y(me,ge,Te);return oe?I&&W(Be,O)||(O=Be):(oe=!0,O=Be),O}}}(A):void 0},function(A){return A?void 0:function(){return Q}}],_=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function E(A,y,k,T){return function(O,I){return k(A(O,I),y(T,I),I)}}function P(A,y,k,T,O){var I,W,oe,me,ge,Te=O.areStatesEqual,Be=O.areOwnPropsEqual,Ye=O.areStatePropsEqual,ze=!1;function it($e,Ge){var mt,nt,qe=!Be(Ge,W),Rt=!Te($e,I);return I=$e,W=Ge,qe&&Rt?(oe=A(I,W),y.dependsOnOwnProps&&(me=y(T,W)),ge=k(oe,me,W)):qe?(A.dependsOnOwnProps&&(oe=A(I,W)),y.dependsOnOwnProps&&(me=y(T,W)),ge=k(oe,me,W)):(Rt&&(mt=A(I,W),nt=!Ye(mt,oe),oe=mt,nt&&(ge=k(oe,me,W))),ge)}return function($e,Ge){return ze?it($e,Ge):(oe=A(I=$e,W=Ge),me=y(T,W),ge=k(oe,me,W),ze=!0,ge)}}function H(A,y){var k=y.initMapStateToProps,T=y.initMapDispatchToProps,O=y.initMergeProps,I=G(y,_),W=k(A,I),oe=T(A,I),me=O(A,I);return(I.pure?P:E)(W,oe,me,A,I)}var K=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Y(A,y,k){for(var T=y.length-1;T>=0;T--){var O=y[T](A);if(O)return O}return function(I,W){throw new Error("Invalid value of type "+typeof A+" for "+k+" argument when connecting component "+W.wrappedComponentName+".")}}function be(A,y){return A===y}function We(A){var y={},k=y.connectHOC,T=k===void 0?_e:k,O=y.mapStateToPropsFactories,I=O===void 0?ee:O,W=y.mapDispatchToPropsFactories,oe=W===void 0?dt:W,me=y.mergePropsFactories,ge=me===void 0?we:me,Te=y.selectorFactory,Be=Te===void 0?H:Te;return function(Ye,ze,it,$e){$e===void 0&&($e={});var Ge=$e,mt=Ge.pure,nt=mt===void 0||mt,qe=Ge.areStatesEqual,Rt=qe===void 0?be:qe,dn=Ge.areOwnPropsEqual,gn=dn===void 0?Ce:dn,bn=Ge.areStatePropsEqual,en=bn===void 0?Ce:bn,wn=Ge.areMergedPropsEqual,It=wn===void 0?Ce:wn,Nr=G(Ge,K),Ct=Y(Ye,I,"mapStateToProps"),Dr=Y(ze,oe,"mapDispatchToProps"),Zr=Y(it,ge,"mergeProps");return T(Be,F({methodName:"connect",getDisplayName:function(xo){return"Connect("+xo+")"},shouldHandleStateChanges:!!Ye,initMapStateToProps:Ct,initMapDispatchToProps:Dr,initMergeProps:Zr,pure:nt,areStatesEqual:Rt,areOwnPropsEqual:gn,areStatePropsEqual:en,areMergedPropsEqual:It},Nr))}}var Ve=We(),at;at=l.unstable_batchedUpdates,j=at;function et(A){return{type:"SET_MODEL_ACTIVE_TAB",tabName:A}}function pn(){return{type:"TOGGLE_IS_COLLAPSED"}}function Yt(A){return{type:"SET_EDITORS",editors:A}}function jn(A){return{type:"SET_CURRENT_EDITOR_NAME",editorName:A}}function Qt(A){return{type:"SET_ACTIVE_INSPECTOR_TAB",tabName:A}}var Vt=r(10),Xn=r(4);class lo{constructor(y){this._config=y}startListening(y){y.model.document.on("change",this._config.onModelChange),y.editing.view.on("render",this._config.onViewRender),y.on("change:isReadOnly",this._config.onReadOnlyChange)}stopListening(y){y.model.document.off("change",this._config.onModelChange),y.editing.view.off("render",this._config.onViewRender),y.off("change:isReadOnly",this._config.onReadOnlyChange)}}function an(A){return A.editors.get(A.currentEditorName)}class Dt{static set(y,k){window.localStorage.setItem("ck5-inspector-"+y,k)}static get(y){return window.localStorage.getItem("ck5-inspector-"+y)}}function ci(A,y,k){const T=function(O,I,W){if(O.ui.activeTab!=="Model")return I;if(!I)return Tr(O,I);switch(W.type){case"SET_MODEL_CURRENT_ROOT_NAME":return function(oe,me,ge){const Te=ge.currentRootName;return{...me,...Si(oe,me,{currentRootName:Te}),currentNode:null,currentNodeDefinition:null,currentRootName:Te}}(O,I,W);case"SET_MODEL_CURRENT_NODE":return{...I,currentNode:W.currentNode,currentNodeDefinition:Object(Vt.b)(an(O),W.currentNode)};case"SET_ACTIVE_INSPECTOR_TAB":case"UPDATE_MODEL_STATE":return{...I,...Si(O,I)};case"SET_EDITORS":case"SET_CURRENT_EDITOR_NAME":return Tr(O,I);default:return I}}(A,y,k);return T&&(T.ui=function(O,I){if(!O)return{activeTab:Dt.get("active-model-tab-name")||"Inspect",showMarkers:Dt.get("model-show-markers")==="true",showCompactText:Dt.get("model-compact-text")==="true"};switch(I.type){case"SET_MODEL_ACTIVE_TAB":return function(W,oe){return Dt.set("active-model-tab-name",oe.tabName),{...W,activeTab:oe.tabName}}(O,I);case"TOGGLE_MODEL_SHOW_MARKERS":return function(W){const oe=!W.showMarkers;return Dt.set("model-show-markers",oe),{...W,showMarkers:oe}}(O);case"TOGGLE_MODEL_SHOW_COMPACT_TEXT":return function(W){const oe=!W.showCompactText;return Dt.set("model-compact-text",oe),{...W,showCompactText:oe}}(O);default:return O}}(T.ui,k)),T}function Tr(A,y={}){const k=an(A);if(!k)return{ui:y.ui};const T=Object(Vt.d)(k)[0].rootName;return{...y,...Si(A,y,{currentRootName:T}),currentRootName:T,currentNode:null,currentNodeDefinition:null}}function Si(A,y,k){const T=an(A),O={...y,...k},I=O.currentRootName,W=Object(Vt.c)(T,I),oe=Object(Vt.a)(T,I),me=Object(Vt.e)({currentEditor:T,currentRootName:O.currentRootName,ranges:W,markers:oe});let ge=O.currentNode,Te=O.currentNodeDefinition;return ge?ge.root.rootName!==I||!Object(Xn.d)(ge)&&!ge.parent?(ge=null,Te=null):Te=Object(Vt.b)(T,ge):Te=null,{treeDefinition:me,currentNode:ge,currentNodeDefinition:Te,ranges:W,markers:oe}}function co(A){return{type:"SET_VIEW_ACTIVE_TAB",tabName:A}}function $s(){return{type:"UPDATE_VIEW_STATE"}}var $n=r(9),In=r(2);function uo(A,y,k){const T=function(O,I,W){if(O.ui.activeTab!=="View")return I;if(!I)return Nn(O,I);switch(W.type){case"SET_VIEW_CURRENT_ROOT_NAME":return function(oe,me,ge){const Te=ge.currentRootName;return{...me,...cr(oe,me,{currentRootName:Te}),currentNode:null,currentNodeDefinition:null,currentRootName:Te}}(O,I,W);case"SET_VIEW_CURRENT_NODE":return{...I,currentNode:W.currentNode,currentNodeDefinition:Object($n.b)(W.currentNode)};case"SET_ACTIVE_INSPECTOR_TAB":case"UPDATE_VIEW_STATE":return{...I,...cr(O,I)};case"SET_EDITORS":case"SET_CURRENT_EDITOR_NAME":return Nn(O,I);default:return I}}(A,y,k);return T&&(T.ui=function(O,I,W){if(!I)return{activeTab:Dt.get("active-view-tab-name")||"Inspect",showElementTypes:Dt.get("view-element-types")==="true"};switch(W.type){case"SET_VIEW_ACTIVE_TAB":return function(oe,me){return Dt.set("active-view-tab-name",me.tabName),{...oe,activeTab:me.tabName}}(I,W);case"TOGGLE_VIEW_SHOW_ELEMENT_TYPES":return function(oe,me){const ge=!me.showElementTypes;return Dt.set("view-element-types",ge),{...me,showElementTypes:ge}}(0,I);default:return I}}(0,T.ui,k)),T}function Nn(A,y={}){const k=an(A),T=Object($n.d)(k),O=T[0]?T[0].rootName:null;return{...y,...cr(A,y,{currentRootName:O}),currentRootName:O,currentNode:null,currentNodeDefinition:null}}function cr(A,y,k){const T={...y,...k},O=T.currentRootName,I=Object($n.c)(an(A),O),W=Object($n.e)({currentEditor:an(A),currentRootName:O,ranges:I});let oe=T.currentNode,me=T.currentNodeDefinition;return oe?oe.root.rootName!==O||!Object(In.g)(oe)&&!oe.parent?(oe=null,me=null):me=Object($n.b)(oe):me=null,{treeDefinition:W,currentNode:oe,currentNodeDefinition:me,ranges:I}}function ho(){return{type:"UPDATE_COMMANDS_STATE"}}var Ot=r(1);function fo({editors:A,currentEditorName:y},k){if(!k)return null;const T=A.get(y).commands.get(k);return{currentCommandName:k,type:"Command",url:"https://ckeditor.com/docs/ckeditor5/latest/api/module_core_command-Command.html",properties:Object(Ot.b)({isEnabled:{value:T.isEnabled},value:{value:T.value}}),command:T}}function ur({editors:A,currentEditorName:y}){if(!A.get(y))return[];const k=[];for(const[T,O]of A.get(y).commands){const I=[];O.value!==void 0&&I.push(["value",Object(Ot.a)(O.value,!1)]),k.push({name:T,type:"element",children:[],node:T,attributes:I,presentation:{isEmpty:!0,cssClass:["ck-inspector-tree-node_tagless",O.isEnabled?"":"ck-inspector-tree-node_disabled"].join(" ")}})}return k.sort((T,O)=>T.name>O.name?1:-1)}function po(A,y={}){return{...y,currentCommandName:null,currentCommandDefinition:null,treeDefinition:ur(A)}}function Pi(A){return{type:"SET_SCHEMA_CURRENT_DEFINITION_NAME",currentSchemaDefinitionName:A}}const Ai=["isBlock","isInline","isObject","isContent","isLimit","isSelectable"],Sr="https://ckeditor.com/docs/ckeditor5/latest/api/";function Oi({editors:A,currentEditorName:y},k){if(!k)return null;const T=A.get(y).model.schema,O=T.getDefinitions()[k],I={},W={},oe={};let me={};for(const ge of Ai)O[ge]&&(I[ge]={value:O[ge]});for(const ge of O.allowChildren.sort())W[ge]={value:!0,title:"Click to see the definition of "+ge};for(const ge of O.allowIn.sort())oe[ge]={value:!0,title:"Click to see the definition of "+ge};for(const ge of O.allowAttributes.sort())me[ge]={value:!0};me=Object(Ot.b)(me);for(const ge in me){const Te=T.getAttributeProperties(ge),Be={};for(const Ye in Te)Be[Ye]={value:Te[Ye]};me[ge].subProperties=Object(Ot.b)(Be)}return{currentSchemaDefinitionName:k,type:"SchemaCompiledItemDefinition",urls:{general:Sr+"module_engine_model_schema-SchemaCompiledItemDefinition.html",allowAttributes:Sr+"module_engine_model_schema-SchemaItemDefinition.html#member-allowAttributes",allowChildren:Sr+"module_engine_model_schema-SchemaItemDefinition.html#member-allowChildren",allowIn:Sr+"module_engine_model_schema-SchemaItemDefinition.html#member-allowIn"},properties:Object(Ot.b)(I),allowChildren:Object(Ot.b)(W),allowIn:Object(Ot.b)(oe),allowAttributes:me,definition:O}}function Pr({editors:A,currentEditorName:y}){if(!A.get(y))return[];const k=[],T=A.get(y).model.schema.getDefinitions();for(const O in T)k.push({name:O,type:"element",children:[],node:O,attributes:[],presentation:{isEmpty:!0,cssClass:"ck-inspector-tree-node_tagless"}});return k.sort((O,I)=>O.name>I.name?1:-1)}function Mi(A,y={}){return{...y,currentSchemaDefinitionName:null,currentSchemaDefinition:null,treeDefinition:Pr(A)}}var Ar=r(8);function Jo(A,y){const k=function(T,O){switch(O.type){case"SET_EDITORS":return function(I,W){const oe={editors:new Map(W.editors)};return W.editors.size?W.editors.has(I.currentEditorName)||(oe.currentEditorName=Object(Ar.b)(W.editors)):oe.currentEditorName=null,{...I,...oe}}(T,O);case"SET_CURRENT_EDITOR_NAME":return function(I,W){return{...I,currentEditorName:W.editorName}}(T,O);default:return T}}(A,y);return k.currentEditorGlobals=function(T,O,I){switch(I.type){case"SET_EDITORS":case"SET_CURRENT_EDITOR_NAME":return{...Qo(T,{})};case"UPDATE_CURRENT_EDITOR_IS_READ_ONLY":return Qo(T,O);default:return O}}(k,k.currentEditorGlobals,y),k.ui=function(T,O){if(!T.activeTab){let I;return I=T.isCollapsed!==void 0?T.isCollapsed:Dt.get("is-collapsed")==="true",{...T,isCollapsed:I,activeTab:Dt.get("active-tab-name")||"Model",height:Dt.get("height")||"400px",sidePaneWidth:Dt.get("side-pane-width")||"500px"}}switch(O.type){case"TOGGLE_IS_COLLAPSED":return function(I){const W=!I.isCollapsed;return Dt.set("is-collapsed",W),{...I,isCollapsed:W}}(T);case"SET_HEIGHT":return function(I,W){return Dt.set("height",W.newHeight),{...I,height:W.newHeight}}(T,O);case"SET_SIDE_PANE_WIDTH":return function(I,W){return Dt.set("side-pane-width",W.newWidth),{...I,sidePaneWidth:W.newWidth}}(T,O);case"SET_ACTIVE_INSPECTOR_TAB":return function(I,W){return Dt.set("active-tab-name",W.tabName),{...I,activeTab:W.tabName}}(T,O);default:return T}}(k.ui,y),k.model=ci(k,k.model,y),k.view=uo(k,k.view,y),k.commands=function(T,O,I){if(T.ui.activeTab!=="Commands")return O;if(!O)return po(T,O);switch(I.type){case"SET_COMMANDS_CURRENT_COMMAND_NAME":return{...O,currentCommandDefinition:fo(T,I.currentCommandName),currentCommandName:I.currentCommandName};case"SET_ACTIVE_INSPECTOR_TAB":case"UPDATE_COMMANDS_STATE":return{...O,currentCommandDefinition:fo(T,O.currentCommandName),treeDefinition:ur(T)};case"SET_EDITORS":case"SET_CURRENT_EDITOR_NAME":return po(T,O);default:return O}}(k,k.commands,y),k.schema=function(T,O,I){if(T.ui.activeTab!=="Schema")return O;if(!O)return Mi(T,O);switch(I.type){case"SET_SCHEMA_CURRENT_DEFINITION_NAME":return{...O,currentSchemaDefinition:Oi(T,I.currentSchemaDefinitionName),currentSchemaDefinitionName:I.currentSchemaDefinitionName};case"SET_ACTIVE_INSPECTOR_TAB":return{...O,currentSchemaDefinition:Oi(T,O.currentSchemaDefinitionName),treeDefinition:Pr(T)};case"SET_EDITORS":case"SET_CURRENT_EDITOR_NAME":return Mi(T,O);default:return O}}(k,k.schema,y),{...A,...k}}function Qo(A,y){const k=an(A);return{...y,isReadOnly:!!k&&k.isReadOnly}}var J=r(46),ue=r.n(J),xe=function(){var A=function(y,k){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,O){T.__proto__=O}||function(T,O){for(var I in O)O.hasOwnProperty(I)&&(T[I]=O[I])})(y,k)};return function(y,k){function T(){this.constructor=y}A(y,k),y.prototype=k===null?Object.create(k):(T.prototype=k.prototype,new T)}}(),Me=function(){return(Me=Object.assign||function(A){for(var y,k=1,T=arguments.length;k<T;k++)for(var O in y=arguments[k])Object.prototype.hasOwnProperty.call(y,O)&&(A[O]=y[O]);return A}).apply(this,arguments)},kt={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},rt=function(A){function y(){var k=A!==null&&A.apply(this,arguments)||this;return k.onMouseDown=function(T){k.props.onResizeStart(T,k.props.direction)},k.onTouchStart=function(T){k.props.onResizeStart(T,k.props.direction)},k}return xe(y,A),y.prototype.render=function(){return o.createElement("div",{className:this.props.className||"",style:Me(Me({position:"absolute",userSelect:"none"},kt[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},y}(o.PureComponent),xt=r(14),bt=r.n(xt),ln=function(){var A=function(y,k){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,O){T.__proto__=O}||function(T,O){for(var I in O)O.hasOwnProperty(I)&&(T[I]=O[I])})(y,k)};return function(y,k){function T(){this.constructor=y}A(y,k),y.prototype=k===null?Object.create(k):(T.prototype=k.prototype,new T)}}(),wt=function(){return(wt=Object.assign||function(A){for(var y,k=1,T=arguments.length;k<T;k++)for(var O in y=arguments[k])Object.prototype.hasOwnProperty.call(y,O)&&(A[O]=y[O]);return A}).apply(this,arguments)},zt={width:"auto",height:"auto"},cn=bt()(function(A,y,k){return Math.max(Math.min(A,k),y)}),Wn=bt()(function(A,y){return Math.round(A/y)*y}),Lt=bt()(function(A,y){return new RegExp(A,"i").test(y)}),An=function(A){return!!(A.touches&&A.touches.length)},Or=bt()(function(A,y,k){k===void 0&&(k=0);var T=y.reduce(function(I,W,oe){return Math.abs(W-A)<Math.abs(y[I]-A)?oe:I},0),O=Math.abs(y[T]-A);return k===0||O<k?y[T]:A}),Tt=bt()(function(A,y){return A.substr(A.length-y.length,y.length)===y}),dr=bt()(function(A){return(A=A.toString())==="auto"||Tt(A,"px")||Tt(A,"%")||Tt(A,"vh")||Tt(A,"vw")||Tt(A,"vmax")||Tt(A,"vmin")?A:A+"px"}),er=function(A,y,k,T){if(A&&typeof A=="string"){if(Tt(A,"px"))return Number(A.replace("px",""));if(Tt(A,"%"))return y*(Number(A.replace("%",""))/100);if(Tt(A,"vw"))return k*(Number(A.replace("vw",""))/100);if(Tt(A,"vh"))return T*(Number(A.replace("vh",""))/100)}return A},Mr=bt()(function(A,y,k,T,O,I,W){return T=er(T,A.width,y,k),O=er(O,A.height,y,k),I=er(I,A.width,y,k),W=er(W,A.height,y,k),{maxWidth:T===void 0?void 0:Number(T),maxHeight:O===void 0?void 0:Number(O),minWidth:I===void 0?void 0:Number(I),minHeight:W===void 0?void 0:Number(W)}}),Ws=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Hs=function(A){function y(k){var T=A.call(this,k)||this;return T.ratio=1,T.resizable=null,T.parentLeft=0,T.parentTop=0,T.resizableLeft=0,T.resizableRight=0,T.resizableTop=0,T.resizableBottom=0,T.targetLeft=0,T.targetTop=0,T.appendBase=function(){if(!T.resizable||!T.window)return null;var O=T.parentNode;if(!O)return null;var I=T.window.document.createElement("div");return I.style.width="100%",I.style.height="100%",I.style.position="absolute",I.style.transform="scale(0, 0)",I.style.left="0",I.style.flex="0",I.classList?I.classList.add("__resizable_base__"):I.className+="__resizable_base__",O.appendChild(I),I},T.removeBase=function(O){var I=T.parentNode;I&&I.removeChild(O)},T.ref=function(O){O&&(T.resizable=O)},T.state={isResizing:!1,width:(T.propsSize&&T.propsSize.width)===void 0?"auto":T.propsSize&&T.propsSize.width,height:(T.propsSize&&T.propsSize.height)===void 0?"auto":T.propsSize&&T.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},T.onResizeStart=T.onResizeStart.bind(T),T.onMouseMove=T.onMouseMove.bind(T),T.onMouseUp=T.onMouseUp.bind(T),T}return ln(y,A),Object.defineProperty(y.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||zt},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"size",{get:function(){var k=0,T=0;if(this.resizable&&this.window){var O=this.resizable.offsetWidth,I=this.resizable.offsetHeight,W=this.resizable.style.position;W!=="relative"&&(this.resizable.style.position="relative"),k=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:O,T=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:I,this.resizable.style.position=W}return{width:k,height:T}},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"sizeStyle",{get:function(){var k=this,T=this.props.size,O=function(I){if(k.state[I]===void 0||k.state[I]==="auto")return"auto";if(k.propsSize&&k.propsSize[I]&&Tt(k.propsSize[I].toString(),"%")){if(Tt(k.state[I].toString(),"%"))return k.state[I].toString();var W=k.getParentSize();return Number(k.state[I].toString().replace("px",""))/W[I]*100+"%"}return dr(k.state[I])};return{width:T&&T.width!==void 0&&!this.state.isResizing?dr(T.width):O("width"),height:T&&T.height!==void 0&&!this.state.isResizing?dr(T.height):O("height")}},enumerable:!1,configurable:!0}),y.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var k=this.appendBase();if(!k)return{width:0,height:0};var T=!1,O=this.parentNode.style.flexWrap;O!=="wrap"&&(T=!0,this.parentNode.style.flexWrap="wrap"),k.style.position="relative",k.style.minWidth="100%";var I={width:k.offsetWidth,height:k.offsetHeight};return T&&(this.parentNode.style.flexWrap=O),this.removeBase(k),I},y.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},y.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},y.prototype.componentDidMount=function(){if(this.resizable&&this.window){var k=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:k.flexBasis!=="auto"?k.flexBasis:void 0})}},y.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},y.prototype.createSizeForCssProperty=function(k,T){var O=this.propsSize&&this.propsSize[T];return this.state[T]!=="auto"||this.state.original[T]!==k||O!==void 0&&O!=="auto"?k:"auto"},y.prototype.calculateNewMaxFromBoundary=function(k,T){var O,I,W=this.props.boundsByDirection,oe=this.state.direction,me=W&&Lt("left",oe),ge=W&&Lt("top",oe);if(this.props.bounds==="parent"){var Te=this.parentNode;Te&&(O=me?this.resizableRight-this.parentLeft:Te.offsetWidth+(this.parentLeft-this.resizableLeft),I=ge?this.resizableBottom-this.parentTop:Te.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(O=me?this.resizableRight:this.window.innerWidth-this.resizableLeft,I=ge?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(O=me?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),I=ge?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return O&&Number.isFinite(O)&&(k=k&&k<O?k:O),I&&Number.isFinite(I)&&(T=T&&T<I?T:I),{maxWidth:k,maxHeight:T}},y.prototype.calculateNewSizeFromDirection=function(k,T){var O=this.props.scale||1,I=this.props.resizeRatio||1,W=this.state,oe=W.direction,me=W.original,ge=this.props,Te=ge.lockAspectRatio,Be=ge.lockAspectRatioExtraHeight,Ye=ge.lockAspectRatioExtraWidth,ze=me.width,it=me.height,$e=Be||0,Ge=Ye||0;return Lt("right",oe)&&(ze=me.width+(k-me.x)*I/O,Te&&(it=(ze-Ge)/this.ratio+$e)),Lt("left",oe)&&(ze=me.width-(k-me.x)*I/O,Te&&(it=(ze-Ge)/this.ratio+$e)),Lt("bottom",oe)&&(it=me.height+(T-me.y)*I/O,Te&&(ze=(it-$e)*this.ratio+Ge)),Lt("top",oe)&&(it=me.height-(T-me.y)*I/O,Te&&(ze=(it-$e)*this.ratio+Ge)),{newWidth:ze,newHeight:it}},y.prototype.calculateNewSizeFromAspectRatio=function(k,T,O,I){var W=this.props,oe=W.lockAspectRatio,me=W.lockAspectRatioExtraHeight,ge=W.lockAspectRatioExtraWidth,Te=I.width===void 0?10:I.width,Be=O.width===void 0||O.width<0?k:O.width,Ye=I.height===void 0?10:I.height,ze=O.height===void 0||O.height<0?T:O.height,it=me||0,$e=ge||0;if(oe){var Ge=(Ye-it)*this.ratio+$e,mt=(ze-it)*this.ratio+$e,nt=(Te-$e)/this.ratio+it,qe=(Be-$e)/this.ratio+it,Rt=Math.max(Te,Ge),dn=Math.min(Be,mt),gn=Math.max(Ye,nt),bn=Math.min(ze,qe);k=cn(k,Rt,dn),T=cn(T,gn,bn)}else k=cn(k,Te,Be),T=cn(T,Ye,ze);return{newWidth:k,newHeight:T}},y.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var k=this.parentNode;if(k){var T=k.getBoundingClientRect();this.parentLeft=T.left,this.parentTop=T.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var O=this.props.bounds.getBoundingClientRect();this.targetLeft=O.left,this.targetTop=O.top}if(this.resizable){var I=this.resizable.getBoundingClientRect(),W=I.left,oe=I.top,me=I.right,ge=I.bottom;this.resizableLeft=W,this.resizableRight=me,this.resizableTop=oe,this.resizableBottom=ge}},y.prototype.onResizeStart=function(k,T){if(this.resizable&&this.window){var O,I=0,W=0;if(k.nativeEvent&&function(Be){return!!((Be.clientX||Be.clientX===0)&&(Be.clientY||Be.clientY===0))}(k.nativeEvent)){if(I=k.nativeEvent.clientX,W=k.nativeEvent.clientY,k.nativeEvent.which===3)return}else k.nativeEvent&&An(k.nativeEvent)&&(I=k.nativeEvent.touches[0].clientX,W=k.nativeEvent.touches[0].clientY);if(this.props.onResizeStart&&this.resizable&&this.props.onResizeStart(k,T,this.resizable)===!1)return;this.props.size&&(this.props.size.height!==void 0&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),this.props.size.width!==void 0&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var oe=this.window.getComputedStyle(this.resizable);if(oe.flexBasis!=="auto"){var me=this.parentNode;if(me){var ge=this.window.getComputedStyle(me).flexDirection;this.flexDir=ge.startsWith("row")?"row":"column",O=oe.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var Te={original:{x:I,y:W,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:wt(wt({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(k.target).cursor||"auto"}),direction:T,flexBasis:O};this.setState(Te)}},y.prototype.onMouseMove=function(k){if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&An(k))try{k.preventDefault(),k.stopPropagation()}catch{}var T=this.props,O=T.maxWidth,I=T.maxHeight,W=T.minWidth,oe=T.minHeight,me=An(k)?k.touches[0].clientX:k.clientX,ge=An(k)?k.touches[0].clientY:k.clientY,Te=this.state,Be=Te.direction,Ye=Te.original,ze=Te.width,it=Te.height,$e=this.getParentSize(),Ge=Mr($e,this.window.innerWidth,this.window.innerHeight,O,I,W,oe);O=Ge.maxWidth,I=Ge.maxHeight,W=Ge.minWidth,oe=Ge.minHeight;var mt=this.calculateNewSizeFromDirection(me,ge),nt=mt.newHeight,qe=mt.newWidth,Rt=this.calculateNewMaxFromBoundary(O,I),dn=this.calculateNewSizeFromAspectRatio(qe,nt,{width:Rt.maxWidth,height:Rt.maxHeight},{width:W,height:oe});if(qe=dn.newWidth,nt=dn.newHeight,this.props.grid){var gn=Wn(qe,this.props.grid[0]),bn=Wn(nt,this.props.grid[1]),en=this.props.snapGap||0;qe=en===0||Math.abs(gn-qe)<=en?gn:qe,nt=en===0||Math.abs(bn-nt)<=en?bn:nt}this.props.snap&&this.props.snap.x&&(qe=Or(qe,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(nt=Or(nt,this.props.snap.y,this.props.snapGap));var wn={width:qe-Ye.width,height:nt-Ye.height};ze&&typeof ze=="string"&&(Tt(ze,"%")?qe=qe/$e.width*100+"%":Tt(ze,"vw")?qe=qe/this.window.innerWidth*100+"vw":Tt(ze,"vh")&&(qe=qe/this.window.innerHeight*100+"vh")),it&&typeof it=="string"&&(Tt(it,"%")?nt=nt/$e.height*100+"%":Tt(it,"vw")?nt=nt/this.window.innerWidth*100+"vw":Tt(it,"vh")&&(nt=nt/this.window.innerHeight*100+"vh"));var It={width:this.createSizeForCssProperty(qe,"width"),height:this.createSizeForCssProperty(nt,"height")};this.flexDir==="row"?It.flexBasis=It.width:this.flexDir==="column"&&(It.flexBasis=It.height),this.setState(It),this.props.onResize&&this.props.onResize(k,Be,this.resizable,wn)}},y.prototype.onMouseUp=function(k){var T=this.state,O=T.isResizing,I=T.direction,W=T.original;if(O&&this.resizable){var oe={width:this.size.width-W.width,height:this.size.height-W.height};this.props.onResizeStop&&this.props.onResizeStop(k,I,this.resizable,oe),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:wt(wt({},this.state.backgroundStyle),{cursor:"auto"})})}},y.prototype.updateSize=function(k){this.setState({width:k.width,height:k.height})},y.prototype.renderResizer=function(){var k=this,T=this.props,O=T.enable,I=T.handleStyles,W=T.handleClasses,oe=T.handleWrapperStyle,me=T.handleWrapperClass,ge=T.handleComponent;if(!O)return null;var Te=Object.keys(O).map(function(Be){return O[Be]!==!1?o.createElement(rt,{key:Be,direction:Be,onResizeStart:k.onResizeStart,replaceStyles:I&&I[Be],className:W&&W[Be]},ge&&ge[Be]?ge[Be]:null):null});return o.createElement("div",{className:me,style:oe},Te)},y.prototype.render=function(){var k=this,T=Object.keys(this.props).reduce(function(W,oe){return Ws.indexOf(oe)!==-1||(W[oe]=k.props[oe]),W},{}),O=wt(wt(wt({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(O.flexBasis=this.state.flexBasis);var I=this.props.as||"div";return o.createElement(I,wt({ref:this.ref,style:O,className:this.props.className},T),this.state.isResizing&&o.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},y.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},y}(o.PureComponent),yt=function(A,y){return(yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,T){k.__proto__=T}||function(k,T){for(var O in T)T.hasOwnProperty(O)&&(k[O]=T[O])})(A,y)},Ke=function(){return(Ke=Object.assign||function(A){for(var y,k=1,T=arguments.length;k<T;k++)for(var O in y=arguments[k])Object.prototype.hasOwnProperty.call(y,O)&&(A[O]=y[O]);return A}).apply(this,arguments)},ui=ue.a,Dn={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},mo=function(A){function y(k){var T=A.call(this,k)||this;return T.resizing=!1,T.resizingPosition={x:0,y:0},T.offsetFromParent={left:0,top:0},T.resizableElement={current:null},T.refDraggable=function(O){O&&(T.draggable=O)},T.refResizable=function(O){O&&(T.resizable=O,T.resizableElement.current=O.resizable)},T.state={original:{x:0,y:0},bounds:{top:0,right:0,bottom:0,left:0},maxWidth:k.maxWidth,maxHeight:k.maxHeight},T.onResizeStart=T.onResizeStart.bind(T),T.onResize=T.onResize.bind(T),T.onResizeStop=T.onResizeStop.bind(T),T.onDragStart=T.onDragStart.bind(T),T.onDrag=T.onDrag.bind(T),T.onDragStop=T.onDragStop.bind(T),T.getMaxSizesFromProps=T.getMaxSizesFromProps.bind(T),T}return function(k,T){function O(){this.constructor=k}yt(k,T),k.prototype=T===null?Object.create(T):(O.prototype=T.prototype,new O)}(y,A),y.prototype.componentDidMount=function(){this.updateOffsetFromParent();var k=this.offsetFromParent,T=k.left,O=k.top,I=this.getDraggablePosition(),W=I.x,oe=I.y;this.draggable.setState({x:W-T,y:oe-O}),this.forceUpdate()},y.prototype.getDraggablePosition=function(){var k=this.draggable.state;return{x:k.x,y:k.y}},y.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},y.prototype.getParentSize=function(){return this.resizable.getParentSize()},y.prototype.getMaxSizesFromProps=function(){return{maxWidth:this.props.maxWidth===void 0?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:this.props.maxHeight===void 0?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},y.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},y.prototype.getOffsetHeight=function(k){var T=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/T;case"body":return document.body.offsetHeight/T;default:return k.offsetHeight}},y.prototype.getOffsetWidth=function(k){var T=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/T;case"body":return document.body.offsetWidth/T;default:return k.offsetWidth}},y.prototype.onDragStart=function(k,T){if(this.props.onDragStart&&this.props.onDragStart(k,T),this.props.bounds){var O,I=this.getParent(),W=this.props.scale;if(this.props.bounds==="parent")O=I;else{if(this.props.bounds==="body"){var oe=I.getBoundingClientRect(),me=oe.left,ge=oe.top,Te=document.body.getBoundingClientRect(),Be=-(me-I.offsetLeft*W-Te.left)/W,Ye=-(ge-I.offsetTop*W-Te.top)/W,ze=(document.body.offsetWidth-this.resizable.size.width*W)/W+Be,it=(document.body.offsetHeight-this.resizable.size.height*W)/W+Ye;return this.setState({bounds:{top:Ye,right:ze,bottom:it,left:Be}})}if(this.props.bounds==="window"){if(!this.resizable)return;var $e=I.getBoundingClientRect(),Ge=$e.left,mt=$e.top,nt=-(Ge-I.offsetLeft*W)/W,qe=-(mt-I.offsetTop*W)/W;return ze=(window.innerWidth-this.resizable.size.width*W)/W+nt,it=(window.innerHeight-this.resizable.size.height*W)/W+qe,this.setState({bounds:{top:qe,right:ze,bottom:it,left:nt}})}O=document.querySelector(this.props.bounds)}if(O instanceof HTMLElement&&I instanceof HTMLElement){var Rt=O.getBoundingClientRect(),dn=Rt.left,gn=Rt.top,bn=I.getBoundingClientRect(),en=(dn-bn.left)/W,wn=gn-bn.top;if(this.resizable){this.updateOffsetFromParent();var It=this.offsetFromParent;this.setState({bounds:{top:wn-It.top,right:en+(O.offsetWidth-this.resizable.size.width)-It.left/W,bottom:wn+(O.offsetHeight-this.resizable.size.height)-It.top,left:en-It.left/W}})}}}},y.prototype.onDrag=function(k,T){if(this.props.onDrag){var O=this.offsetFromParent;return this.props.onDrag(k,Ke(Ke({},T),{x:T.x-O.left,y:T.y-O.top}))}},y.prototype.onDragStop=function(k,T){if(this.props.onDragStop){var O=this.offsetFromParent,I=O.left,W=O.top;return this.props.onDragStop(k,Ke(Ke({},T),{x:T.x+I,y:T.y+W}))}},y.prototype.onResizeStart=function(k,T,O){k.stopPropagation(),this.resizing=!0;var I=this.props.scale,W=this.offsetFromParent,oe=this.getDraggablePosition();if(this.resizingPosition={x:oe.x+W.left,y:oe.y+W.top},this.setState({original:oe}),this.props.bounds){var me=this.getParent(),ge=void 0;ge=this.props.bounds==="parent"?me:this.props.bounds==="body"?document.body:this.props.bounds==="window"?window:document.querySelector(this.props.bounds);var Te=this.getSelfElement();if(Te instanceof Element&&(ge instanceof HTMLElement||ge===window)&&me instanceof HTMLElement){var Be=this.getMaxSizesFromProps(),Ye=Be.maxWidth,ze=Be.maxHeight,it=this.getParentSize();if(Ye&&typeof Ye=="string")if(Ye.endsWith("%")){var $e=Number(Ye.replace("%",""))/100;Ye=it.width*$e}else Ye.endsWith("px")&&(Ye=Number(Ye.replace("px","")));ze&&typeof ze=="string"&&(ze.endsWith("%")?($e=Number(ze.replace("%",""))/100,ze=it.width*$e):ze.endsWith("px")&&(ze=Number(ze.replace("px",""))));var Ge=Te.getBoundingClientRect(),mt=Ge.left,nt=Ge.top,qe=this.props.bounds==="window"?{left:0,top:0}:ge.getBoundingClientRect(),Rt=qe.left,dn=qe.top,gn=this.getOffsetWidth(ge),bn=this.getOffsetHeight(ge),en=T.toLowerCase().endsWith("left"),wn=T.toLowerCase().endsWith("right"),It=T.startsWith("top"),Nr=T.startsWith("bottom");if(en&&this.resizable){var Ct=(mt-Rt)/I+this.resizable.size.width;this.setState({maxWidth:Ct>Number(Ye)?Ye:Ct})}(wn||this.props.lockAspectRatio&&!en)&&(Ct=gn+(Rt-mt)/I,this.setState({maxWidth:Ct>Number(Ye)?Ye:Ct})),It&&this.resizable&&(Ct=(nt-dn)/I+this.resizable.size.height,this.setState({maxHeight:Ct>Number(ze)?ze:Ct})),(Nr||this.props.lockAspectRatio&&!It)&&(Ct=bn+(dn-nt)/I,this.setState({maxHeight:Ct>Number(ze)?ze:Ct}))}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(k,T,O)},y.prototype.onResize=function(k,T,O,I){var W={x:this.state.original.x,y:this.state.original.y},oe=-I.width,me=-I.height;["top","left","topLeft","bottomLeft","topRight"].indexOf(T)!==-1&&(T==="bottomLeft"?W.x+=oe:(T==="topRight"||(W.x+=oe),W.y+=me)),W.x===this.draggable.state.x&&W.y===this.draggable.state.y||this.draggable.setState(W),this.updateOffsetFromParent();var ge=this.offsetFromParent,Te=this.getDraggablePosition().x+ge.left,Be=this.getDraggablePosition().y+ge.top;this.resizingPosition={x:Te,y:Be},this.props.onResize&&this.props.onResize(k,T,O,I,{x:Te,y:Be})},y.prototype.onResizeStop=function(k,T,O,I){this.resizing=!1;var W=this.getMaxSizesFromProps(),oe=W.maxWidth,me=W.maxHeight;this.setState({maxWidth:oe,maxHeight:me}),this.props.onResizeStop&&this.props.onResizeStop(k,T,O,I,this.resizingPosition)},y.prototype.updateSize=function(k){this.resizable&&this.resizable.updateSize({width:k.width,height:k.height})},y.prototype.updatePosition=function(k){this.draggable.setState(k)},y.prototype.updateOffsetFromParent=function(){var k=this.props.scale,T=this.getParent(),O=this.getSelfElement();if(!T||O===null)return{top:0,left:0};var I=T.getBoundingClientRect(),W=I.left,oe=I.top,me=O.getBoundingClientRect(),ge=this.getDraggablePosition();this.offsetFromParent={left:me.left-W-ge.x*k,top:me.top-oe-ge.y*k}},y.prototype.render=function(){var k=this.props,T=k.disableDragging,O=k.style,I=k.dragHandleClassName,W=k.position,oe=k.onMouseDown,me=k.onMouseUp,ge=k.dragAxis,Te=k.dragGrid,Be=k.bounds,Ye=k.enableUserSelectHack,ze=k.cancel,it=k.children,$e=(k.onResizeStart,k.onResize,k.onResizeStop,k.onDragStart,k.onDrag,k.onDragStop,k.resizeHandleStyles),Ge=k.resizeHandleClasses,mt=k.resizeHandleComponent,nt=k.enableResizing,qe=k.resizeGrid,Rt=k.resizeHandleWrapperClass,dn=k.resizeHandleWrapperStyle,gn=k.scale,bn=k.allowAnyClick,en=function(Rn,tr){var pi={};for(var Bn in Rn)Object.prototype.hasOwnProperty.call(Rn,Bn)&&tr.indexOf(Bn)<0&&(pi[Bn]=Rn[Bn]);if(Rn!=null&&typeof Object.getOwnPropertySymbols=="function"){var nr=0;for(Bn=Object.getOwnPropertySymbols(Rn);nr<Bn.length;nr++)tr.indexOf(Bn[nr])<0&&Object.prototype.propertyIsEnumerable.call(Rn,Bn[nr])&&(pi[Bn[nr]]=Rn[Bn[nr]])}return pi}(k,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),wn=this.props.default?Ke({},this.props.default):void 0;delete en.default;var It,Nr=T||I?{cursor:"auto"}:{cursor:"move"},Ct=Ke(Ke(Ke({},Dn),Nr),O),Dr=this.offsetFromParent,Zr=Dr.left,xo=Dr.top;W&&(It={x:W.x-Zr,y:W.y-xo});var tn,ss=this.resizing?void 0:It,Lr=this.resizing?"both":ge;return Object(o.createElement)(ui,{ref:this.refDraggable,handle:I?"."+I:void 0,defaultPosition:wn,onMouseDown:oe,onMouseUp:me,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:Lr,disabled:T,grid:Te,bounds:Be?this.state.bounds:void 0,position:ss,enableUserSelectHack:Ye,cancel:ze,scale:gn,allowAnyClick:bn,nodeRef:this.resizableElement},Object(o.createElement)(Hs,Ke({},en,{ref:this.refResizable,defaultSize:wn,size:this.props.size,enable:typeof nt=="boolean"?(tn=nt,{bottom:tn,bottomLeft:tn,bottomRight:tn,left:tn,right:tn,top:tn,topLeft:tn,topRight:tn}):nt,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:Ct,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.resizing?this.state.maxHeight:this.props.maxHeight,grid:qe,handleWrapperClass:Rt,handleWrapperStyle:dn,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:$e,handleClasses:Ge,handleComponent:mt,scale:this.props.scale}),it))},y.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},y}(o.PureComponent);r(58);class mn extends o.Component{constructor(y){super(y),this.handleTabClick=this.handleTabClick.bind(this)}handleTabClick(y){this.setState({activeTab:y},()=>{this.props.onClick(y)})}render(){return s.a.createElement("div",{className:"ck-inspector-horizontal-nav"},this.props.definitions.map(y=>s.a.createElement(Hn,{key:y,label:y,isActive:this.props.activeTab===y,onClick:()=>this.handleTabClick(y)})))}}class Hn extends o.Component{render(){return s.a.createElement("button",{className:["ck-inspector-horizontal-nav__item",this.props.isActive?" ck-inspector-horizontal-nav__item_active":""].join(" "),key:this.props.label,onClick:this.props.onClick,type:"button"},this.props.label)}}r(60);class On extends o.Component{render(){const y=Array.isArray(this.props.children)?this.props.children:[this.props.children];return s.a.createElement("div",{className:"ck-inspector-navbox"},y.length>1?s.a.createElement("div",{className:"ck-inspector-navbox__navigation"},y[0]):"",s.a.createElement("div",{className:"ck-inspector-navbox__content"},y[y.length-1]))}}class Ln extends o.Component{constructor(y){super(y),this.handleTabClick=this.handleTabClick.bind(this)}handleTabClick(y){this.props.onTabChange(y)}render(){const y=Array.isArray(this.props.children)?this.props.children:[this.props.children];return s.a.createElement(On,null,[this.props.contentBefore,s.a.createElement(mn,{key:"navigation",definitions:y.map(k=>k.props.label),activeTab:this.props.activeTab,onClick:this.handleTabClick}),this.props.contentAfter],y.filter(k=>k.props.label===this.props.activeTab))}}var Ri=r(5),Rr=r.n(Ri);class Un extends o.Component{render(){return[s.a.createElement("label",{htmlFor:this.props.id,key:"label"},this.props.label,":"),s.a.createElement("select",{id:this.props.id,value:this.props.value,onChange:this.props.onChange,key:"select"},this.props.options.map(y=>s.a.createElement("option",{value:y,key:y},y)))]}shouldComponentUpdate(y){return!Rr()(this.props,y)}}r(62);class jt extends o.PureComponent{render(){const y=["ck-inspector-button",this.props.className||"",this.props.isOn?"ck-inspector-button_on":"",this.props.isEnabled===!1?"ck-inspector-button_disabled":""].filter(k=>k).join(" ");return s.a.createElement("button",{className:y,type:"button",onClick:this.props.isEnabled===!1?()=>{}:this.props.onClick,title:this.props.title||this.props.text},s.a.createElement("span",null,this.props.text),this.props.icon)}}r(64);class Xt extends o.Component{render(){return s.a.createElement("div",{className:["ck-inspector-pane",this.props.splitVertically?"ck-inspector-pane_vsplit":"",this.props.isEmpty?"ck-inspector-pane_empty":""].join(" ")},this.props.children)}}r(66);const Ii={position:"relative"};class Ni extends o.Component{get maxSidePaneWidth(){return Math.min(window.innerWidth-400,.8*window.innerWidth)}render(){return s.a.createElement("div",{className:"ck-inspector-side-pane"},s.a.createElement(mo,{enableResizing:{left:!0},disableDragging:!0,minWidth:200,maxWidth:this.maxSidePaneWidth,style:Ii,position:{x:"100%",y:"100%"},size:{width:this.props.sidePaneWidth,height:"100%"},onResizeStop:(y,k,T)=>this.props.setSidePaneWidth(T.style.width)},this.props.children))}}var hr=Ve(({ui:{sidePaneWidth:A}})=>({sidePaneWidth:A}),{setSidePaneWidth:function(A){return{type:"SET_SIDE_PANE_WIDTH",newWidth:A}}})(Ni),kn=r(11);r(68);class Mn extends o.PureComponent{render(){return[s.a.createElement("input",{type:"checkbox",className:"ck-inspector-checkbox",id:this.props.id,key:"input",checked:this.props.isChecked,onChange:this.props.onChange}),s.a.createElement("label",{htmlFor:this.props.id,key:"label"},this.props.label)]}}class qn extends o.Component{constructor(y){super(y),this.handleTreeClick=this.handleTreeClick.bind(this),this.handleRootChange=this.handleRootChange.bind(this)}handleTreeClick(y,k){y.persist(),y.stopPropagation(),this.props.setModelCurrentNode(k),y.detail===2&&this.props.setModelActiveTab("Inspect")}handleRootChange(y){this.props.setModelCurrentRootName(y.target.value)}render(){const y=this.props.editors.get(this.props.currentEditorName);return s.a.createElement(On,null,[s.a.createElement("div",{className:"ck-inspector-tree__config",key:"root-cfg"},s.a.createElement(Un,{id:"view-root-select",label:"Root",value:this.props.currentRootName,options:Object(Vt.d)(y).map(k=>k.rootName),onChange:this.handleRootChange})),s.a.createElement("span",{className:"ck-inspector-separator",key:"separator"}),s.a.createElement("div",{className:"ck-inspector-tree__config",key:"text-cfg"},s.a.createElement(Mn,{label:"Compact text",id:"model-compact-text",isChecked:this.props.showCompactText,onChange:this.props.toggleModelShowCompactText}),s.a.createElement(Mn,{label:"Show markers",id:"model-show-markers",isChecked:this.props.showMarkers,onChange:this.props.toggleModelShowMarkers}))],s.a.createElement(kn.a,{className:[this.props.showMarkers?"":"ck-inspector-model-tree__hide-markers"],definition:this.props.treeDefinition,textDirection:y.locale.contentLanguageDirection,onClick:this.handleTreeClick,showCompactText:this.props.showCompactText,activeNode:this.props.currentNode}))}}var di=Ve(({editors:A,currentEditorName:y,model:{treeDefinition:k,currentRootName:T,currentNode:O,ui:{showMarkers:I,showCompactText:W}}})=>({treeDefinition:k,editors:A,currentEditorName:y,currentRootName:T,currentNode:O,showMarkers:I,showCompactText:W}),{toggleModelShowCompactText:function(){return{type:"TOGGLE_MODEL_SHOW_COMPACT_TEXT"}},setModelCurrentRootName:function(A){return{type:"SET_MODEL_CURRENT_ROOT_NAME",currentRootName:A}},toggleModelShowMarkers:function(){return{type:"TOGGLE_MODEL_SHOW_MARKERS"}},setModelCurrentNode:function(A){return{type:"SET_MODEL_CURRENT_NODE",currentNode:A}},setModelActiveTab:et})(qn);r(70);class Di extends o.Component{render(){const y=this.props.presentation&&this.props.presentation.expandCollapsibles,k=[];for(const T in this.props.itemDefinitions){const O=this.props.itemDefinitions[T],{subProperties:I,presentation:W={}}=O,oe=I&&Object.keys(I).length,me=Object(Ot.c)(String(O.value),2e3),ge=[s.a.createElement(Xo,{key:`${this.props.name}-${T}-name`,name:T,listUid:this.props.name,canCollapse:oe,colorBox:W.colorBox,expandCollapsibles:y,onClick:this.props.onPropertyTitleClick,title:O.title}),s.a.createElement("dd",{key:`${this.props.name}-${T}-value`},s.a.createElement("input",{id:`${this.props.name}-${T}-value-input`,type:"text",value:me,readOnly:!0}))];oe&&ge.push(s.a.createElement(Di,{name:`${this.props.name}-${T}`,key:`${this.props.name}-${T}`,itemDefinitions:I,presentation:this.props.presentation})),k.push(ge)}return s.a.createElement("dl",{className:"ck-inspector-property-list ck-inspector-code"},k)}shouldComponentUpdate(y){return!Rr()(this.props,y)}}class Xo extends o.PureComponent{constructor(y){super(y),this.state={isCollapsed:!this.props.expandCollapsibles},this.handleCollapsedChange=this.handleCollapsedChange.bind(this)}handleCollapsedChange(){this.setState({isCollapsed:!this.state.isCollapsed})}render(){const y=["ck-inspector-property-list__title"];let k,T;return this.props.canCollapse&&(y.push("ck-inspector-property-list__title_collapsible"),y.push("ck-inspector-property-list__title_"+(this.state.isCollapsed?"collapsed":"expanded")),k=s.a.createElement("button",{type:"button",onClick:this.handleCollapsedChange},"Toggle")),this.props.colorBox&&(T=s.a.createElement("span",{className:"ck-inspector-property-list__title__color-box",style:{background:this.props.colorBox}})),this.props.onClick&&y.push("ck-inspector-property-list__title_clickable"),s.a.createElement("dt",{className:y.join(" ").trim()},k,T,s.a.createElement("label",{htmlFor:`${this.props.listUid}-${this.props.name}-value-input`,onClick:this.props.onClick?()=>this.props.onClick(this.props.name):null,title:this.props.title},this.props.name),":")}}r(72);function go(){return(go=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}class Kr extends o.PureComponent{render(){const y=[];for(const k of this.props.lists)Object.keys(k.itemDefinitions).length&&y.push(s.a.createElement("hr",{key:k.name+"-separator"}),s.a.createElement("h3",{key:k.name+"-header"},s.a.createElement("a",{href:k.url,target:"_blank",rel:"noopener noreferrer"},k.name),k.buttons&&k.buttons.map((T,O)=>s.a.createElement(jt,go({key:"button"+O},T)))),s.a.createElement(Di,{key:k.name+"-list",name:k.name,itemDefinitions:k.itemDefinitions,presentation:k.presentation,onPropertyTitleClick:k.onPropertyTitleClick}));return s.a.createElement("div",{className:"ck-inspector__object-inspector"},s.a.createElement("h2",{className:"ck-inspector-code"},this.props.header),y)}}var un=r(3);function Us(){return(Us=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}var fr=({styles:A={},...y})=>s.a.createElement("svg",Us({viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},y),s.a.createElement("path",{d:"M17 15.75a.75.75 0 01.102 1.493L17 17.25H9a.75.75 0 01-.102-1.493L9 15.75h8zM2.156 2.947l.095.058 7.58 5.401a.75.75 0 01.084 1.152l-.083.069-7.58 5.425a.75.75 0 01-.958-1.148l.086-.071 6.724-4.815-6.723-4.792a.75.75 0 01-.233-.95l.057-.096a.75.75 0 01.951-.233z"}));function bo(){return(bo=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}var cd=({styles:A={},...y})=>s.a.createElement("svg",bo({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"},y),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 1a1 1 0 011-1h5a1 1 0 011 1v5a1 1 0 01-1 1h-2v2h5a1 1 0 011 1v3h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-3a1 1 0 011-1h1v-2.5a.5.5 0 00-.5-.5H10v3h1a1 1 0 011 1v3a1 1 0 01-1 1H8a1 1 0 01-1-1v-3a1 1 0 011-1h1v-3H4.5a.5.5 0 00-.5.5V13h1a1 1 0 011 1v3a1 1 0 01-1 1H2a1 1 0 01-1-1v-3a1 1 0 011-1h1v-3a1 1 0 011-1h5V7H7a1 1 0 01-1-1V1zm1.5 4.5v-4h4v4h-4zm-5 11v-2h2v2h-2zm6-2v2h2v-2h-2zm6 2v-2h2v2h-2z",fill:"#000"}));class qs extends o.Component{constructor(y){super(y),this.handleNodeLogButtonClick=this.handleNodeLogButtonClick.bind(this),this.handleNodeSchemaButtonClick=this.handleNodeSchemaButtonClick.bind(this)}handleNodeLogButtonClick(){un.a.log(this.props.currentNodeDefinition.editorNode)}handleNodeSchemaButtonClick(){const y=this.props.editors.get(this.props.currentEditorName).model.schema.getDefinition(this.props.currentNodeDefinition.editorNode);this.props.setActiveTab("Schema"),this.props.setSchemaCurrentDefinitionName(y.name)}render(){const y=this.props.currentNodeDefinition;return y?s.a.createElement(Kr,{header:[s.a.createElement("span",{key:"link"},s.a.createElement("a",{href:y.url,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("b",null,y.type)),":",y.type==="Text"?s.a.createElement("em",null,y.name):y.name),s.a.createElement(jt,{key:"log",icon:s.a.createElement(fr,null),text:"Log in console",onClick:this.handleNodeLogButtonClick}),s.a.createElement(jt,{key:"schema",icon:s.a.createElement(cd,null),text:"Show in schema",onClick:this.handleNodeSchemaButtonClick})],lists:[{name:"Attributes",url:y.url,itemDefinitions:y.attributes},{name:"Properties",url:y.url,itemDefinitions:y.properties}]}):s.a.createElement(Xt,{isEmpty:"true"},s.a.createElement("p",null,"Select a node in the tree to inspect"))}}var sc=Ve(({editors:A,currentEditorName:y,model:{currentNodeDefinition:k}})=>({editors:A,currentEditorName:y,currentNodeDefinition:k}),{setActiveTab:Qt,setSchemaCurrentDefinitionName:Pi})(qs);function ac(){return(ac=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}var wo=({styles:A={},...y})=>s.a.createElement("svg",ac({viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},y),s.a.createElement("path",{d:"M9.5 4.5c1.85 0 3.667.561 5.199 1.519C16.363 7.059 17.5 8.4 17.5 9.5s-1.137 2.441-2.801 3.481c-1.532.958-3.35 1.519-5.199 1.519-1.85 0-3.667-.561-5.199-1.519C2.637 11.941 1.5 10.6 1.5 9.5s1.137-2.441 2.801-3.481C5.833 5.06 7.651 4.5 9.5 4.5zm0 1a4 4 0 11-.2.005l.2-.005c-1.655 0-3.29.505-4.669 1.367C3.431 7.742 2.5 8.84 2.5 9.5c0 .66.931 1.758 2.331 2.633C6.21 12.995 7.845 13.5 9.5 13.5c1.655 0 3.29-.505 4.669-1.367 1.4-.875 2.331-1.974 2.331-2.633 0-.66-.931-1.758-2.331-2.633C12.79 6.005 11.155 5.5 9.5 5.5zM8 6.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"}));const Li="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_model_selection-Selection.html";class lc extends o.Component{constructor(y){super(y),this.handleSelectionLogButtonClick=this.handleSelectionLogButtonClick.bind(this),this.handleScrollToSelectionButtonClick=this.handleScrollToSelectionButtonClick.bind(this)}handleSelectionLogButtonClick(){const y=this.props.editor;un.a.log(y.model.document.selection)}handleScrollToSelectionButtonClick(){const y=document.querySelector(".ck-inspector-tree__position.ck-inspector-tree__position_selection");y&&y.scrollIntoView({behavior:"smooth",block:"center"})}render(){const y=this.props.editor,k=this.props.info;return s.a.createElement(Kr,{header:[s.a.createElement("span",{key:"link"},s.a.createElement("a",{href:Li,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("b",null,"Selection"))),s.a.createElement(jt,{key:"log",icon:s.a.createElement(fr,null),text:"Log in console",onClick:this.handleSelectionLogButtonClick}),s.a.createElement(jt,{key:"scroll",icon:s.a.createElement(wo,null),text:"Scroll to selection",onClick:this.handleScrollToSelectionButtonClick})],lists:[{name:"Attributes",url:Li+"#function-getAttributes",itemDefinitions:k.attributes},{name:"Properties",url:""+Li,itemDefinitions:k.properties},{name:"Anchor",url:Li+"#member-anchor",buttons:[{icon:s.a.createElement(fr,null),text:"Log in console",onClick:()=>un.a.log(y.model.document.selection.anchor)}],itemDefinitions:k.anchor},{name:"Focus",url:Li+"#member-focus",buttons:[{icon:s.a.createElement(fr,null),text:"Log in console",onClick:()=>un.a.log(y.model.document.selection.focus)}],itemDefinitions:k.focus},{name:"Ranges",url:Li+"#function-getRanges",buttons:[{icon:s.a.createElement(fr,null),text:"Log in console",onClick:()=>un.a.log(...y.model.document.selection.getRanges())}],itemDefinitions:k.ranges,presentation:{expandCollapsibles:!0}}]})}}var cc=Ve(({editors:A,currentEditorName:y,model:{ranges:k}})=>{const T=A.get(y);return{editor:T,currentEditorName:y,info:function(O,I){const W=O.model.document.selection,oe=W.anchor,me=W.focus,ge={properties:{isCollapsed:{value:W.isCollapsed},isBackward:{value:W.isBackward},isGravityOverridden:{value:W.isGravityOverridden},rangeCount:{value:W.rangeCount}},attributes:{},anchor:yo(Object(Xn.a)(oe)),focus:yo(Object(Xn.a)(me)),ranges:{}};for(const[Te,Be]of W.getAttributes())ge.attributes[Te]={value:Be};I.forEach((Te,Be)=>{ge.ranges[Be]={value:"",subProperties:{start:{value:"",subProperties:Object(Ot.b)(yo(Te.start))},end:{value:"",subProperties:Object(Ot.b)(yo(Te.end))}}}});for(const Te in ge)Te!=="ranges"&&(ge[Te]=Object(Ot.b)(ge[Te]));return ge}(T,k)}},{})(lc);function yo({path:A,stickiness:y,index:k,isAtEnd:T,isAtStart:O,offset:I,textNode:W}){return{path:{value:A},stickiness:{value:y},index:{value:k},isAtEnd:{value:T},isAtStart:{value:O},offset:{value:I},textNode:{value:W}}}class ud extends o.Component{render(){const y=function(O){const I={};for(const W of O){const oe=W.name.split(":");let me=I;for(const ge of oe){const Te=ge===oe[oe.length-1];me=me[ge]?me[ge]:me[ge]=Te?W:{}}}return I}(this.props.markers),k=function O(I){const W={};for(const oe in I){const me=I[oe];if(me.name){const ge=Object(Ot.b)(uc(me));W[oe]={value:"",presentation:{colorBox:me.presentation.color},subProperties:ge}}else{const ge=Object.keys(me).length;W[oe]={value:ge+" marker"+(ge>1?"s":""),subProperties:O(me)}}}return W}(y),T=this.props.editors.get(this.props.currentEditorName);return Object.keys(y).length?s.a.createElement(Kr,{header:[s.a.createElement("span",{key:"link"},s.a.createElement("a",{href:"https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_model_markercollection-Marker.html",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("b",null,"Markers"))),s.a.createElement(jt,{key:"log",icon:s.a.createElement(fr,null),text:"Log in console",onClick:()=>un.a.log([...T.model.markers])})],lists:[{name:"Markers tree",itemDefinitions:k,presentation:{expandCollapsibles:!0}}]}):s.a.createElement(Xt,{isEmpty:"true"},s.a.createElement("p",null,"No markers in the document."))}}var $a=Ve(({editors:A,currentEditorName:y,model:{markers:k}})=>({editors:A,currentEditorName:y,markers:k}),{})(ud);function uc({name:A,start:y,end:k,affectsData:T,managedUsingOperations:O}){return{name:{value:A},start:{value:y.path},end:{value:k.path},affectsData:{value:T},managedUsingOperations:{value:O}}}r(74);class Wa extends o.Component{render(){return this.props.currentEditorName?s.a.createElement(Xt,{splitVertically:"true"},s.a.createElement(di,null),s.a.createElement(hr,null,s.a.createElement(Ln,{onTabChange:this.props.setModelActiveTab,activeTab:this.props.activeTab},s.a.createElement(sc,{label:"Inspect"}),s.a.createElement(cc,{label:"Selection"}),s.a.createElement($a,{label:"Markers"})))):s.a.createElement(Xt,{isEmpty:"true"},s.a.createElement("p",null,"Nothing to show. Attach another editor instance to start inspecting."))}}var dd=Ve(({currentEditorName:A,model:{ui:{activeTab:y}}})=>({currentEditorName:A,activeTab:y}),{setModelActiveTab:et})(Wa);class hd extends o.Component{constructor(y){super(y),this.handleTreeClick=this.handleTreeClick.bind(this),this.handleRootChange=this.handleRootChange.bind(this)}handleTreeClick(y,k){y.persist(),y.stopPropagation(),this.props.setViewCurrentNode(k),y.detail===2&&this.props.setViewActiveTab("Inspect")}handleRootChange(y){this.props.setViewCurrentRootName(y.target.value)}render(){const y=this.props.editors.get(this.props.currentEditorName);return s.a.createElement(On,null,[s.a.createElement("div",{className:"ck-inspector-tree__config",key:"root-cfg"},s.a.createElement(Un,{id:"view-root-select",label:"Root",value:this.props.currentRootName,options:Object($n.d)(y).map(k=>k.rootName),onChange:this.handleRootChange})),s.a.createElement("span",{className:"ck-inspector-separator",key:"separator"}),s.a.createElement("div",{className:"ck-inspector-tree__config",key:"types-cfg"},s.a.createElement(Mn,{label:"Show element types",id:"view-show-types",isChecked:this.props.showElementTypes,onChange:this.props.toggleViewShowElementTypes}))],s.a.createElement(kn.a,{definition:this.props.treeDefinition,textDirection:y.locale.contentLanguageDirection,onClick:this.handleTreeClick,showCompactText:"true",showElementTypes:this.props.showElementTypes,activeNode:this.props.currentNode}))}}var Ks=Ve(({editors:A,currentEditorName:y,view:{treeDefinition:k,currentRootName:T,currentNode:O,ui:{showElementTypes:I}}})=>({treeDefinition:k,editors:A,currentEditorName:y,currentRootName:T,currentNode:O,showElementTypes:I}),{setViewCurrentRootName:function(A){return{type:"SET_VIEW_CURRENT_ROOT_NAME",currentRootName:A}},toggleViewShowElementTypes:function(){return{type:"TOGGLE_VIEW_SHOW_ELEMENT_TYPES"}},setViewCurrentNode:function(A){return{type:"SET_VIEW_CURRENT_NODE",currentNode:A}},setViewActiveTab:co})(hd);class Bt extends o.Component{constructor(y){super(y),this.handleNodeLogButtonClick=this.handleNodeLogButtonClick.bind(this)}handleNodeLogButtonClick(){un.a.log(this.props.currentNodeDefinition.editorNode)}render(){const y=this.props.currentNodeDefinition;return y?s.a.createElement(Kr,{header:[s.a.createElement("span",{key:"link"},s.a.createElement("a",{href:y.url,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("b",null,y.type),":"),y.type==="Text"?s.a.createElement("em",null,y.name):y.name),s.a.createElement(jt,{key:"log",icon:s.a.createElement(fr,null),text:"Log in console",onClick:this.handleNodeLogButtonClick})],lists:[{name:"Attributes",url:y.url,itemDefinitions:y.attributes},{name:"Properties",url:y.url,itemDefinitions:y.properties},{name:"Custom Properties",url:$n.a+"_element-Element.html#function-getCustomProperty",itemDefinitions:y.customProperties}]}):s.a.createElement(Xt,{isEmpty:"true"},s.a.createElement("p",null,"Select a node in the tree to inspect"))}}var es=Ve(({view:{currentNodeDefinition:A}})=>({currentNodeDefinition:A}),{})(Bt);const ts="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_view_selection-Selection.html";class fd extends o.Component{constructor(y){super(y),this.handleSelectionLogButtonClick=this.handleSelectionLogButtonClick.bind(this),this.handleScrollToSelectionButtonClick=this.handleScrollToSelectionButtonClick.bind(this)}handleSelectionLogButtonClick(){const y=this.props.editor;un.a.log(y.editing.view.document.selection)}handleScrollToSelectionButtonClick(){const y=document.querySelector(".ck-inspector-tree__position.ck-inspector-tree__position_selection");y&&y.scrollIntoView({behavior:"smooth",block:"center"})}render(){const y=this.props.editor,k=this.props.info;return s.a.createElement(Kr,{header:[s.a.createElement("span",{key:"link"},s.a.createElement("a",{href:ts,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("b",null,"Selection"))),s.a.createElement(jt,{key:"log",icon:s.a.createElement(fr,null),text:"Log in console",onClick:this.handleSelectionLogButtonClick}),s.a.createElement(jt,{key:"scroll",icon:s.a.createElement(wo,null),text:"Scroll to selection",onClick:this.handleScrollToSelectionButtonClick})],lists:[{name:"Properties",url:""+ts,itemDefinitions:k.properties},{name:"Anchor",url:ts+"#member-anchor",buttons:[{type:"log",text:"Log in console",onClick:()=>un.a.log(y.editing.view.document.selection.anchor)}],itemDefinitions:k.anchor},{name:"Focus",url:ts+"#member-focus",buttons:[{type:"log",text:"Log in console",onClick:()=>un.a.log(y.editing.view.document.selection.focus)}],itemDefinitions:k.focus},{name:"Ranges",url:ts+"#function-getRanges",buttons:[{type:"log",text:"Log in console",onClick:()=>un.a.log(...y.editing.view.document.selection.getRanges())}],itemDefinitions:k.ranges,presentation:{expandCollapsibles:!0}}]})}}var Gs=Ve(({editors:A,currentEditorName:y,view:{ranges:k}})=>{const T=A.get(y);return{editor:T,currentEditorName:y,info:function(O,I){const W=O.editing.view.document.selection,oe={properties:{isCollapsed:{value:W.isCollapsed},isBackward:{value:W.isBackward},isFake:{value:W.isFake},rangeCount:{value:W.rangeCount}},anchor:vo(Object(In.a)(W.anchor)),focus:vo(Object(In.a)(W.focus)),ranges:{}};I.forEach((me,ge)=>{oe.ranges[ge]={value:"",subProperties:{start:{value:"",subProperties:Object(Ot.b)(vo(me.start))},end:{value:"",subProperties:Object(Ot.b)(vo(me.end))}}}});for(const me in oe)me!=="ranges"&&(oe[me]=Object(Ot.b)(oe[me]));return oe}(T,k)}},{})(fd);function vo({offset:A,isAtEnd:y,isAtStart:k,parent:T}){return{offset:{value:A},isAtEnd:{value:y},isAtStart:{value:k},parent:{value:T}}}class ns extends o.Component{render(){return this.props.currentEditorName?s.a.createElement(Xt,{splitVertically:"true"},s.a.createElement(Ks,null),s.a.createElement(hr,null,s.a.createElement(Ln,{onTabChange:this.props.setViewActiveTab,activeTab:this.props.activeTab},s.a.createElement(es,{label:"Inspect"}),s.a.createElement(Gs,{label:"Selection"})))):s.a.createElement(Xt,{isEmpty:"true"},s.a.createElement("p",null,"Nothing to show. Attach another editor instance to start inspecting."))}}var pd=Ve(({currentEditorName:A,view:{ui:{activeTab:y}}})=>({currentEditorName:A,activeTab:y}),{setViewActiveTab:co,updateViewState:$s})(ns);class dc extends o.Component{constructor(y){super(y),this.handleTreeClick=this.handleTreeClick.bind(this)}handleTreeClick(y,k){y.persist(),y.stopPropagation(),this.props.setCommandsCurrentCommandName(k)}render(){return s.a.createElement(On,null,s.a.createElement(kn.a,{definition:this.props.treeDefinition,onClick:this.handleTreeClick,activeNode:this.props.currentCommandName}))}}var hc=Ve(({commands:{treeDefinition:A,currentCommandName:y}})=>({treeDefinition:A,currentCommandName:y}),{setCommandsCurrentCommandName:function(A){return{type:"SET_COMMANDS_CURRENT_COMMAND_NAME",currentCommandName:A}}})(dc);function fc(){return(fc=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}var Ha=({styles:A={},...y})=>s.a.createElement("svg",fc({viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},y),s.a.createElement("path",{d:"M9.25 1.25a8 8 0 110 16 8 8 0 010-16zm0 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM7.344 6.485l4.98 2.765-4.98 3.018V6.485z"}));class Ua extends o.Component{constructor(y){super(y),this.handleCommandLogButtonClick=this.handleCommandLogButtonClick.bind(this),this.handleCommandExecuteButtonClick=this.handleCommandExecuteButtonClick.bind(this)}handleCommandLogButtonClick(){un.a.log(this.props.currentCommandDefinition.command)}handleCommandExecuteButtonClick(){this.props.editors.get(this.props.currentEditorName).execute(this.props.currentCommandName)}render(){const y=this.props.currentCommandDefinition;return y?s.a.createElement(Kr,{header:[s.a.createElement("span",{key:"link"},s.a.createElement("a",{href:y.url,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("b",null,y.type)),":",this.props.currentCommandName),s.a.createElement(jt,{key:"exec",icon:s.a.createElement(Ha,null),text:"Execute command",onClick:this.handleCommandExecuteButtonClick}),s.a.createElement(jt,{key:"log",icon:s.a.createElement(fr,null),text:"Log in console",onClick:this.handleCommandLogButtonClick})],lists:[{name:"Properties",url:y.url,itemDefinitions:y.properties}]}):s.a.createElement(Xt,{isEmpty:"true"},s.a.createElement("p",null,"Select a command to inspect"))}}var pc=Ve(({editors:A,currentEditorName:y,commands:{currentCommandName:k,currentCommandDefinition:T}})=>({editors:A,currentEditorName:y,currentCommandName:k,currentCommandDefinition:T}),{})(Ua);class Gr extends o.Component{render(){return this.props.currentEditorName?s.a.createElement(Xt,{splitVertically:"true"},s.a.createElement(hc,null),s.a.createElement(hr,null,s.a.createElement(Ln,{activeTab:"Inspect"},s.a.createElement(pc,{label:"Inspect"})))):s.a.createElement(Xt,{isEmpty:"true"},s.a.createElement("p",null,"Nothing to show. Attach another editor instance to start inspecting."))}}var Zs=Ve(({currentEditorName:A})=>({currentEditorName:A}),{updateCommandsState:ho})(Gr);class qa extends o.Component{constructor(y){super(y),this.handleTreeClick=this.handleTreeClick.bind(this)}handleTreeClick(y,k){y.persist(),y.stopPropagation(),this.props.setSchemaCurrentDefinitionName(k)}render(){return s.a.createElement(On,null,s.a.createElement(kn.a,{definition:this.props.treeDefinition,onClick:this.handleTreeClick,activeNode:this.props.currentSchemaDefinitionName}))}}var mc=Ve(({schema:{treeDefinition:A,currentSchemaDefinitionName:y}})=>({treeDefinition:A,currentSchemaDefinitionName:y}),{setSchemaCurrentDefinitionName:Pi})(qa);class gc extends o.Component{render(){const y=this.props.currentSchemaDefinition;return y?s.a.createElement(Kr,{header:[s.a.createElement("span",{key:"link"},s.a.createElement("a",{href:y.urls.general,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("b",null,y.type)),":",this.props.currentSchemaDefinitionName)],lists:[{name:"Properties",url:y.urls.general,itemDefinitions:y.properties},{name:"Allowed attributes",url:y.urls.allowAttributes,itemDefinitions:y.allowAttributes},{name:"Allowed children",url:y.urls.allowChildren,itemDefinitions:y.allowChildren,onPropertyTitleClick:k=>{this.props.setSchemaCurrentDefinitionName(k)}},{name:"Allowed in",url:y.urls.allowIn,itemDefinitions:y.allowIn,onPropertyTitleClick:k=>{this.props.setSchemaCurrentDefinitionName(k)}}]}):s.a.createElement(Xt,{isEmpty:"true"},s.a.createElement("p",null,"Select a schema definition to inspect"))}}var bc=Ve(({editors:A,currentEditorName:y,schema:{currentSchemaDefinitionName:k,currentSchemaDefinition:T}})=>({editors:A,currentEditorName:y,currentSchemaDefinitionName:k,currentSchemaDefinition:T}),{setSchemaCurrentDefinitionName:Pi})(gc);class Ka extends o.Component{render(){return this.props.currentEditorName?s.a.createElement(Xt,{splitVertically:"true"},s.a.createElement(mc,null),s.a.createElement(hr,null,s.a.createElement(Ln,{activeTab:"Inspect"},s.a.createElement(bc,{label:"Inspect"})))):s.a.createElement(Xt,{isEmpty:"true"},s.a.createElement("p",null,"Nothing to show. Attach another editor instance to start inspecting."))}}var Ga=Ve(({currentEditorName:A})=>({currentEditorName:A}))(Ka),Za=r(47),wc=r.n(Za),Ya=r(48),Ja=r.n(Ya);function yc(){return(yc=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}var _o=({styles:A={},...y})=>s.a.createElement("svg",yc({viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},y),s.a.createElement("path",{d:"M12.936 0l5 4.5v12.502l-1.504-.001v.003h1.504v1.499h-5v-1.501l3.496-.001V5.208L12.21 1.516 3.436 1.5v15.504l3.5-.001v1.5h-5V0h11z"}),s.a.createElement("path",{d:"M10.374 9.463l.085.072.477.464L11 10v.06l3.545 3.453-1.047 1.075L11 12.155V19H9v-6.9l-2.424 2.476-1.072-1.05L9.4 9.547a.75.75 0 01.974-.084zM12.799 1.5l-.001 2.774h3.645v1.5h-5.144V1.5z"}));r(86);class vc extends o.Component{constructor(y){super(y),this.state={isModalOpen:!1,editorDataValue:""},this.textarea=s.a.createRef()}render(){return[s.a.createElement(jt,{text:"Set editor data",icon:s.a.createElement(_o,null),isEnabled:!!this.props.editor,onClick:()=>this.setState({isModalOpen:!0}),key:"button"}),s.a.createElement(Ja.a,{isOpen:this.state.isModalOpen,appElement:document.querySelector(".ck-inspector-wrapper"),onAfterOpen:this._handleModalAfterOpen.bind(this),overlayClassName:"ck-inspector-modal ck-inspector-quick-actions__set-data-modal",className:"ck-inspector-quick-actions__set-data-modal__content",onRequestClose:this._closeModal.bind(this),portalClassName:"ck-inspector-portal",shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,key:"modal"},s.a.createElement("h2",null,"Set editor data"),s.a.createElement("textarea",{autoFocus:!0,ref:this.textarea,value:this.state.editorDataValue,placeholder:"Paste HTML here...",onChange:this._handlDataChange.bind(this),onKeyPress:y=>{y.key=="Enter"&&y.shiftKey&&this._setEditorDataAndCloseModal()}}),s.a.createElement("div",{className:"ck-inspector-quick-actions__set-data-modal__buttons"},s.a.createElement("button",{type:"button",onClick:()=>{this.setState({editorDataValue:this.props.editor.getData()}),this.textarea.current.focus()}},"Load data"),s.a.createElement("button",{type:"button",title:"Cancel (Esc)",onClick:this._closeModal.bind(this)},"Cancel"),s.a.createElement("button",{type:"button",title:"Set editor data (⇧+Enter)",onClick:this._setEditorDataAndCloseModal.bind(this)},"Set data")))]}_setEditorDataAndCloseModal(){this.props.editor.setData(this.state.editorDataValue),this._closeModal()}_closeModal(){this.setState({isModalOpen:!1})}_handlDataChange(y){this.setState({editorDataValue:y.target.value})}_handleModalAfterOpen(){this.setState({editorDataValue:this.props.editor.getData()}),this.textarea.current.select()}}function Ys(){return(Ys=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}var hi=({styles:A={},...y})=>s.a.createElement("svg",Ys({viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},y),s.a.createElement("path",{d:"M12.936 0l5 4.5v14.003h-4.503L14.936 17h-10l1.503 1.503H1.936V0h11zm-9.5 1.5v15.504h12.996V5.208L12.21 1.516 3.436 1.5z"}),s.a.createElement("path",{d:"M12.799 1.5l-.001 2.774h3.645v1.5h-5.144V1.5zM9.675 18.859l-.085-.072-4.086-3.978 1.047-1.075L9 16.119V9h2v7.273l2.473-2.526 1.072 1.049-3.896 3.979a.75.75 0 01-.974.084z"}));function rs(){return(rs=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}var is=({styles:A={},...y})=>s.a.createElement("svg",rs({viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},y),s.a.createElement("path",{d:"M3.144 15.748l2.002 1.402-1.976.516-.026-1.918zM2.438 3.391l15.346 11.023-.875 1.218-5.202-3.736-2.877 4.286.006.005-3.055.797-2.646-1.852-.04-2.95-.006-.005.006-.008v-.025l.01.008L6.02 7.81l-4.457-3.2.876-1.22zM7.25 8.695l-2.13 3.198 3.277 2.294 2.104-3.158-3.25-2.334zM14.002 0l2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158l-2.416 3.599-1.214-.873 2.396-3.593.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349l-.006-.004-2.384 3.575-1.224-.879 2.376-3.539c.674-.932 1.706-1.155 3.096-.668l.046.018.85-1.216z"}));function ko(){return(ko=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}var os=({styles:A={},...y})=>s.a.createElement("svg",ko({viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},y),s.a.createElement("path",{d:"M11.28 1a1 1 0 01.948.684l.333 1 .018.066H16a.75.75 0 01.102 1.493L16 4.25h-.5V16a2 2 0 01-2 2h-8a2 2 0 01-2-2V4.25H3a.75.75 0 01-.102-1.493L3 2.75h3.42a1 1 0 01.019-.066l.333-1A1 1 0 017.721 1h3.558zM14 4.5H5V16a.5.5 0 00.41.492l.09.008h8a.5.5 0 00.492-.41L14 16V4.5zM7.527 6.06v8.951h-1V6.06h1zm5 0v8.951h-1V6.06h1zM10 6.06v8.951H9V6.06h1z"}));function fi(){return(fi=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}var Qa=({styles:A={},...y})=>s.a.createElement("svg",fi({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},y),s.a.createElement("path",{d:"M2.284 2.498c-.239.266-.184.617-.184 1.002V4H2a.5.5 0 00-.492.41L1.5 4.5V17a1 1 0 00.883.993L2.5 18h10a1 1 0 00.97-.752l-.081-.062c.438.368.976.54 1.507.526a2.5 2.5 0 01-2.232 1.783l-.164.005h-10a2.5 2.5 0 01-2.495-2.336L0 17V4.5a2 2 0 011.85-1.995L2 2.5l.284-.002zm10.532 0L13 2.5a2 2 0 011.995 1.85L15 4.5v2.28a2.243 2.243 0 00-1.5.404V4.5a.5.5 0 00-.41-.492L13 4v-.5l-.007-.144c-.031-.329.032-.626-.177-.858z"}),s.a.createElement("path",{d:"M6 .49l-.144.006a1.75 1.75 0 00-1.41.94l-.029.058.083-.004c-.69 0-1.25.56-1.25 1.25v1c0 .69.56 1.25 1.25 1.25h6c.69 0 1.25-.56 1.25-1.25v-1l-.006-.128a1.25 1.25 0 00-1.116-1.116l-.046-.002-.027-.058A1.75 1.75 0 009 .49H6zm0 1.5h3a.25.25 0 01.25.25l.007.102A.75.75 0 0010 2.99h.25v.5h-5.5v-.5H5a.75.75 0 00.743-.648l.007-.102A.25.25 0 016 1.99zm9.374 6.55a.75.75 0 01-.093 1.056l-2.33 1.954h6.127a.75.75 0 010 1.501h-5.949l2.19 1.837a.75.75 0 11-.966 1.15l-3.788-3.18a.747.747 0 01-.21-.285.75.75 0 01.17-.945l3.792-3.182a.75.75 0 011.057.093z"}));function Ir(){return(Ir=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}var _c=({styles:A={},...y})=>s.a.createElement("svg",Ir({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},y),s.a.createElement("path",{fill:"#4fa800",d:"M6.972 16.615a.997.997 0 01-.744-.292l-4.596-4.596a1 1 0 111.414-1.414l3.926 3.926 9.937-9.937a1 1 0 011.414 1.415L7.717 16.323a.997.997 0 01-.745.292z"}));r(88);class kc extends o.Component{constructor(y){super(y),this.state={isShiftKeyPressed:!1,wasEditorDataJustCopied:!1},this._keyDownHandler=this._handleKeyDown.bind(this),this._keyUpHandler=this._handleKeyUp.bind(this),this._readOnlyHandler=this._handleReadOnly.bind(this),this._editorDataJustCopiedTimeout=null}render(){return s.a.createElement("div",{className:"ck-inspector-editor-quick-actions"},s.a.createElement(jt,{text:"Log editor",icon:s.a.createElement(fr,null),isEnabled:!!this.props.editor,onClick:()=>console.log(this.props.editor)}),this._getLogButton(),s.a.createElement(vc,{editor:this.props.editor}),s.a.createElement(jt,{text:"Toggle read only",icon:s.a.createElement(is,null),isOn:this.props.isReadOnly,isEnabled:!!this.props.editor,onClick:this._readOnlyHandler}),s.a.createElement(jt,{text:"Destroy editor",icon:s.a.createElement(os,null),isEnabled:!!this.props.editor,onClick:()=>{this.props.editor.destroy()}}))}componentDidMount(){document.addEventListener("keydown",this._keyDownHandler),document.addEventListener("keyup",this._keyUpHandler)}componentWillUnmount(){document.removeEventListener("keydown",this._keyDownHandler),document.removeEventListener("keyup",this._keyUpHandler),clearTimeout(this._editorDataJustCopiedTimeout)}_getLogButton(){let y,k;return this.state.wasEditorDataJustCopied?(y=s.a.createElement(_c,null),k="Data copied to clipboard."):(y=this.state.isShiftKeyPressed?s.a.createElement(Qa,null):s.a.createElement(hi,null),k="Log editor data (press with Shift to copy)"),s.a.createElement(jt,{text:k,icon:y,className:this.state.wasEditorDataJustCopied?"ck-inspector-button_data-copied":"",isEnabled:!!this.props.editor,onClick:this._handleLogEditorDataClick.bind(this)})}_handleLogEditorDataClick({shiftKey:y}){y?(wc()(this.props.editor.getData()),this.setState({wasEditorDataJustCopied:!0}),clearTimeout(this._editorDataJustCopiedTimeout),this._editorDataJustCopiedTimeout=setTimeout(()=>{this.setState({wasEditorDataJustCopied:!1})},3e3)):console.log(this.props.editor.getData())}_handleKeyDown({key:y}){this.setState({isShiftKeyPressed:y==="Shift"})}_handleKeyUp(){this.setState({isShiftKeyPressed:!1})}_handleReadOnly(){this.props.editor.isReadOnly?this.props.editor.disableReadOnlyMode("Lock from Inspector (@ckeditor/ckeditor5-inspector)"):this.props.editor.enableReadOnlyMode("Lock from Inspector (@ckeditor/ckeditor5-inspector)")}}var md=Ve(({editors:A,currentEditorName:y,currentEditorGlobals:{isReadOnly:k}})=>({editor:A.get(y),isReadOnly:k}),{})(kc);function Js(){return(Js=Object.assign?Object.assign.bind():function(A){for(var y=1;y<arguments.length;y++){var k=arguments[y];for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(A[T]=k[T])}return A}).apply(this,arguments)}var gd=({styles:A={},...y})=>s.a.createElement("svg",Js({viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},y),s.a.createElement("path",{d:"M17.03 6.47a.75.75 0 01.073.976l-.072.084-6.984 7a.75.75 0 01-.977.073l-.084-.072-7.016-7a.75.75 0 01.976-1.134l.084.072 6.485 6.47 6.454-6.469a.75.75 0 01.977-.073l.084.072z"}));r(37);const Eo={position:"fixed",bottom:"0",left:"0",right:"0",top:"auto"};class Bi extends o.Component{constructor(y){super(y),xc(this.props.height),document.body.style.setProperty("--ck-inspector-collapsed-height","30px"),this.handleInspectorResize=this.handleInspectorResize.bind(this)}handleInspectorResize(y,k,T){const O=T.style.height;this.props.setHeight(O),xc(O)}render(){return this.props.isCollapsed?(document.body.classList.remove("ck-inspector-body-expanded"),document.body.classList.add("ck-inspector-body-collapsed")):(document.body.classList.remove("ck-inspector-body-collapsed"),document.body.classList.add("ck-inspector-body-expanded")),s.a.createElement(mo,{bounds:"window",enableResizing:{top:!this.props.isCollapsed},disableDragging:!0,minHeight:"100",maxHeight:"100%",style:Eo,className:["ck-inspector",this.props.isCollapsed?"ck-inspector_collapsed":""].join(" "),position:{x:0,y:"100%"},size:{width:"100%",height:this.props.isCollapsed?30:this.props.height},onResizeStop:this.handleInspectorResize},s.a.createElement(Ln,{onTabChange:this.props.setActiveTab,contentBefore:s.a.createElement(Qs,{key:"docs"}),activeTab:this.props.activeTab,contentAfter:[s.a.createElement(Kn,{key:"selector"}),s.a.createElement("span",{className:"ck-inspector-separator",key:"separator-a"}),s.a.createElement(md,{key:"quick-actions"}),s.a.createElement("span",{className:"ck-inspector-separator",key:"separator-b"}),s.a.createElement(Xs,{key:"inspector-toggle"})]},s.a.createElement(dd,{label:"Model"}),s.a.createElement(pd,{label:"View"}),s.a.createElement(Zs,{label:"Commands"}),s.a.createElement(Ga,{label:"Schema"})))}componentWillUnmount(){document.body.classList.remove("ck-inspector-body-expanded"),document.body.classList.remove("ck-inspector-body-collapsed")}}var Xa=Ve(({editors:A,currentEditorName:y,ui:{isCollapsed:k,height:T,activeTab:O}})=>({isCollapsed:k,height:T,editors:A,currentEditorName:y,activeTab:O}),{toggleIsCollapsed:pn,setHeight:function(A){return{type:"SET_HEIGHT",newHeight:A}},setEditors:Yt,setCurrentEditorName:jn,setActiveTab:Qt})(Bi);class Qs extends o.Component{render(){return s.a.createElement("a",{className:"ck-inspector-navbox__navigation__logo",title:"Go to the documentation",href:"https://ckeditor.com/docs/ckeditor5/latest/",target:"_blank",rel:"noopener noreferrer"},"CKEditor documentation")}}class Ec extends o.Component{constructor(y){super(y),this.handleShortcut=this.handleShortcut.bind(this)}render(){return s.a.createElement(jt,{text:"Toggle inspector",icon:s.a.createElement(gd,null),onClick:this.props.toggleIsCollapsed,title:"Toggle inspector (Alt+F12)",className:["ck-inspector-navbox__navigation__toggle",this.props.isCollapsed?" ck-inspector-navbox__navigation__toggle_up":""].join(" ")})}componentDidMount(){window.addEventListener("keydown",this.handleShortcut)}componentWillUnmount(){window.removeEventListener("keydown",this.handleShortcut)}handleShortcut(y){(function(k){return k.altKey&&!k.shiftKey&&!k.ctrlKey&&k.key==="F12"})(y)&&this.props.toggleIsCollapsed()}}const Xs=Ve(({ui:{isCollapsed:A}})=>({isCollapsed:A}),{toggleIsCollapsed:pn})(Ec);class ea extends o.Component{render(){return s.a.createElement("div",{className:"ck-inspector-editor-selector",key:"editor-selector"},this.props.currentEditorName?s.a.createElement(Un,{id:"inspector-editor-selector",label:"Instance",value:this.props.currentEditorName,options:[...this.props.editors].map(([y])=>y),onChange:y=>this.props.setCurrentEditorName(y.target.value)}):"")}}const Kn=Ve(({currentEditorName:A,editors:y})=>({currentEditorName:A,editors:y}),{setCurrentEditorName:jn})(ea);function xc(A){document.body.style.setProperty("--ck-inspector-height",A)}r(90),window.CKEDITOR_INSPECTOR_VERSION="4.1.0";class tt{constructor(){un.a.warn("[CKEditorInspector] Whoops! Looks like you tried to create an instance of the CKEditorInspector class. To attach the inspector, use the static CKEditorInspector.attach( editor ) method instead. For the latest API, please refer to https://github.com/ckeditor/ckeditor5-inspector/blob/master/README.md. ")}static attach(...y){const{CKEDITOR_VERSION:k}=window;if(k){const[I]=k.split(".").map(Number);I<34&&un.a.warn("[CKEditorInspector] The inspector requires using CKEditor 5 in version 34 or higher. If you cannot update CKEditor 5, consider downgrading the major version of the inspector to version 3.")}else un.a.warn("[CKEditorInspector] Could not determine a version of CKEditor 5. Some of the functionalities may not work as expected.");const{editors:T,options:O}=Object(Ar.c)(y);for(const I in T){const W=T[I];un.a.group("%cAttached the inspector to a CKEditor 5 instance. To learn more, visit https://ckeditor.com/docs/ckeditor5.","font-weight: bold;"),un.a.log(`Editor instance "${I}"`,W),un.a.groupEnd(),tt._editors.set(I,W),W.on("destroy",()=>{tt.detach(I)}),tt._mount(O),tt._updateEditorsState()}return Object.keys(T)}static attachToAll(y){const k=document.querySelectorAll(".ck.ck-content.ck-editor__editable"),T=[];for(const O of k){const I=O.ckeditorInstance;I&&!tt._isAttachedTo(I)&&T.push(...tt.attach(I,y))}return T}static detach(y){tt._wrapper&&(tt._editors.delete(y),tt._updateEditorsState())}static destroy(){if(!tt._wrapper)return;u.a.unmountComponentAtNode(tt._wrapper),tt._editors.clear(),tt._wrapper.remove();const y=tt._store.getState(),k=y.editors.get(y.currentEditorName);k&&tt._editorListener.stopListening(k),tt._editorListener=null,tt._wrapper=null,tt._store=null}static _updateEditorsState(){tt._store.dispatch(Yt(tt._editors))}static _mount(y){if(tt._wrapper)return;const k=tt._wrapper=document.createElement("div");let T,O;k.className="ck-inspector-wrapper",document.body.appendChild(k),tt._editorListener=new lo({onModelChange(){const I=tt._store;I.getState().ui.isCollapsed||(I.dispatch({type:"UPDATE_MODEL_STATE"}),I.dispatch({type:"UPDATE_COMMANDS_STATE"}))},onViewRender(){const I=tt._store;I.getState().ui.isCollapsed||I.dispatch({type:"UPDATE_VIEW_STATE"})},onReadOnlyChange(){tt._store.dispatch({type:"UPDATE_CURRENT_EDITOR_IS_READ_ONLY"})}}),tt._store=x(Jo,{editors:tt._editors,currentEditorName:Object(Ar.b)(tt._editors),currentEditorGlobals:{},ui:{isCollapsed:y.isCollapsed}}),tt._store.subscribe(()=>{const I=tt._store.getState(),W=I.editors.get(I.currentEditorName);T!==W&&(T&&tt._editorListener.stopListening(T),W&&tt._editorListener.startListening(W),T=W)}),tt._store.subscribe(()=>{const I=tt._store,W=I.getState().ui.isCollapsed,oe=O&&!W;O=W,oe&&(I.dispatch({type:"UPDATE_MODEL_STATE"}),I.dispatch({type:"UPDATE_COMMANDS_STATE"}),I.dispatch({type:"UPDATE_VIEW_STATE"}))}),u.a.render(s.a.createElement(U,{store:tt._store},s.a.createElement(Xa,null)),k)}static _isAttachedTo(y){return[...tt._editors.values()].includes(y)}}tt._editors=new Map,tt._wrapper=null}]).default})})(Hw);var k4=Hw.exports;const E4=nA(k4);class x4 extends lt{static get requires(){return[P4,T4]}}class C4 extends Qn{execute({value:n}){const e=this.editor,t=e.model.document.selection;e.model.change(r=>{const o=r.createElement("placeholder",{...Object.fromEntries(t.getAttributes()),name:n});e.model.insertObject(o,null,null,{setSelection:"on"})})}refresh(){const n=this.editor.model,e=n.document.selection,t=n.schema.checkChild(e.focus.parent,"placeholder");this.isEnabled=t}}class T4 extends lt{init(){const n=this.editor,e=n.t,t=n.config.get("placeholderConfig.types");n.ui.componentFactory.add("placeholder",r=>{const o=sd(r);dw(o,S4(t)),o.buttonView.set({label:e("Placeholder"),tooltip:!0,withText:!0});const s=n.commands.get("placeholder");return o.bind("isEnabled").to(s),this.listenTo(o,"execute",l=>{n.execute("placeholder",{value:l.source.commandParam}),n.editing.view.focus()}),o})}}function S4(i){const n=new Ko;for(const e of i){const t={type:"button",model:new yw({commandParam:e,label:e,withText:!0})};n.add(t)}return n}class P4 extends lt{static get requires(){return[Pw]}init(){console.log("PlaceholderEditing#init() got called"),this._defineSchema(),this._defineConverters(),this.editor.commands.add("placeholder",new C4(this.editor)),this.editor.editing.mapper.on("viewToModelPosition",EO(this.editor.model,n=>n.hasClass("placeholder"))),this.editor.config.define("placeholderConfig",{types:["date","first name","surname"]})}_defineSchema(){this.editor.model.schema.register("placeholder",{inheritAllFrom:"$inlineObject",allowAttributes:["name"]})}_defineConverters(){const n=this.editor.conversion;n.for("upcast").elementToElement({view:{name:"span",classes:["placeholder"]},model:(t,{writer:r})=>{const o=t.getChild(0).data.slice(1,-1);return r.createElement("placeholder",{name:o})}}),n.for("editingDowncast").elementToElement({model:"placeholder",view:(t,{writer:r})=>{const o=e(t,r);return bO(o,r)}}),n.for("dataDowncast").elementToElement({model:"placeholder",view:(t,{writer:r})=>e(t,r)});function e(t,r){const o=t.getAttribute("name"),s=r.createContainerElement("span",{class:"placeholder"}),l=r.createText("{"+o+"}");return r.insert(r.createPositionAt(s,0),l),s}}}i7.create(document.querySelector("#editor"),{plugins:[y7,Wu,T7,e4,nO,sO,x4],toolbar:["heading","|","bold","italic","numberedList","bulletedList","|","placeholder"],placeholderConfig:{types:["date","color","first name","surname"]}}).then(i=>{console.log("Editor was initialized",i),E4.attach({editor:i}),window.editor=i}).catch(i=>{console.error(i.stack)})});export default A4();
